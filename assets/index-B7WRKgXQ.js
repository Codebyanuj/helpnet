function UC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function FC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v0={exports:{}},dc={},y0={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=Symbol.for("react.element"),BC=Symbol.for("react.portal"),zC=Symbol.for("react.fragment"),$C=Symbol.for("react.strict_mode"),WC=Symbol.for("react.profiler"),HC=Symbol.for("react.provider"),qC=Symbol.for("react.context"),GC=Symbol.for("react.forward_ref"),KC=Symbol.for("react.suspense"),QC=Symbol.for("react.memo"),YC=Symbol.for("react.lazy"),Wg=Symbol.iterator;function ZC(t){return t===null||typeof t!="object"?null:(t=Wg&&t[Wg]||t["@@iterator"],typeof t=="function"?t:null)}var _0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w0=Object.assign,E0={};function so(t,e,n){this.props=t,this.context=e,this.refs=E0,this.updater=n||_0}so.prototype.isReactComponent={};so.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};so.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x0(){}x0.prototype=so.prototype;function gf(t,e,n){this.props=t,this.context=e,this.refs=E0,this.updater=n||_0}var mf=gf.prototype=new x0;mf.constructor=gf;w0(mf,so.prototype);mf.isPureReactComponent=!0;var Hg=Array.isArray,C0=Object.prototype.hasOwnProperty,vf={current:null},S0={key:!0,ref:!0,__self:!0,__source:!0};function I0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)C0.call(e,r)&&!S0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ga,type:t,key:s,ref:o,props:i,_owner:vf.current}}function JC(t,e){return{$$typeof:Ga,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ga}function XC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qg=/\/+/g;function sd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XC(""+t.key):e.toString(36)}function Xl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ga:case BC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sd(o,0):r,Hg(i)?(n="",t!=null&&(n=t.replace(qg,"$&/")+"/"),Xl(i,e,n,"",function(c){return c})):i!=null&&(yf(i)&&(i=JC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(qg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Hg(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+sd(s,a);o+=Xl(s,e,n,u,i)}else if(u=ZC(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+sd(s,a++),o+=Xl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bl(t,e,n){if(t==null)return t;var r=[],i=0;return Xl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function eS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},eu={transition:null},tS={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:eu,ReactCurrentOwner:vf};function T0(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:bl,forEach:function(t,e,n){bl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bl(t,function(){e++}),e},toArray:function(t){return bl(t,function(e){return e})||[]},only:function(t){if(!yf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=so;Te.Fragment=zC;Te.Profiler=WC;Te.PureComponent=gf;Te.StrictMode=$C;Te.Suspense=KC;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tS;Te.act=T0;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=w0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)C0.call(e,u)&&!S0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ga,type:t.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:qC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HC,_context:t},t.Consumer=t};Te.createElement=I0;Te.createFactory=function(t){var e=I0.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:GC,render:t}};Te.isValidElement=yf;Te.lazy=function(t){return{$$typeof:YC,_payload:{_status:-1,_result:t},_init:eS}};Te.memo=function(t,e){return{$$typeof:QC,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=eu.transition;eu.transition={};try{t()}finally{eu.transition=e}};Te.unstable_act=T0;Te.useCallback=function(t,e){return qt.current.useCallback(t,e)};Te.useContext=function(t){return qt.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};Te.useEffect=function(t,e){return qt.current.useEffect(t,e)};Te.useId=function(){return qt.current.useId()};Te.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return qt.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};Te.useRef=function(t){return qt.current.useRef(t)};Te.useState=function(t){return qt.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return qt.current.useTransition()};Te.version="18.3.1";y0.exports=Te;var h=y0.exports;const k0=FC(h),nS=UC({__proto__:null,default:k0},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS=h,iS=Symbol.for("react.element"),sS=Symbol.for("react.fragment"),oS=Object.prototype.hasOwnProperty,aS=rS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lS={key:!0,ref:!0,__self:!0,__source:!0};function L0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)oS.call(e,r)&&!lS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iS,type:t,key:s,ref:o,props:i,_owner:aS.current}}dc.Fragment=sS;dc.jsx=L0;dc.jsxs=L0;v0.exports=dc;var d=v0.exports,qd={},b0={exports:{}},dn={},P0={exports:{}},A0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,q){var H=F.length;F.push(q);e:for(;0<H;){var Q=H-1>>>1,ne=F[Q];if(0<i(ne,q))F[Q]=q,F[H]=ne,H=Q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var q=F[0],H=F.pop();if(H!==q){F[0]=H;e:for(var Q=0,ne=F.length,ue=ne>>>1;Q<ue;){var _e=2*(Q+1)-1,Ee=F[_e],U=_e+1,xe=F[U];if(0>i(Ee,H))U<ne&&0>i(xe,Ee)?(F[Q]=xe,F[U]=H,Q=U):(F[Q]=Ee,F[_e]=H,Q=_e);else if(U<ne&&0>i(xe,H))F[Q]=xe,F[U]=H,Q=U;else break e}}return q}function i(F,q){var H=F.sortIndex-q.sortIndex;return H!==0?H:F.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,g=null,m=3,_=!1,L=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=F)r(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(c)}}function P(F){if(k=!1,E(F),!L)if(n(u)!==null)L=!0,ee(D);else{var q=n(c);q!==null&&G(P,q.startTime-F)}}function D(F,q){L=!1,k&&(k=!1,I(y),y=-1),_=!0;var H=m;try{for(E(q),g=n(u);g!==null&&(!(g.expirationTime>q)||F&&!R());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,m=g.priorityLevel;var ne=Q(g.expirationTime<=q);q=t.unstable_now(),typeof ne=="function"?g.callback=ne:g===n(u)&&r(u),E(q)}else r(u);g=n(u)}if(g!==null)var ue=!0;else{var _e=n(c);_e!==null&&G(P,_e.startTime-q),ue=!1}return ue}finally{g=null,m=H,_=!1}}var M=!1,w=null,y=-1,S=5,C=-1;function R(){return!(t.unstable_now()-C<S)}function N(){if(w!==null){var F=t.unstable_now();C=F;var q=!0;try{q=w(!0,F)}finally{q?b():(M=!1,w=null)}}else M=!1}var b;if(typeof x=="function")b=function(){x(N)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,X=K.port2;K.port1.onmessage=N,b=function(){X.postMessage(null)}}else b=function(){A(N,0)};function ee(F){w=F,M||(M=!0,b())}function G(F,q){y=A(function(){F(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){L||_||(L=!0,ee(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var H=m;m=q;try{return F()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=m;m=F;try{return q()}finally{m=H}},t.unstable_scheduleCallback=function(F,q,H){var Q=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Q+H:Q):H=Q,F){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=H+ne,F={id:f++,callback:q,priorityLevel:F,startTime:H,expirationTime:ne,sortIndex:-1},H>Q?(F.sortIndex=H,e(c,F),n(u)===null&&F===n(c)&&(k?(I(y),y=-1):k=!0,G(P,H-Q))):(F.sortIndex=ne,e(u,F),L||_||(L=!0,ee(D))),F},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(F){var q=m;return function(){var H=m;m=q;try{return F.apply(this,arguments)}finally{m=H}}}})(A0);P0.exports=A0;var uS=P0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS=h,cn=uS;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R0=new Set,ma={};function Ji(t,e){Ws(t,e),Ws(t+"Capture",e)}function Ws(t,e){for(ma[t]=e,t=0;t<e.length;t++)R0.add(e[t])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gd=Object.prototype.hasOwnProperty,dS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gg={},Kg={};function hS(t){return Gd.call(Kg,t)?!0:Gd.call(Gg,t)?!1:dS.test(t)?Kg[t]=!0:(Gg[t]=!0,!1)}function fS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pS(t,e,n,r){if(e===null||typeof e>"u"||fS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var _f=/[\-:]([a-z])/g;function wf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_f,wf);Pt[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_f,wf);Pt[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_f,wf);Pt[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ef(t,e,n,r){var i=Pt.hasOwnProperty(e)?Pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pS(e,n,i,r)&&(n=null),r||i===null?hS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pr=cS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pl=Symbol.for("react.element"),Es=Symbol.for("react.portal"),xs=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),Kd=Symbol.for("react.profiler"),N0=Symbol.for("react.provider"),M0=Symbol.for("react.context"),Cf=Symbol.for("react.forward_ref"),Qd=Symbol.for("react.suspense"),Yd=Symbol.for("react.suspense_list"),Sf=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),D0=Symbol.for("react.offscreen"),Qg=Symbol.iterator;function No(t){return t===null||typeof t!="object"?null:(t=Qg&&t[Qg]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,od;function Ho(t){if(od===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);od=e&&e[1]||""}return`
`+od+t}var ad=!1;function ld(t,e){if(!t||ad)return"";ad=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{ad=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ho(t):""}function gS(t){switch(t.tag){case 5:return Ho(t.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 2:case 15:return t=ld(t.type,!1),t;case 11:return t=ld(t.type.render,!1),t;case 1:return t=ld(t.type,!0),t;default:return""}}function Zd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xs:return"Fragment";case Es:return"Portal";case Kd:return"Profiler";case xf:return"StrictMode";case Qd:return"Suspense";case Yd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M0:return(t.displayName||"Context")+".Consumer";case N0:return(t._context.displayName||"Context")+".Provider";case Cf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sf:return e=t.displayName||null,e!==null?e:Zd(t.type)||"Memo";case Ar:e=t._payload,t=t._init;try{return Zd(t(e))}catch{}}return null}function mS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zd(e);case 8:return e===xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ii(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vS(t){var e=O0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Al(t){t._valueTracker||(t._valueTracker=vS(t))}function j0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=O0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Eu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jd(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ii(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V0(t,e){e=e.checked,e!=null&&Ef(t,"checked",e,!1)}function Xd(t,e){V0(t,e);var n=ii(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eh(t,e.type,n):e.hasOwnProperty("defaultValue")&&eh(t,e.type,ii(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eh(t,e,n){(e!=="number"||Eu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qo=Array.isArray;function Ms(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ii(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function th(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(qo(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ii(n)}}function U0(t,e){var n=ii(e.value),r=ii(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rl,B0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function va(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yS=["Webkit","ms","Moz","O"];Object.keys(ta).forEach(function(t){yS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ta[e]=ta[t]})});function z0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ta.hasOwnProperty(t)&&ta[t]?(""+e).trim():e+"px"}function $0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=z0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _S=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rh(t,e){if(e){if(_S[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function ih(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=null;function If(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oh=null,Ds=null,Os=null;function em(t){if(t=Ya(t)){if(typeof oh!="function")throw Error($(280));var e=t.stateNode;e&&(e=mc(e),oh(t.stateNode,t.type,e))}}function W0(t){Ds?Os?Os.push(t):Os=[t]:Ds=t}function H0(){if(Ds){var t=Ds,e=Os;if(Os=Ds=null,em(t),e)for(t=0;t<e.length;t++)em(e[t])}}function q0(t,e){return t(e)}function G0(){}var ud=!1;function K0(t,e,n){if(ud)return t(e,n);ud=!0;try{return q0(t,e,n)}finally{ud=!1,(Ds!==null||Os!==null)&&(G0(),H0())}}function ya(t,e){var n=t.stateNode;if(n===null)return null;var r=mc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var ah=!1;if(ar)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){ah=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{ah=!1}function wS(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var na=!1,xu=null,Cu=!1,lh=null,ES={onError:function(t){na=!0,xu=t}};function xS(t,e,n,r,i,s,o,a,u){na=!1,xu=null,wS.apply(ES,arguments)}function CS(t,e,n,r,i,s,o,a,u){if(xS.apply(this,arguments),na){if(na){var c=xu;na=!1,xu=null}else throw Error($(198));Cu||(Cu=!0,lh=c)}}function Xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Q0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tm(t){if(Xi(t)!==t)throw Error($(188))}function SS(t){var e=t.alternate;if(!e){if(e=Xi(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return tm(i),t;if(s===r)return tm(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function Y0(t){return t=SS(t),t!==null?Z0(t):null}function Z0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z0(t);if(e!==null)return e;t=t.sibling}return null}var J0=cn.unstable_scheduleCallback,nm=cn.unstable_cancelCallback,IS=cn.unstable_shouldYield,TS=cn.unstable_requestPaint,ot=cn.unstable_now,kS=cn.unstable_getCurrentPriorityLevel,Tf=cn.unstable_ImmediatePriority,X0=cn.unstable_UserBlockingPriority,Su=cn.unstable_NormalPriority,LS=cn.unstable_LowPriority,e_=cn.unstable_IdlePriority,hc=null,Bn=null;function bS(t){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(hc,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:RS,PS=Math.log,AS=Math.LN2;function RS(t){return t>>>=0,t===0?32:31-(PS(t)/AS|0)|0}var Nl=64,Ml=4194304;function Go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Iu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Go(a):(s&=o,s!==0&&(r=Go(s)))}else o=n&~i,o!==0?r=Go(o):s!==0&&(r=Go(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),i=1<<n,r|=t[n],e&=~i;return r}function NS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-bn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=NS(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function uh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function t_(){var t=Nl;return Nl<<=1,!(Nl&4194240)&&(Nl=64),t}function cd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ka(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function DS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-bn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function kf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function n_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var r_,Lf,i_,s_,o_,ch=!1,Dl=[],Hr=null,qr=null,Gr=null,_a=new Map,wa=new Map,Mr=[],OS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rm(t,e){switch(t){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":_a.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wa.delete(e.pointerId)}}function Do(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ya(e),e!==null&&Lf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jS(t,e,n,r,i){switch(e){case"focusin":return Hr=Do(Hr,t,e,n,r,i),!0;case"dragenter":return qr=Do(qr,t,e,n,r,i),!0;case"mouseover":return Gr=Do(Gr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _a.set(s,Do(_a.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wa.set(s,Do(wa.get(s)||null,t,e,n,r,i)),!0}return!1}function a_(t){var e=Ai(t.target);if(e!==null){var n=Xi(e);if(n!==null){if(e=n.tag,e===13){if(e=Q0(n),e!==null){t.blockedOn=e,o_(t.priority,function(){i_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sh=r,n.target.dispatchEvent(r),sh=null}else return e=Ya(n),e!==null&&Lf(e),t.blockedOn=n,!1;e.shift()}return!0}function im(t,e,n){tu(t)&&n.delete(e)}function VS(){ch=!1,Hr!==null&&tu(Hr)&&(Hr=null),qr!==null&&tu(qr)&&(qr=null),Gr!==null&&tu(Gr)&&(Gr=null),_a.forEach(im),wa.forEach(im)}function Oo(t,e){t.blockedOn===e&&(t.blockedOn=null,ch||(ch=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,VS)))}function Ea(t){function e(i){return Oo(i,t)}if(0<Dl.length){Oo(Dl[0],t);for(var n=1;n<Dl.length;n++){var r=Dl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hr!==null&&Oo(Hr,t),qr!==null&&Oo(qr,t),Gr!==null&&Oo(Gr,t),_a.forEach(e),wa.forEach(e),n=0;n<Mr.length;n++)r=Mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mr.length&&(n=Mr[0],n.blockedOn===null);)a_(n),n.blockedOn===null&&Mr.shift()}var js=pr.ReactCurrentBatchConfig,Tu=!0;function US(t,e,n,r){var i=je,s=js.transition;js.transition=null;try{je=1,bf(t,e,n,r)}finally{je=i,js.transition=s}}function FS(t,e,n,r){var i=je,s=js.transition;js.transition=null;try{je=4,bf(t,e,n,r)}finally{je=i,js.transition=s}}function bf(t,e,n,r){if(Tu){var i=dh(t,e,n,r);if(i===null)wd(t,e,r,ku,n),rm(t,r);else if(jS(i,t,e,n,r))r.stopPropagation();else if(rm(t,r),e&4&&-1<OS.indexOf(t)){for(;i!==null;){var s=Ya(i);if(s!==null&&r_(s),s=dh(t,e,n,r),s===null&&wd(t,e,r,ku,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wd(t,e,r,null,n)}}var ku=null;function dh(t,e,n,r){if(ku=null,t=If(r),t=Ai(t),t!==null)if(e=Xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Q0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ku=t,null}function l_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kS()){case Tf:return 1;case X0:return 4;case Su:case LS:return 16;case e_:return 536870912;default:return 16}default:return 16}}var Ur=null,Pf=null,nu=null;function u_(){if(nu)return nu;var t,e=Pf,n=e.length,r,i="value"in Ur?Ur.value:Ur.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return nu=i.slice(t,1<r?1-r:void 0)}function ru(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ol(){return!0}function sm(){return!1}function hn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ol:sm,this.isPropagationStopped=sm,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),e}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=hn(oo),Qa=nt({},oo,{view:0,detail:0}),BS=hn(Qa),dd,hd,jo,fc=nt({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jo&&(jo&&t.type==="mousemove"?(dd=t.screenX-jo.screenX,hd=t.screenY-jo.screenY):hd=dd=0,jo=t),dd)},movementY:function(t){return"movementY"in t?t.movementY:hd}}),om=hn(fc),zS=nt({},fc,{dataTransfer:0}),$S=hn(zS),WS=nt({},Qa,{relatedTarget:0}),fd=hn(WS),HS=nt({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),qS=hn(HS),GS=nt({},oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KS=hn(GS),QS=nt({},oo,{data:0}),am=hn(QS),YS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JS[t])?!!e[t]:!1}function Rf(){return XS}var e1=nt({},Qa,{key:function(t){if(t.key){var e=YS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ru(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(t){return t.type==="keypress"?ru(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ru(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),t1=hn(e1),n1=nt({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lm=hn(n1),r1=nt({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),i1=hn(r1),s1=nt({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),o1=hn(s1),a1=nt({},fc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),l1=hn(a1),u1=[9,13,27,32],Nf=ar&&"CompositionEvent"in window,ra=null;ar&&"documentMode"in document&&(ra=document.documentMode);var c1=ar&&"TextEvent"in window&&!ra,c_=ar&&(!Nf||ra&&8<ra&&11>=ra),um=" ",cm=!1;function d_(t,e){switch(t){case"keyup":return u1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cs=!1;function d1(t,e){switch(t){case"compositionend":return h_(e);case"keypress":return e.which!==32?null:(cm=!0,um);case"textInput":return t=e.data,t===um&&cm?null:t;default:return null}}function h1(t,e){if(Cs)return t==="compositionend"||!Nf&&d_(t,e)?(t=u_(),nu=Pf=Ur=null,Cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c_&&e.locale!=="ko"?null:e.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!f1[t.type]:e==="textarea"}function f_(t,e,n,r){W0(r),e=Lu(e,"onChange"),0<e.length&&(n=new Af("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ia=null,xa=null;function p1(t){S_(t,0)}function pc(t){var e=Ts(t);if(j0(e))return t}function g1(t,e){if(t==="change")return e}var p_=!1;if(ar){var pd;if(ar){var gd="oninput"in document;if(!gd){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),gd=typeof hm.oninput=="function"}pd=gd}else pd=!1;p_=pd&&(!document.documentMode||9<document.documentMode)}function fm(){ia&&(ia.detachEvent("onpropertychange",g_),xa=ia=null)}function g_(t){if(t.propertyName==="value"&&pc(xa)){var e=[];f_(e,xa,t,If(t)),K0(p1,e)}}function m1(t,e,n){t==="focusin"?(fm(),ia=e,xa=n,ia.attachEvent("onpropertychange",g_)):t==="focusout"&&fm()}function v1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pc(xa)}function y1(t,e){if(t==="click")return pc(e)}function _1(t,e){if(t==="input"||t==="change")return pc(e)}function w1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:w1;function Ca(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gd.call(e,i)||!Nn(t[i],e[i]))return!1}return!0}function pm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gm(t,e){var n=pm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pm(n)}}function m_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v_(){for(var t=window,e=Eu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Eu(t.document)}return e}function Mf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function E1(t){var e=v_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m_(n.ownerDocument.documentElement,n)){if(r!==null&&Mf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=gm(n,s);var o=gm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var x1=ar&&"documentMode"in document&&11>=document.documentMode,Ss=null,hh=null,sa=null,fh=!1;function mm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fh||Ss==null||Ss!==Eu(r)||(r=Ss,"selectionStart"in r&&Mf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sa&&Ca(sa,r)||(sa=r,r=Lu(hh,"onSelect"),0<r.length&&(e=new Af("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ss)))}function jl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Is={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},md={},y_={};ar&&(y_=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function gc(t){if(md[t])return md[t];if(!Is[t])return t;var e=Is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in y_)return md[t]=e[n];return t}var __=gc("animationend"),w_=gc("animationiteration"),E_=gc("animationstart"),x_=gc("transitionend"),C_=new Map,vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(t,e){C_.set(t,e),Ji(e,[t])}for(var vd=0;vd<vm.length;vd++){var yd=vm[vd],C1=yd.toLowerCase(),S1=yd[0].toUpperCase()+yd.slice(1);ui(C1,"on"+S1)}ui(__,"onAnimationEnd");ui(w_,"onAnimationIteration");ui(E_,"onAnimationStart");ui("dblclick","onDoubleClick");ui("focusin","onFocus");ui("focusout","onBlur");ui(x_,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ko));function ym(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CS(r,e,void 0,t),t.currentTarget=null}function S_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;ym(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;ym(i,a,c),s=u}}}if(Cu)throw t=lh,Cu=!1,lh=null,t}function Ge(t,e){var n=e[yh];n===void 0&&(n=e[yh]=new Set);var r=t+"__bubble";n.has(r)||(I_(e,t,2,!1),n.add(r))}function _d(t,e,n){var r=0;e&&(r|=4),I_(n,t,r,e)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function Sa(t){if(!t[Vl]){t[Vl]=!0,R0.forEach(function(n){n!=="selectionchange"&&(I1.has(n)||_d(n,!1,t),_d(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vl]||(e[Vl]=!0,_d("selectionchange",!1,e))}}function I_(t,e,n,r){switch(l_(e)){case 1:var i=US;break;case 4:i=FS;break;default:i=bf}n=i.bind(null,e,n,t),i=void 0,!ah||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ai(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}K0(function(){var c=s,f=If(n),g=[];e:{var m=C_.get(t);if(m!==void 0){var _=Af,L=t;switch(t){case"keypress":if(ru(n)===0)break e;case"keydown":case"keyup":_=t1;break;case"focusin":L="focus",_=fd;break;case"focusout":L="blur",_=fd;break;case"beforeblur":case"afterblur":_=fd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=$S;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=i1;break;case __:case w_:case E_:_=qS;break;case x_:_=o1;break;case"scroll":_=BS;break;case"wheel":_=l1;break;case"copy":case"cut":case"paste":_=KS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=lm}var k=(e&4)!==0,A=!k&&t==="scroll",I=k?m!==null?m+"Capture":null:m;k=[];for(var x=c,E;x!==null;){E=x;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,I!==null&&(P=ya(x,I),P!=null&&k.push(Ia(x,P,E)))),A)break;x=x.return}0<k.length&&(m=new _(m,L,null,n,f),g.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==sh&&(L=n.relatedTarget||n.fromElement)&&(Ai(L)||L[lr]))break e;if((_||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,_?(L=n.relatedTarget||n.toElement,_=c,L=L?Ai(L):null,L!==null&&(A=Xi(L),L!==A||L.tag!==5&&L.tag!==6)&&(L=null)):(_=null,L=c),_!==L)){if(k=om,P="onMouseLeave",I="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(k=lm,P="onPointerLeave",I="onPointerEnter",x="pointer"),A=_==null?m:Ts(_),E=L==null?m:Ts(L),m=new k(P,x+"leave",_,n,f),m.target=A,m.relatedTarget=E,P=null,Ai(f)===c&&(k=new k(I,x+"enter",L,n,f),k.target=E,k.relatedTarget=A,P=k),A=P,_&&L)t:{for(k=_,I=L,x=0,E=k;E;E=ms(E))x++;for(E=0,P=I;P;P=ms(P))E++;for(;0<x-E;)k=ms(k),x--;for(;0<E-x;)I=ms(I),E--;for(;x--;){if(k===I||I!==null&&k===I.alternate)break t;k=ms(k),I=ms(I)}k=null}else k=null;_!==null&&_m(g,m,_,k,!1),L!==null&&A!==null&&_m(g,A,L,k,!0)}}e:{if(m=c?Ts(c):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var D=g1;else if(dm(m))if(p_)D=_1;else{D=v1;var M=m1}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=y1);if(D&&(D=D(t,c))){f_(g,D,n,f);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&eh(m,"number",m.value)}switch(M=c?Ts(c):window,t){case"focusin":(dm(M)||M.contentEditable==="true")&&(Ss=M,hh=c,sa=null);break;case"focusout":sa=hh=Ss=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,mm(g,n,f);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":mm(g,n,f)}var w;if(Nf)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Cs?d_(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(c_&&n.locale!=="ko"&&(Cs||y!=="onCompositionStart"?y==="onCompositionEnd"&&Cs&&(w=u_()):(Ur=f,Pf="value"in Ur?Ur.value:Ur.textContent,Cs=!0)),M=Lu(c,y),0<M.length&&(y=new am(y,t,null,n,f),g.push({event:y,listeners:M}),w?y.data=w:(w=h_(n),w!==null&&(y.data=w)))),(w=c1?d1(t,n):h1(t,n))&&(c=Lu(c,"onBeforeInput"),0<c.length&&(f=new am("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:c}),f.data=w))}S_(g,e)})}function Ia(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ya(t,n),s!=null&&r.unshift(Ia(t,s,i)),s=ya(t,e),s!=null&&r.push(Ia(t,s,i))),t=t.return}return r}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _m(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=ya(n,s),u!=null&&o.unshift(Ia(n,u,a))):i||(u=ya(n,s),u!=null&&o.push(Ia(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var T1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function wm(t){return(typeof t=="string"?t:""+t).replace(T1,`
`).replace(k1,"")}function Ul(t,e,n){if(e=wm(e),wm(t)!==e&&n)throw Error($(425))}function bu(){}var ph=null,gh=null;function mh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,L1=typeof clearTimeout=="function"?clearTimeout:void 0,Em=typeof Promise=="function"?Promise:void 0,b1=typeof queueMicrotask=="function"?queueMicrotask:typeof Em<"u"?function(t){return Em.resolve(null).then(t).catch(P1)}:vh;function P1(t){setTimeout(function(){throw t})}function Ed(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ea(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ea(e)}function Kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Fn="__reactFiber$"+ao,Ta="__reactProps$"+ao,lr="__reactContainer$"+ao,yh="__reactEvents$"+ao,A1="__reactListeners$"+ao,R1="__reactHandles$"+ao;function Ai(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lr]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xm(t);t!==null;){if(n=t[Fn])return n;t=xm(t)}return e}t=n,n=t.parentNode}return null}function Ya(t){return t=t[Fn]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ts(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function mc(t){return t[Ta]||null}var _h=[],ks=-1;function ci(t){return{current:t}}function Qe(t){0>ks||(t.current=_h[ks],_h[ks]=null,ks--)}function We(t,e){ks++,_h[ks]=t.current,t.current=e}var si={},Bt=ci(si),Zt=ci(!1),Ui=si;function Hs(t,e){var n=t.type.contextTypes;if(!n)return si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(t){return t=t.childContextTypes,t!=null}function Pu(){Qe(Zt),Qe(Bt)}function Cm(t,e,n){if(Bt.current!==si)throw Error($(168));We(Bt,e),We(Zt,n)}function T_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,mS(t)||"Unknown",i));return nt({},n,r)}function Au(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||si,Ui=Bt.current,We(Bt,t),We(Zt,Zt.current),!0}function Sm(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=T_(t,e,Ui),r.__reactInternalMemoizedMergedChildContext=t,Qe(Zt),Qe(Bt),We(Bt,t)):Qe(Zt),We(Zt,n)}var Jn=null,vc=!1,xd=!1;function k_(t){Jn===null?Jn=[t]:Jn.push(t)}function N1(t){vc=!0,k_(t)}function di(){if(!xd&&Jn!==null){xd=!0;var t=0,e=je;try{var n=Jn;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jn=null,vc=!1}catch(i){throw Jn!==null&&(Jn=Jn.slice(t+1)),J0(Tf,di),i}finally{je=e,xd=!1}}return null}var Ls=[],bs=0,Ru=null,Nu=0,gn=[],mn=0,Fi=null,Xn=1,er="";function ki(t,e){Ls[bs++]=Nu,Ls[bs++]=Ru,Ru=t,Nu=e}function L_(t,e,n){gn[mn++]=Xn,gn[mn++]=er,gn[mn++]=Fi,Fi=t;var r=Xn;t=er;var i=32-bn(r)-1;r&=~(1<<i),n+=1;var s=32-bn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xn=1<<32-bn(e)+i|n<<i|r,er=s+t}else Xn=1<<s|n<<i|r,er=t}function Df(t){t.return!==null&&(ki(t,1),L_(t,1,0))}function Of(t){for(;t===Ru;)Ru=Ls[--bs],Ls[bs]=null,Nu=Ls[--bs],Ls[bs]=null;for(;t===Fi;)Fi=gn[--mn],gn[mn]=null,er=gn[--mn],gn[mn]=null,Xn=gn[--mn],gn[mn]=null}var ln=null,on=null,Ze=!1,kn=null;function b_(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Im(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,on=Kr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fi!==null?{id:Xn,overflow:er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,on=null,!0):!1;default:return!1}}function wh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Eh(t){if(Ze){var e=on;if(e){var n=e;if(!Im(t,e)){if(wh(t))throw Error($(418));e=Kr(n.nextSibling);var r=ln;e&&Im(t,e)?b_(r,n):(t.flags=t.flags&-4097|2,Ze=!1,ln=t)}}else{if(wh(t))throw Error($(418));t.flags=t.flags&-4097|2,Ze=!1,ln=t}}}function Tm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function Fl(t){if(t!==ln)return!1;if(!Ze)return Tm(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mh(t.type,t.memoizedProps)),e&&(e=on)){if(wh(t))throw P_(),Error($(418));for(;e;)b_(t,e),e=Kr(e.nextSibling)}if(Tm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){on=Kr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}on=null}}else on=ln?Kr(t.stateNode.nextSibling):null;return!0}function P_(){for(var t=on;t;)t=Kr(t.nextSibling)}function qs(){on=ln=null,Ze=!1}function jf(t){kn===null?kn=[t]:kn.push(t)}var M1=pr.ReactCurrentBatchConfig;function Vo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Bl(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function km(t){var e=t._init;return e(t._payload)}function A_(t){function e(I,x){if(t){var E=I.deletions;E===null?(I.deletions=[x],I.flags|=16):E.push(x)}}function n(I,x){if(!t)return null;for(;x!==null;)e(I,x),x=x.sibling;return null}function r(I,x){for(I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function i(I,x){return I=Jr(I,x),I.index=0,I.sibling=null,I}function s(I,x,E){return I.index=E,t?(E=I.alternate,E!==null?(E=E.index,E<x?(I.flags|=2,x):E):(I.flags|=2,x)):(I.flags|=1048576,x)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function a(I,x,E,P){return x===null||x.tag!==6?(x=bd(E,I.mode,P),x.return=I,x):(x=i(x,E),x.return=I,x)}function u(I,x,E,P){var D=E.type;return D===xs?f(I,x,E.props.children,P,E.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ar&&km(D)===x.type)?(P=i(x,E.props),P.ref=Vo(I,x,E),P.return=I,P):(P=cu(E.type,E.key,E.props,null,I.mode,P),P.ref=Vo(I,x,E),P.return=I,P)}function c(I,x,E,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=Pd(E,I.mode,P),x.return=I,x):(x=i(x,E.children||[]),x.return=I,x)}function f(I,x,E,P,D){return x===null||x.tag!==7?(x=ji(E,I.mode,P,D),x.return=I,x):(x=i(x,E),x.return=I,x)}function g(I,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=bd(""+x,I.mode,E),x.return=I,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Pl:return E=cu(x.type,x.key,x.props,null,I.mode,E),E.ref=Vo(I,null,x),E.return=I,E;case Es:return x=Pd(x,I.mode,E),x.return=I,x;case Ar:var P=x._init;return g(I,P(x._payload),E)}if(qo(x)||No(x))return x=ji(x,I.mode,E,null),x.return=I,x;Bl(I,x)}return null}function m(I,x,E,P){var D=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:a(I,x,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pl:return E.key===D?u(I,x,E,P):null;case Es:return E.key===D?c(I,x,E,P):null;case Ar:return D=E._init,m(I,x,D(E._payload),P)}if(qo(E)||No(E))return D!==null?null:f(I,x,E,P,null);Bl(I,E)}return null}function _(I,x,E,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return I=I.get(E)||null,a(x,I,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Pl:return I=I.get(P.key===null?E:P.key)||null,u(x,I,P,D);case Es:return I=I.get(P.key===null?E:P.key)||null,c(x,I,P,D);case Ar:var M=P._init;return _(I,x,E,M(P._payload),D)}if(qo(P)||No(P))return I=I.get(E)||null,f(x,I,P,D,null);Bl(x,P)}return null}function L(I,x,E,P){for(var D=null,M=null,w=x,y=x=0,S=null;w!==null&&y<E.length;y++){w.index>y?(S=w,w=null):S=w.sibling;var C=m(I,w,E[y],P);if(C===null){w===null&&(w=S);break}t&&w&&C.alternate===null&&e(I,w),x=s(C,x,y),M===null?D=C:M.sibling=C,M=C,w=S}if(y===E.length)return n(I,w),Ze&&ki(I,y),D;if(w===null){for(;y<E.length;y++)w=g(I,E[y],P),w!==null&&(x=s(w,x,y),M===null?D=w:M.sibling=w,M=w);return Ze&&ki(I,y),D}for(w=r(I,w);y<E.length;y++)S=_(w,I,y,E[y],P),S!==null&&(t&&S.alternate!==null&&w.delete(S.key===null?y:S.key),x=s(S,x,y),M===null?D=S:M.sibling=S,M=S);return t&&w.forEach(function(R){return e(I,R)}),Ze&&ki(I,y),D}function k(I,x,E,P){var D=No(E);if(typeof D!="function")throw Error($(150));if(E=D.call(E),E==null)throw Error($(151));for(var M=D=null,w=x,y=x=0,S=null,C=E.next();w!==null&&!C.done;y++,C=E.next()){w.index>y?(S=w,w=null):S=w.sibling;var R=m(I,w,C.value,P);if(R===null){w===null&&(w=S);break}t&&w&&R.alternate===null&&e(I,w),x=s(R,x,y),M===null?D=R:M.sibling=R,M=R,w=S}if(C.done)return n(I,w),Ze&&ki(I,y),D;if(w===null){for(;!C.done;y++,C=E.next())C=g(I,C.value,P),C!==null&&(x=s(C,x,y),M===null?D=C:M.sibling=C,M=C);return Ze&&ki(I,y),D}for(w=r(I,w);!C.done;y++,C=E.next())C=_(w,I,y,C.value,P),C!==null&&(t&&C.alternate!==null&&w.delete(C.key===null?y:C.key),x=s(C,x,y),M===null?D=C:M.sibling=C,M=C);return t&&w.forEach(function(N){return e(I,N)}),Ze&&ki(I,y),D}function A(I,x,E,P){if(typeof E=="object"&&E!==null&&E.type===xs&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Pl:e:{for(var D=E.key,M=x;M!==null;){if(M.key===D){if(D=E.type,D===xs){if(M.tag===7){n(I,M.sibling),x=i(M,E.props.children),x.return=I,I=x;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ar&&km(D)===M.type){n(I,M.sibling),x=i(M,E.props),x.ref=Vo(I,M,E),x.return=I,I=x;break e}n(I,M);break}else e(I,M);M=M.sibling}E.type===xs?(x=ji(E.props.children,I.mode,P,E.key),x.return=I,I=x):(P=cu(E.type,E.key,E.props,null,I.mode,P),P.ref=Vo(I,x,E),P.return=I,I=P)}return o(I);case Es:e:{for(M=E.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(I,x.sibling),x=i(x,E.children||[]),x.return=I,I=x;break e}else{n(I,x);break}else e(I,x);x=x.sibling}x=Pd(E,I.mode,P),x.return=I,I=x}return o(I);case Ar:return M=E._init,A(I,x,M(E._payload),P)}if(qo(E))return L(I,x,E,P);if(No(E))return k(I,x,E,P);Bl(I,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(n(I,x.sibling),x=i(x,E),x.return=I,I=x):(n(I,x),x=bd(E,I.mode,P),x.return=I,I=x),o(I)):n(I,x)}return A}var Gs=A_(!0),R_=A_(!1),Mu=ci(null),Du=null,Ps=null,Vf=null;function Uf(){Vf=Ps=Du=null}function Ff(t){var e=Mu.current;Qe(Mu),t._currentValue=e}function xh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vs(t,e){Du=t,Vf=Ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Vf!==t)if(t={context:t,memoizedValue:e,next:null},Ps===null){if(Du===null)throw Error($(308));Ps=t,Du.dependencies={lanes:0,firstContext:t}}else Ps=Ps.next=t;return e}var Ri=null;function Bf(t){Ri===null?Ri=[t]:Ri.push(t)}function N_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Bf(e)):(n.next=i.next,i.next=n),e.interleaved=n,ur(t,r)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rr=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ur(t,n)}return i=r.interleaved,i===null?(e.next=e,Bf(r)):(e.next=i.next,i.next=e),r.interleaved=e,ur(t,n)}function iu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kf(t,n)}}function Lm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ou(t,e,n,r){var i=t.updateQueue;Rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(s!==null){var g=i.baseState;o=0,f=c=u=null,a=s;do{var m=a.lane,_=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var L=t,k=a;switch(m=e,_=n,k.tag){case 1:if(L=k.payload,typeof L=="function"){g=L.call(_,g,m);break e}g=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=k.payload,m=typeof L=="function"?L.call(_,g,m):L,m==null)break e;g=nt({},g,m);break e;case 2:Rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else _={eventTime:_,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=_,u=g):f=f.next=_,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=g),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);zi|=o,t.lanes=o,t.memoizedState=g}}function bm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Za={},zn=ci(Za),ka=ci(Za),La=ci(Za);function Ni(t){if(t===Za)throw Error($(174));return t}function $f(t,e){switch(We(La,e),We(ka,t),We(zn,Za),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nh(e,t)}Qe(zn),We(zn,e)}function Ks(){Qe(zn),Qe(ka),Qe(La)}function D_(t){Ni(La.current);var e=Ni(zn.current),n=nh(e,t.type);e!==n&&(We(ka,t),We(zn,n))}function Wf(t){ka.current===t&&(Qe(zn),Qe(ka))}var et=ci(0);function ju(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cd=[];function Hf(){for(var t=0;t<Cd.length;t++)Cd[t]._workInProgressVersionPrimary=null;Cd.length=0}var su=pr.ReactCurrentDispatcher,Sd=pr.ReactCurrentBatchConfig,Bi=0,tt=null,gt=null,wt=null,Vu=!1,oa=!1,ba=0,D1=0;function Dt(){throw Error($(321))}function qf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function Gf(t,e,n,r,i,s){if(Bi=s,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,su.current=t===null||t.memoizedState===null?U1:F1,t=n(r,i),oa){s=0;do{if(oa=!1,ba=0,25<=s)throw Error($(301));s+=1,wt=gt=null,e.updateQueue=null,su.current=B1,t=n(r,i)}while(oa)}if(su.current=Uu,e=gt!==null&&gt.next!==null,Bi=0,wt=gt=tt=null,Vu=!1,e)throw Error($(300));return t}function Kf(){var t=ba!==0;return ba=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?tt.memoizedState=wt=t:wt=wt.next=t,wt}function En(){if(gt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=wt===null?tt.memoizedState:wt.next;if(e!==null)wt=e,gt=t;else{if(t===null)throw Error($(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},wt===null?tt.memoizedState=wt=t:wt=wt.next=t}return wt}function Pa(t,e){return typeof e=="function"?e(t):e}function Id(t){var e=En(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var f=c.lane;if((Bi&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var g={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=g,o=r):u=u.next=g,tt.lanes|=f,zi|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Nn(r,e.memoizedState)||(Yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,tt.lanes|=s,zi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Td(t){var e=En(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Nn(s,e.memoizedState)||(Yt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function O_(){}function j_(t,e){var n=tt,r=En(),i=e(),s=!Nn(r.memoizedState,i);if(s&&(r.memoizedState=i,Yt=!0),r=r.queue,Qf(F_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Aa(9,U_.bind(null,n,r,i,e),void 0,null),Et===null)throw Error($(349));Bi&30||V_(n,e,i)}return i}function V_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U_(t,e,n,r){e.value=n,e.getSnapshot=r,B_(e)&&z_(t)}function F_(t,e,n){return n(function(){B_(e)&&z_(t)})}function B_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function z_(t){var e=ur(t,1);e!==null&&Pn(e,t,1,-1)}function Pm(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:t},e.queue=t,t=t.dispatch=V1.bind(null,tt,t),[e.memoizedState,t]}function Aa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $_(){return En().memoizedState}function ou(t,e,n,r){var i=Un();tt.flags|=t,i.memoizedState=Aa(1|e,n,void 0,r===void 0?null:r)}function yc(t,e,n,r){var i=En();r=r===void 0?null:r;var s=void 0;if(gt!==null){var o=gt.memoizedState;if(s=o.destroy,r!==null&&qf(r,o.deps)){i.memoizedState=Aa(e,n,s,r);return}}tt.flags|=t,i.memoizedState=Aa(1|e,n,s,r)}function Am(t,e){return ou(8390656,8,t,e)}function Qf(t,e){return yc(2048,8,t,e)}function W_(t,e){return yc(4,2,t,e)}function H_(t,e){return yc(4,4,t,e)}function q_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G_(t,e,n){return n=n!=null?n.concat([t]):null,yc(4,4,q_.bind(null,e,t),n)}function Yf(){}function K_(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Q_(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Y_(t,e,n){return Bi&21?(Nn(n,e)||(n=t_(),tt.lanes|=n,zi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=n)}function O1(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=Sd.transition;Sd.transition={};try{t(!1),e()}finally{je=n,Sd.transition=r}}function Z_(){return En().memoizedState}function j1(t,e,n){var r=Zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J_(t))X_(e,n);else if(n=N_(t,e,n,r),n!==null){var i=Wt();Pn(n,t,r,i),ew(n,e,r)}}function V1(t,e,n){var r=Zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J_(t))X_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Nn(a,o)){var u=e.interleaved;u===null?(i.next=i,Bf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=N_(t,e,i,r),n!==null&&(i=Wt(),Pn(n,t,r,i),ew(n,e,r))}}function J_(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function X_(t,e){oa=Vu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ew(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kf(t,n)}}var Uu={readContext:wn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},U1={readContext:wn,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:Am,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ou(4194308,4,q_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ou(4194308,4,t,e)},useInsertionEffect:function(t,e){return ou(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j1.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:Pm,useDebugValue:Yf,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=Pm(!1),e=t[0];return t=O1.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=Un();if(Ze){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Et===null)throw Error($(349));Bi&30||V_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Am(F_.bind(null,r,s,t),[t]),r.flags|=2048,Aa(9,U_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Un(),e=Et.identifierPrefix;if(Ze){var n=er,r=Xn;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ba++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=D1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},F1={readContext:wn,useCallback:K_,useContext:wn,useEffect:Qf,useImperativeHandle:G_,useInsertionEffect:W_,useLayoutEffect:H_,useMemo:Q_,useReducer:Id,useRef:$_,useState:function(){return Id(Pa)},useDebugValue:Yf,useDeferredValue:function(t){var e=En();return Y_(e,gt.memoizedState,t)},useTransition:function(){var t=Id(Pa)[0],e=En().memoizedState;return[t,e]},useMutableSource:O_,useSyncExternalStore:j_,useId:Z_,unstable_isNewReconciler:!1},B1={readContext:wn,useCallback:K_,useContext:wn,useEffect:Qf,useImperativeHandle:G_,useInsertionEffect:W_,useLayoutEffect:H_,useMemo:Q_,useReducer:Td,useRef:$_,useState:function(){return Td(Pa)},useDebugValue:Yf,useDeferredValue:function(t){var e=En();return gt===null?e.memoizedState=t:Y_(e,gt.memoizedState,t)},useTransition:function(){var t=Td(Pa)[0],e=En().memoizedState;return[t,e]},useMutableSource:O_,useSyncExternalStore:j_,useId:Z_,unstable_isNewReconciler:!1};function In(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ch(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _c={isMounted:function(t){return(t=t._reactInternals)?Xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Zr(t),s=ir(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qr(t,s,i),e!==null&&(Pn(e,t,i,r),iu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Zr(t),s=ir(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qr(t,s,i),e!==null&&(Pn(e,t,i,r),iu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=Zr(t),i=ir(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qr(t,i,r),e!==null&&(Pn(e,t,r,n),iu(e,t,r))}};function Rm(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ca(n,r)||!Ca(i,s):!0}function tw(t,e,n){var r=!1,i=si,s=e.contextType;return typeof s=="object"&&s!==null?s=wn(s):(i=Jt(e)?Ui:Bt.current,r=e.contextTypes,s=(r=r!=null)?Hs(t,i):si),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_c,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Nm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_c.enqueueReplaceState(e,e.state,null)}function Sh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wn(s):(s=Jt(e)?Ui:Bt.current,i.context=Hs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ch(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_c.enqueueReplaceState(i,i.state,null),Ou(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qs(t,e){try{var n="",r=e;do n+=gS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function kd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ih(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var z1=typeof WeakMap=="function"?WeakMap:Map;function nw(t,e,n){n=ir(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bu||(Bu=!0,Dh=r),Ih(t,e)},n}function rw(t,e,n){n=ir(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ih(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ih(t,e),typeof r!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Mm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new z1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nI.bind(null,t,e,n),e.then(t,t))}function Dm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Om(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ir(-1,1),e.tag=2,Qr(n,e,1))),n.lanes|=1),t)}var $1=pr.ReactCurrentOwner,Yt=!1;function $t(t,e,n,r){e.child=t===null?R_(e,null,n,r):Gs(e,t.child,n,r)}function jm(t,e,n,r,i){n=n.render;var s=e.ref;return Vs(e,i),r=Gf(t,e,n,r,s,i),n=Kf(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cr(t,e,i)):(Ze&&n&&Df(e),e.flags|=1,$t(t,e,r,i),e.child)}function Vm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ip(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,iw(t,e,s,r,i)):(t=cu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ca,n(o,r)&&t.ref===e.ref)return cr(t,e,i)}return e.flags|=1,t=Jr(s,r),t.ref=e.ref,t.return=e,e.child=t}function iw(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ca(s,r)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,cr(t,e,i)}return Th(t,e,n,r,i)}function sw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Rs,nn),nn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Rs,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,We(Rs,nn),nn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,We(Rs,nn),nn|=r;return $t(t,e,i,n),e.child}function ow(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Th(t,e,n,r,i){var s=Jt(n)?Ui:Bt.current;return s=Hs(e,s),Vs(e,i),n=Gf(t,e,n,r,s,i),r=Kf(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cr(t,e,i)):(Ze&&r&&Df(e),e.flags|=1,$t(t,e,n,i),e.child)}function Um(t,e,n,r,i){if(Jt(n)){var s=!0;Au(e)}else s=!1;if(Vs(e,i),e.stateNode===null)au(t,e),tw(e,n,r),Sh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wn(c):(c=Jt(n)?Ui:Bt.current,c=Hs(e,c));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Nm(e,o,r,c),Rr=!1;var m=e.memoizedState;o.state=m,Ou(e,r,o,i),u=e.memoizedState,a!==r||m!==u||Zt.current||Rr?(typeof f=="function"&&(Ch(e,n,f,r),u=e.memoizedState),(a=Rr||Rm(e,n,a,r,m,u,c))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,M_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:In(e.type,a),o.props=c,g=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=wn(u):(u=Jt(n)?Ui:Bt.current,u=Hs(e,u));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||m!==u)&&Nm(e,o,r,u),Rr=!1,m=e.memoizedState,o.state=m,Ou(e,r,o,i);var L=e.memoizedState;a!==g||m!==L||Zt.current||Rr?(typeof _=="function"&&(Ch(e,n,_,r),L=e.memoizedState),(c=Rr||Rm(e,n,c,r,m,L,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,L,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,L,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=L),o.props=r,o.state=L,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return kh(t,e,n,r,s,i)}function kh(t,e,n,r,i,s){ow(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Sm(e,n,!1),cr(t,e,s);r=e.stateNode,$1.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gs(e,t.child,null,s),e.child=Gs(e,null,a,s)):$t(t,e,a,s),e.memoizedState=r.state,i&&Sm(e,n,!0),e.child}function aw(t){var e=t.stateNode;e.pendingContext?Cm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cm(t,e.context,!1),$f(t,e.containerInfo)}function Fm(t,e,n,r,i){return qs(),jf(i),e.flags|=256,$t(t,e,n,r),e.child}var Lh={dehydrated:null,treeContext:null,retryLane:0};function bh(t){return{baseLanes:t,cachePool:null,transitions:null}}function lw(t,e,n){var r=e.pendingProps,i=et.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(et,i&1),t===null)return Eh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xc(o,r,0,null),t=ji(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=bh(n),e.memoizedState=Lh,t):Zf(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return W1(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Jr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Jr(a,s):(s=ji(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?bh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Lh,r}return s=t.child,t=s.sibling,r=Jr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zf(t,e){return e=xc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zl(t,e,n,r){return r!==null&&jf(r),Gs(e,t.child,null,n),t=Zf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function W1(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=kd(Error($(422))),zl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=xc({mode:"visible",children:r.children},i,0,null),s=ji(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gs(e,t.child,null,o),e.child.memoizedState=bh(o),e.memoizedState=Lh,s);if(!(e.mode&1))return zl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=kd(s,r,void 0),zl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yt||a){if(r=Et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ur(t,i),Pn(r,t,i,-1))}return rp(),r=kd(Error($(421))),zl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,on=Kr(i.nextSibling),ln=e,Ze=!0,kn=null,t!==null&&(gn[mn++]=Xn,gn[mn++]=er,gn[mn++]=Fi,Xn=t.id,er=t.overflow,Fi=e),e=Zf(e,r.children),e.flags|=4096,e)}function Bm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xh(t.return,e,n)}function Ld(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($t(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bm(t,n,e);else if(t.tag===19)Bm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ju(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ld(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ju(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ld(e,!0,n,null,s);break;case"together":Ld(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function H1(t,e,n){switch(e.tag){case 3:aw(e),qs();break;case 5:D_(e);break;case 1:Jt(e.type)&&Au(e);break;case 4:$f(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;We(Mu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?lw(t,e,n):(We(et,et.current&1),t=cr(t,e,n),t!==null?t.sibling:null);We(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,sw(t,e,n)}return cr(t,e,n)}var cw,Ph,dw,hw;cw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ph=function(){};dw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ni(zn.current);var s=null;switch(n){case"input":i=Jd(t,i),r=Jd(t,r),s=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":i=th(t,i),r=th(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bu)}rh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ma.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ma.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ge("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};hw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uo(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function q1(t,e,n){var r=e.pendingProps;switch(Of(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return Jt(e.type)&&Pu(),Ot(e),null;case 3:return r=e.stateNode,Ks(),Qe(Zt),Qe(Bt),Hf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(Vh(kn),kn=null))),Ph(t,e),Ot(e),null;case 5:Wf(e);var i=Ni(La.current);if(n=e.type,t!==null&&e.stateNode!=null)dw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Ot(e),null}if(t=Ni(zn.current),Fl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fn]=e,r[Ta]=s,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<Ko.length;i++)Ge(Ko[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":Yg(r,s),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",r);break;case"textarea":Jg(r,s),Ge("invalid",r)}rh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ul(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ul(r.textContent,a,t),i=["children",""+a]):ma.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":Al(r),Zg(r,s,!0);break;case"textarea":Al(r),Xg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fn]=e,t[Ta]=r,cw(t,e,!1,!1),e.stateNode=t;e:{switch(o=ih(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ko.length;i++)Ge(Ko[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":Yg(t,r),i=Jd(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":Jg(t,r),i=th(t,r),Ge("invalid",t);break;default:i=r}rh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?$0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&B0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&va(t,u):typeof u=="number"&&va(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ma.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ge("scroll",t):u!=null&&Ef(t,s,u,o))}switch(n){case"input":Al(t),Zg(t,r,!1);break;case"textarea":Al(t),Xg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ii(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ms(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ms(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)hw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Ni(La.current),Ni(zn.current),Fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fn]=e,(s=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:Ul(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ul(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return Ot(e),null;case 13:if(Qe(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&on!==null&&e.mode&1&&!(e.flags&128))P_(),qs(),e.flags|=98560,s=!1;else if(s=Fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Fn]=e}else qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),s=!1}else kn!==null&&(Vh(kn),kn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?mt===0&&(mt=3):rp())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Ks(),Ph(t,e),t===null&&Sa(e.stateNode.containerInfo),Ot(e),null;case 10:return Ff(e.type._context),Ot(e),null;case 17:return Jt(e.type)&&Pu(),Ot(e),null;case 19:if(Qe(et),s=e.memoizedState,s===null)return Ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Uo(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ju(t),o!==null){for(e.flags|=128,Uo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(et,et.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>Ys&&(e.flags|=128,r=!0,Uo(s,!1),e.lanes=4194304)}else{if(!r)if(t=ju(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ze)return Ot(e),null}else 2*ot()-s.renderingStartTime>Ys&&n!==1073741824&&(e.flags|=128,r=!0,Uo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=et.current,We(et,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return np(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function G1(t,e){switch(Of(e),e.tag){case 1:return Jt(e.type)&&Pu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ks(),Qe(Zt),Qe(Bt),Hf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wf(e),null;case 13:if(Qe(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(et),null;case 4:return Ks(),null;case 10:return Ff(e.type._context),null;case 22:case 23:return np(),null;case 24:return null;default:return null}}var $l=!1,Ut=!1,K1=typeof WeakSet=="function"?WeakSet:Set,Y=null;function As(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function Ah(t,e,n){try{n()}catch(r){st(t,e,r)}}var zm=!1;function Q1(t,e){if(ph=Tu,t=v_(),Mf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,f=0,g=t,m=null;t:for(;;){for(var _;g!==n||i!==0&&g.nodeType!==3||(a=o+i),g!==s||r!==0&&g.nodeType!==3||(u=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++f===r&&(u=o),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(gh={focusedElem:t,selectionRange:n},Tu=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var L=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var k=L.memoizedProps,A=L.memoizedState,I=e.stateNode,x=I.getSnapshotBeforeUpdate(e.elementType===e.type?k:In(e.type,k),A);I.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(P){st(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return L=zm,zm=!1,L}function aa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ah(e,n,s)}i=i.next}while(i!==r)}}function wc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Rh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fw(t){var e=t.alternate;e!==null&&(t.alternate=null,fw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[Ta],delete e[yh],delete e[A1],delete e[R1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pw(t){return t.tag===5||t.tag===3||t.tag===4}function $m(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bu));else if(r!==4&&(t=t.child,t!==null))for(Nh(t,e,n),t=t.sibling;t!==null;)Nh(t,e,n),t=t.sibling}function Mh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mh(t,e,n),t=t.sibling;t!==null;)Mh(t,e,n),t=t.sibling}var St=null,Tn=!1;function Lr(t,e,n){for(n=n.child;n!==null;)gw(t,e,n),n=n.sibling}function gw(t,e,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(hc,n)}catch{}switch(n.tag){case 5:Ut||As(n,e);case 6:var r=St,i=Tn;St=null,Lr(t,e,n),St=r,Tn=i,St!==null&&(Tn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Tn?(t=St,n=n.stateNode,t.nodeType===8?Ed(t.parentNode,n):t.nodeType===1&&Ed(t,n),Ea(t)):Ed(St,n.stateNode));break;case 4:r=St,i=Tn,St=n.stateNode.containerInfo,Tn=!0,Lr(t,e,n),St=r,Tn=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ah(n,e,o),i=i.next}while(i!==r)}Lr(t,e,n);break;case 1:if(!Ut&&(As(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Lr(t,e,n),Ut=r):Lr(t,e,n);break;default:Lr(t,e,n)}}function Wm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new K1),e.forEach(function(r){var i=iI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Tn=!1;break e;case 3:St=a.stateNode.containerInfo,Tn=!0;break e;case 4:St=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(St===null)throw Error($(160));gw(s,o,i),St=null,Tn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){st(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mw(e,t),e=e.sibling}function mw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),Vn(t),r&4){try{aa(3,t,t.return),wc(3,t)}catch(k){st(t,t.return,k)}try{aa(5,t,t.return)}catch(k){st(t,t.return,k)}}break;case 1:Sn(e,t),Vn(t),r&512&&n!==null&&As(n,n.return);break;case 5:if(Sn(e,t),Vn(t),r&512&&n!==null&&As(n,n.return),t.flags&32){var i=t.stateNode;try{va(i,"")}catch(k){st(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&V0(i,s),ih(a,o);var c=ih(a,s);for(o=0;o<u.length;o+=2){var f=u[o],g=u[o+1];f==="style"?$0(i,g):f==="dangerouslySetInnerHTML"?B0(i,g):f==="children"?va(i,g):Ef(i,f,g,c)}switch(a){case"input":Xd(i,s);break;case"textarea":U0(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Ms(i,!!s.multiple,_,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ms(i,!!s.multiple,s.defaultValue,!0):Ms(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ta]=s}catch(k){st(t,t.return,k)}}break;case 6:if(Sn(e,t),Vn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){st(t,t.return,k)}}break;case 3:if(Sn(e,t),Vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ea(e.containerInfo)}catch(k){st(t,t.return,k)}break;case 4:Sn(e,t),Vn(t);break;case 13:Sn(e,t),Vn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ep=ot())),r&4&&Wm(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(c=Ut)||f,Sn(e,t),Ut=c):Sn(e,t),Vn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Y=t,f=t.child;f!==null;){for(g=Y=f;Y!==null;){switch(m=Y,_=m.child,m.tag){case 0:case 11:case 14:case 15:aa(4,m,m.return);break;case 1:As(m,m.return);var L=m.stateNode;if(typeof L.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,L.props=e.memoizedProps,L.state=e.memoizedState,L.componentWillUnmount()}catch(k){st(r,n,k)}}break;case 5:As(m,m.return);break;case 22:if(m.memoizedState!==null){qm(g);continue}}_!==null?(_.return=m,Y=_):qm(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,u=g.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=z0("display",o))}catch(k){st(t,t.return,k)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(k){st(t,t.return,k)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Sn(e,t),Vn(t),r&4&&Wm(t);break;case 21:break;default:Sn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pw(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(va(i,""),r.flags&=-33);var s=$m(t);Mh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$m(t);Nh(t,a,o);break;default:throw Error($(161))}}catch(u){st(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y1(t,e,n){Y=t,vw(t)}function vw(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$l;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ut;a=$l;var c=Ut;if($l=o,(Ut=u)&&!c)for(Y=i;Y!==null;)o=Y,u=o.child,o.tag===22&&o.memoizedState!==null?Gm(i):u!==null?(u.return=o,Y=u):Gm(i);for(;s!==null;)Y=s,vw(s),s=s.sibling;Y=i,$l=a,Ut=c}Hm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Hm(t)}}function Hm(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||wc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bm(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&Ea(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ut||e.flags&512&&Rh(e)}catch(m){st(e,e.return,m)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function qm(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Gm(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wc(4,e)}catch(u){st(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){st(e,i,u)}}var s=e.return;try{Rh(e)}catch(u){st(e,s,u)}break;case 5:var o=e.return;try{Rh(e)}catch(u){st(e,o,u)}}}catch(u){st(e,e.return,u)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var Z1=Math.ceil,Fu=pr.ReactCurrentDispatcher,Jf=pr.ReactCurrentOwner,_n=pr.ReactCurrentBatchConfig,Pe=0,Et=null,ht=null,kt=0,nn=0,Rs=ci(0),mt=0,Ra=null,zi=0,Ec=0,Xf=0,la=null,Kt=null,ep=0,Ys=1/0,Zn=null,Bu=!1,Dh=null,Yr=null,Wl=!1,Fr=null,zu=0,ua=0,Oh=null,lu=-1,uu=0;function Wt(){return Pe&6?ot():lu!==-1?lu:lu=ot()}function Zr(t){return t.mode&1?Pe&2&&kt!==0?kt&-kt:M1.transition!==null?(uu===0&&(uu=t_()),uu):(t=je,t!==0||(t=window.event,t=t===void 0?16:l_(t.type)),t):1}function Pn(t,e,n,r){if(50<ua)throw ua=0,Oh=null,Error($(185));Ka(t,n,r),(!(Pe&2)||t!==Et)&&(t===Et&&(!(Pe&2)&&(Ec|=n),mt===4&&Dr(t,kt)),Xt(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Ys=ot()+500,vc&&di()))}function Xt(t,e){var n=t.callbackNode;MS(t,e);var r=Iu(t,t===Et?kt:0);if(r===0)n!==null&&nm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nm(n),e===1)t.tag===0?N1(Km.bind(null,t)):k_(Km.bind(null,t)),b1(function(){!(Pe&6)&&di()}),n=null;else{switch(n_(r)){case 1:n=Tf;break;case 4:n=X0;break;case 16:n=Su;break;case 536870912:n=e_;break;default:n=Su}n=Iw(n,yw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yw(t,e){if(lu=-1,uu=0,Pe&6)throw Error($(327));var n=t.callbackNode;if(Us()&&t.callbackNode!==n)return null;var r=Iu(t,t===Et?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$u(t,r);else{e=r;var i=Pe;Pe|=2;var s=ww();(Et!==t||kt!==e)&&(Zn=null,Ys=ot()+500,Oi(t,e));do try{eI();break}catch(a){_w(t,a)}while(!0);Uf(),Fu.current=s,Pe=i,ht!==null?e=0:(Et=null,kt=0,e=mt)}if(e!==0){if(e===2&&(i=uh(t),i!==0&&(r=i,e=jh(t,i))),e===1)throw n=Ra,Oi(t,0),Dr(t,r),Xt(t,ot()),n;if(e===6)Dr(t,r);else{if(i=t.current.alternate,!(r&30)&&!J1(i)&&(e=$u(t,r),e===2&&(s=uh(t),s!==0&&(r=s,e=jh(t,s))),e===1))throw n=Ra,Oi(t,0),Dr(t,r),Xt(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Li(t,Kt,Zn);break;case 3:if(Dr(t,r),(r&130023424)===r&&(e=ep+500-ot(),10<e)){if(Iu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vh(Li.bind(null,t,Kt,Zn),e);break}Li(t,Kt,Zn);break;case 4:if(Dr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-bn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z1(r/1960))-r,10<r){t.timeoutHandle=vh(Li.bind(null,t,Kt,Zn),r);break}Li(t,Kt,Zn);break;case 5:Li(t,Kt,Zn);break;default:throw Error($(329))}}}return Xt(t,ot()),t.callbackNode===n?yw.bind(null,t):null}function jh(t,e){var n=la;return t.current.memoizedState.isDehydrated&&(Oi(t,e).flags|=256),t=$u(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&Vh(e)),t}function Vh(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function J1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Nn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dr(t,e){for(e&=~Xf,e&=~Ec,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function Km(t){if(Pe&6)throw Error($(327));Us();var e=Iu(t,0);if(!(e&1))return Xt(t,ot()),null;var n=$u(t,e);if(t.tag!==0&&n===2){var r=uh(t);r!==0&&(e=r,n=jh(t,r))}if(n===1)throw n=Ra,Oi(t,0),Dr(t,e),Xt(t,ot()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,Kt,Zn),Xt(t,ot()),null}function tp(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Ys=ot()+500,vc&&di())}}function $i(t){Fr!==null&&Fr.tag===0&&!(Pe&6)&&Us();var e=Pe;Pe|=1;var n=_n.transition,r=je;try{if(_n.transition=null,je=1,t)return t()}finally{je=r,_n.transition=n,Pe=e,!(Pe&6)&&di()}}function np(){nn=Rs.current,Qe(Rs)}function Oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,L1(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Of(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pu();break;case 3:Ks(),Qe(Zt),Qe(Bt),Hf();break;case 5:Wf(r);break;case 4:Ks();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:Ff(r.type._context);break;case 22:case 23:np()}n=n.return}if(Et=t,ht=t=Jr(t.current,null),kt=nn=e,mt=0,Ra=null,Xf=Ec=zi=0,Kt=la=null,Ri!==null){for(e=0;e<Ri.length;e++)if(n=Ri[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ri=null}return t}function _w(t,e){do{var n=ht;try{if(Uf(),su.current=Uu,Vu){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vu=!1}if(Bi=0,wt=gt=tt=null,oa=!1,ba=0,Jf.current=null,n===null||n.return===null){mt=1,Ra=e,ht=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=kt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=Dm(o);if(_!==null){_.flags&=-257,Om(_,o,a,s,e),_.mode&1&&Mm(s,c,e),e=_,u=c;var L=e.updateQueue;if(L===null){var k=new Set;k.add(u),e.updateQueue=k}else L.add(u);break e}else{if(!(e&1)){Mm(s,c,e),rp();break e}u=Error($(426))}}else if(Ze&&a.mode&1){var A=Dm(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Om(A,o,a,s,e),jf(Qs(u,a));break e}}s=u=Qs(u,a),mt!==4&&(mt=2),la===null?la=[s]:la.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=nw(s,u,e);Lm(s,I);break e;case 1:a=u;var x=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Yr===null||!Yr.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=rw(s,a,e);Lm(s,P);break e}}s=s.return}while(s!==null)}xw(n)}catch(D){e=D,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function ww(){var t=Fu.current;return Fu.current=Uu,t===null?Uu:t}function rp(){(mt===0||mt===3||mt===2)&&(mt=4),Et===null||!(zi&268435455)&&!(Ec&268435455)||Dr(Et,kt)}function $u(t,e){var n=Pe;Pe|=2;var r=ww();(Et!==t||kt!==e)&&(Zn=null,Oi(t,e));do try{X1();break}catch(i){_w(t,i)}while(!0);if(Uf(),Pe=n,Fu.current=r,ht!==null)throw Error($(261));return Et=null,kt=0,mt}function X1(){for(;ht!==null;)Ew(ht)}function eI(){for(;ht!==null&&!IS();)Ew(ht)}function Ew(t){var e=Sw(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?xw(t):ht=e,Jf.current=null}function xw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=G1(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ht=null;return}}else if(n=q1(n,e,nn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);mt===0&&(mt=5)}function Li(t,e,n){var r=je,i=_n.transition;try{_n.transition=null,je=1,tI(t,e,n,r)}finally{_n.transition=i,je=r}return null}function tI(t,e,n,r){do Us();while(Fr!==null);if(Pe&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(DS(t,s),t===Et&&(ht=Et=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wl||(Wl=!0,Iw(Su,function(){return Us(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_n.transition,_n.transition=null;var o=je;je=1;var a=Pe;Pe|=4,Jf.current=null,Q1(t,n),mw(n,t),E1(gh),Tu=!!ph,gh=ph=null,t.current=n,Y1(n),TS(),Pe=a,je=o,_n.transition=s}else t.current=n;if(Wl&&(Wl=!1,Fr=t,zu=i),s=t.pendingLanes,s===0&&(Yr=null),bS(n.stateNode),Xt(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bu)throw Bu=!1,t=Dh,Dh=null,t;return zu&1&&t.tag!==0&&Us(),s=t.pendingLanes,s&1?t===Oh?ua++:(ua=0,Oh=t):ua=0,di(),null}function Us(){if(Fr!==null){var t=n_(zu),e=_n.transition,n=je;try{if(_n.transition=null,je=16>t?16:t,Fr===null)var r=!1;else{if(t=Fr,Fr=null,zu=0,Pe&6)throw Error($(331));var i=Pe;for(Pe|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Y=c;Y!==null;){var f=Y;switch(f.tag){case 0:case 11:case 15:aa(8,f,s)}var g=f.child;if(g!==null)g.return=f,Y=g;else for(;Y!==null;){f=Y;var m=f.sibling,_=f.return;if(fw(f),f===c){Y=null;break}if(m!==null){m.return=_,Y=m;break}Y=_}}}var L=s.alternate;if(L!==null){var k=L.child;if(k!==null){L.child=null;do{var A=k.sibling;k.sibling=null,k=A}while(k!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:aa(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,Y=I;break e}Y=s.return}}var x=t.current;for(Y=x;Y!==null;){o=Y;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Y=E;else e:for(o=x;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wc(9,a)}}catch(D){st(a,a.return,D)}if(a===o){Y=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Y=P;break e}Y=a.return}}if(Pe=i,di(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(hc,t)}catch{}r=!0}return r}finally{je=n,_n.transition=e}}return!1}function Qm(t,e,n){e=Qs(n,e),e=nw(t,e,1),t=Qr(t,e,1),e=Wt(),t!==null&&(Ka(t,1,e),Xt(t,e))}function st(t,e,n){if(t.tag===3)Qm(t,t,n);else for(;e!==null;){if(e.tag===3){Qm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yr===null||!Yr.has(r))){t=Qs(n,t),t=rw(e,t,1),e=Qr(e,t,1),t=Wt(),e!==null&&(Ka(e,1,t),Xt(e,t));break}}e=e.return}}function nI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(kt&n)===n&&(mt===4||mt===3&&(kt&130023424)===kt&&500>ot()-ep?Oi(t,0):Xf|=n),Xt(t,e)}function Cw(t,e){e===0&&(t.mode&1?(e=Ml,Ml<<=1,!(Ml&130023424)&&(Ml=4194304)):e=1);var n=Wt();t=ur(t,e),t!==null&&(Ka(t,e,n),Xt(t,n))}function rI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Cw(t,n)}function iI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),Cw(t,n)}var Sw;Sw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yt=!1,H1(t,e,n);Yt=!!(t.flags&131072)}else Yt=!1,Ze&&e.flags&1048576&&L_(e,Nu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;au(t,e),t=e.pendingProps;var i=Hs(e,Bt.current);Vs(e,n),i=Gf(null,e,r,t,i,n);var s=Kf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(s=!0,Au(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zf(e),i.updater=_c,e.stateNode=i,i._reactInternals=e,Sh(e,r,t,n),e=kh(null,e,r,!0,s,n)):(e.tag=0,Ze&&s&&Df(e),$t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(au(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oI(r),t=In(r,t),i){case 0:e=Th(null,e,r,t,n);break e;case 1:e=Um(null,e,r,t,n);break e;case 11:e=jm(null,e,r,t,n);break e;case 14:e=Vm(null,e,r,In(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),Th(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),Um(t,e,r,i,n);case 3:e:{if(aw(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,M_(t,e),Ou(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qs(Error($(423)),e),e=Fm(t,e,r,n,i);break e}else if(r!==i){i=Qs(Error($(424)),e),e=Fm(t,e,r,n,i);break e}else for(on=Kr(e.stateNode.containerInfo.firstChild),ln=e,Ze=!0,kn=null,n=R_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qs(),r===i){e=cr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return D_(e),t===null&&Eh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,mh(r,i)?o=null:s!==null&&mh(r,s)&&(e.flags|=32),ow(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&Eh(e),null;case 13:return lw(t,e,n);case 4:return $f(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gs(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),jm(t,e,r,i,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,We(Mu,r._currentValue),r._currentValue=o,s!==null)if(Nn(s.value,o)){if(s.children===i.children&&!Zt.current){e=cr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ir(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),xh(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vs(e,n),i=wn(i),r=r(i),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,i=In(r,e.pendingProps),i=In(r.type,i),Vm(t,e,r,i,n);case 15:return iw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),au(t,e),e.tag=1,Jt(r)?(t=!0,Au(e)):t=!1,Vs(e,n),tw(e,r,i),Sh(e,r,i,n),kh(null,e,r,!0,t,n);case 19:return uw(t,e,n);case 22:return sw(t,e,n)}throw Error($(156,e.tag))};function Iw(t,e){return J0(t,e)}function sI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new sI(t,e,n,r)}function ip(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oI(t){if(typeof t=="function")return ip(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cf)return 11;if(t===Sf)return 14}return 2}function Jr(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ip(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xs:return ji(n.children,i,s,e);case xf:o=8,i|=8;break;case Kd:return t=yn(12,n,e,i|2),t.elementType=Kd,t.lanes=s,t;case Qd:return t=yn(13,n,e,i),t.elementType=Qd,t.lanes=s,t;case Yd:return t=yn(19,n,e,i),t.elementType=Yd,t.lanes=s,t;case D0:return xc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N0:o=10;break e;case M0:o=9;break e;case Cf:o=11;break e;case Sf:o=14;break e;case Ar:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ji(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function xc(t,e,n,r){return t=yn(22,t,r,e),t.elementType=D0,t.lanes=n,t.stateNode={isHidden:!1},t}function bd(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Pd(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cd(0),this.expirationTimes=cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sp(t,e,n,r,i,s,o,a,u){return t=new aI(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zf(s),t}function lI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tw(t){if(!t)return si;t=t._reactInternals;e:{if(Xi(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Jt(n))return T_(t,n,e)}return e}function kw(t,e,n,r,i,s,o,a,u){return t=sp(n,r,!0,t,i,s,o,a,u),t.context=Tw(null),n=t.current,r=Wt(),i=Zr(n),s=ir(r,i),s.callback=e??null,Qr(n,s,i),t.current.lanes=i,Ka(t,i,r),Xt(t,r),t}function Cc(t,e,n,r){var i=e.current,s=Wt(),o=Zr(i);return n=Tw(n),e.context===null?e.context=n:e.pendingContext=n,e=ir(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qr(i,e,o),t!==null&&(Pn(t,i,o,s),iu(t,i,o)),o}function Wu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ym(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function op(t,e){Ym(t,e),(t=t.alternate)&&Ym(t,e)}function uI(){return null}var Lw=typeof reportError=="function"?reportError:function(t){console.error(t)};function ap(t){this._internalRoot=t}Sc.prototype.render=ap.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Cc(t,e,null,null)};Sc.prototype.unmount=ap.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$i(function(){Cc(null,t,null,null)}),e[lr]=null}};function Sc(t){this._internalRoot=t}Sc.prototype.unstable_scheduleHydration=function(t){if(t){var e=s_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mr.length&&e!==0&&e<Mr[n].priority;n++);Mr.splice(n,0,t),n===0&&a_(t)}};function lp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ic(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zm(){}function cI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Wu(o);s.call(c)}}var o=kw(e,r,t,0,null,!1,!1,"",Zm);return t._reactRootContainer=o,t[lr]=o.current,Sa(t.nodeType===8?t.parentNode:t),$i(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Wu(u);a.call(c)}}var u=sp(t,0,!1,null,null,!1,!1,"",Zm);return t._reactRootContainer=u,t[lr]=u.current,Sa(t.nodeType===8?t.parentNode:t),$i(function(){Cc(e,u,n,r)}),u}function Tc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Wu(o);a.call(u)}}Cc(e,o,t,i)}else o=cI(n,e,t,i,r);return Wu(o)}r_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Go(e.pendingLanes);n!==0&&(kf(e,n|1),Xt(e,ot()),!(Pe&6)&&(Ys=ot()+500,di()))}break;case 13:$i(function(){var r=ur(t,1);if(r!==null){var i=Wt();Pn(r,t,1,i)}}),op(t,1)}};Lf=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=Wt();Pn(e,t,134217728,n)}op(t,134217728)}};i_=function(t){if(t.tag===13){var e=Zr(t),n=ur(t,e);if(n!==null){var r=Wt();Pn(n,t,e,r)}op(t,e)}};s_=function(){return je};o_=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};oh=function(t,e,n){switch(e){case"input":if(Xd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mc(r);if(!i)throw Error($(90));j0(r),Xd(r,i)}}}break;case"textarea":U0(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};q0=tp;G0=$i;var dI={usingClientEntryPoint:!1,Events:[Ya,Ts,mc,W0,H0,tp]},Fo={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hI={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y0(t),t===null?null:t.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||uI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{hc=Hl.inject(hI),Bn=Hl}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dI;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lp(e))throw Error($(200));return lI(t,e,null,n)};dn.createRoot=function(t,e){if(!lp(t))throw Error($(299));var n=!1,r="",i=Lw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sp(t,1,!1,null,null,n,!1,r,i),t[lr]=e.current,Sa(t.nodeType===8?t.parentNode:t),new ap(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=Y0(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return $i(t)};dn.hydrate=function(t,e,n){if(!Ic(e))throw Error($(200));return Tc(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!lp(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Lw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kw(e,null,t,1,n??null,i,!1,s,o),t[lr]=e.current,Sa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Sc(e)};dn.render=function(t,e,n){if(!Ic(e))throw Error($(200));return Tc(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!Ic(t))throw Error($(40));return t._reactRootContainer?($i(function(){Tc(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1};dn.unstable_batchedUpdates=tp;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ic(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Tc(t,e,n,!1,r)};dn.version="18.3.1-next-f1338f8080-20240426";function bw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bw)}catch(t){console.error(t)}}bw(),b0.exports=dn;var es=b0.exports,Jm=es;qd.createRoot=Jm.createRoot,qd.hydrateRoot=Jm.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Na(){return Na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Na.apply(this,arguments)}var Br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Br||(Br={}));const Xm="popstate";function fI(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=ts(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Uh("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof s=="string"?s:Hu(s))}function r(i,s){up(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return gI(e,n,r,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function up(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pI(){return Math.random().toString(36).substr(2,8)}function ev(t,e){return{usr:t.state,key:t.key,idx:e}}function Uh(t,e,n,r){return n===void 0&&(n=null),Na({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ts(e):e,{state:n,key:e&&e.key||r||pI()})}function Hu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ts(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Br.Pop,u=null,c=f();c==null&&(c=0,o.replaceState(Na({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function g(){a=Br.Pop;let A=f(),I=A==null?null:A-c;c=A,u&&u({action:a,location:k.location,delta:I})}function m(A,I){a=Br.Push;let x=Uh(k.location,A,I);n&&n(x,A),c=f()+1;let E=ev(x,c),P=k.createHref(x);try{o.pushState(E,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(P)}s&&u&&u({action:a,location:k.location,delta:1})}function _(A,I){a=Br.Replace;let x=Uh(k.location,A,I);n&&n(x,A),c=f();let E=ev(x,c),P=k.createHref(x);o.replaceState(E,"",P),s&&u&&u({action:a,location:k.location,delta:0})}function L(A){let I=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof A=="string"?A:Hu(A);return x=x.replace(/ $/,"%20"),pt(I,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,I)}let k={get action(){return a},get location(){return t(i,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Xm,g),u=A,()=>{i.removeEventListener(Xm,g),u=null}},createHref(A){return e(i,A)},createURL:L,encodeLocation(A){let I=L(A);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:m,replace:_,go(A){return o.go(A)}};return k}var tv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(tv||(tv={}));function mI(t,e,n){return n===void 0&&(n="/"),vI(t,e,n,!1)}function vI(t,e,n,r){let i=typeof e=="string"?ts(e):e,s=cp(i.pathname||"/",n);if(s==null)return null;let o=Pw(t);yI(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=bI(s);a=kI(o[u],c,r)}return a}function Pw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(pt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Xr([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(pt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Pw(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:II(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of Aw(s.path))i(s,o,u)}),e}function Aw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Aw(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function yI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _I=/^:[\w-]+$/,wI=3,EI=2,xI=1,CI=10,SI=-2,nv=t=>t==="*";function II(t,e){let n=t.split("/"),r=n.length;return n.some(nv)&&(r+=SI),e&&(r+=EI),n.filter(i=>!nv(i)).reduce((i,s)=>i+(_I.test(s)?wI:s===""?xI:CI),r)}function TI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kI(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",g=rv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!g&&c&&n&&!r[r.length-1].route.index&&(g=rv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:Xr([s,g.pathname]),pathnameBase:NI(Xr([s,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(s=Xr([s,g.pathnameBase]))}return o}function rv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=LI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,g)=>{let{paramName:m,isOptional:_}=f;if(m==="*"){let k=a[g]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const L=a[g];return _&&!L?c[m]=void 0:c[m]=(L||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function LI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),up(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return up(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ts(t):t;return{pathname:n?n.startsWith("/")?n:AI(n,e):e,search:MI(r),hash:DI(i)}}function AI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ad(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rw(t,e){let n=RI(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ts(t):(i=Na({},t),pt(!i.pathname||!i.pathname.includes("?"),Ad("?","pathname","search",i)),pt(!i.pathname||!i.pathname.includes("#"),Ad("#","pathname","hash",i)),pt(!i.search||!i.search.includes("#"),Ad("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),g-=1;i.pathname=m.join("/")}a=g>=0?e[g]:"/"}let u=PI(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Xr=t=>t.join("/").replace(/\/\/+/g,"/"),NI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Mw=["post","put","patch","delete"];new Set(Mw);const jI=["get",...Mw];new Set(jI);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ma.apply(this,arguments)}const dp=h.createContext(null),VI=h.createContext(null),ns=h.createContext(null),kc=h.createContext(null),hi=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Dw=h.createContext(null);function UI(t,e){let{relative:n}=e===void 0?{}:e;Ja()||pt(!1);let{basename:r,navigator:i}=h.useContext(ns),{hash:s,pathname:o,search:a}=jw(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Xr([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Ja(){return h.useContext(kc)!=null}function Lc(){return Ja()||pt(!1),h.useContext(kc).location}function Ow(t){h.useContext(ns).static||h.useLayoutEffect(t)}function Xa(){let{isDataRoute:t}=h.useContext(hi);return t?XI():FI()}function FI(){Ja()||pt(!1);let t=h.useContext(dp),{basename:e,future:n,navigator:r}=h.useContext(ns),{matches:i}=h.useContext(hi),{pathname:s}=Lc(),o=JSON.stringify(Rw(i,n.v7_relativeSplatPath)),a=h.useRef(!1);return Ow(()=>{a.current=!0}),h.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let g=Nw(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Xr([e,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[e,r,o,s,t])}function BI(){let{matches:t}=h.useContext(hi),e=t[t.length-1];return e?e.params:{}}function jw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=h.useContext(ns),{matches:i}=h.useContext(hi),{pathname:s}=Lc(),o=JSON.stringify(Rw(i,r.v7_relativeSplatPath));return h.useMemo(()=>Nw(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function zI(t,e){return $I(t,e)}function $I(t,e,n,r){Ja()||pt(!1);let{navigator:i}=h.useContext(ns),{matches:s}=h.useContext(hi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Lc(),f;if(e){var g;let A=typeof e=="string"?ts(e):e;u==="/"||(g=A.pathname)!=null&&g.startsWith(u)||pt(!1),f=A}else f=c;let m=f.pathname||"/",_=m;if(u!=="/"){let A=u.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(A.length).join("/")}let L=mI(t,{pathname:_}),k=KI(L&&L.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:Xr([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:Xr([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&k?h.createElement(kc.Provider,{value:{location:Ma({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Br.Pop}},k):k}function WI(){let t=JI(),e=OI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,null)}const HI=h.createElement(WI,null);class qI extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?h.createElement(hi.Provider,{value:this.props.routeContext},h.createElement(Dw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GI(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(dp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(hi.Provider,{value:e},r)}function KI(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);f>=0||pt(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=f),g.route.id){let{loaderData:m,errors:_}=n,L=g.route.loader&&m[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||L){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,g,m)=>{let _,L=!1,k=null,A=null;n&&(_=a&&g.route.id?a[g.route.id]:void 0,k=g.route.errorElement||HI,u&&(c<0&&m===0?(L=!0,A=null):c===m&&(L=!0,A=g.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,m+1)),x=()=>{let E;return _?E=k:L?E=A:g.route.Component?E=h.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=f,h.createElement(GI,{match:g,routeContext:{outlet:f,matches:I,isDataRoute:n!=null},children:E})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?h.createElement(qI,{location:n.location,revalidation:n.revalidation,component:k,error:_,children:x(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):x()},null)}var Vw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vw||{}),qu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qu||{});function QI(t){let e=h.useContext(dp);return e||pt(!1),e}function YI(t){let e=h.useContext(VI);return e||pt(!1),e}function ZI(t){let e=h.useContext(hi);return e||pt(!1),e}function Uw(t){let e=ZI(),n=e.matches[e.matches.length-1];return n.route.id||pt(!1),n.route.id}function JI(){var t;let e=h.useContext(Dw),n=YI(qu.UseRouteError),r=Uw(qu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function XI(){let{router:t}=QI(Vw.UseNavigateStable),e=Uw(qu.UseNavigateStable),n=h.useRef(!1);return Ow(()=>{n.current=!0}),h.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ma({fromRouteId:e},s)))},[t,e])}function fn(t){pt(!1)}function eT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Br.Pop,navigator:s,static:o=!1,future:a}=t;Ja()&&pt(!1);let u=e.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:u,navigator:s,static:o,future:Ma({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=ts(r));let{pathname:f="/",search:g="",hash:m="",state:_=null,key:L="default"}=r,k=h.useMemo(()=>{let A=cp(f,u);return A==null?null:{location:{pathname:A,search:g,hash:m,state:_,key:L},navigationType:i}},[u,f,g,m,_,L,i]);return k==null?null:h.createElement(ns.Provider,{value:c},h.createElement(kc.Provider,{children:n,value:k}))}function tT(t){let{children:e,location:n}=t;return zI(Fh(e),n)}new Promise(()=>{});function Fh(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,i)=>{if(!h.isValidElement(r))return;let s=[...e,i];if(r.type===h.Fragment){n.push.apply(n,Fh(r.props.children,s));return}r.type!==fn&&pt(!1),!r.props.index||!r.props.children||pt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Fh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}function nT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iT(t,e){return t.button===0&&(!e||e==="_self")&&!rT(t)}const sT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],oT="6";try{window.__reactRouterVersion=oT}catch{}const aT="startTransition",iv=nS[aT];function lT(t){let{basename:e,children:n,future:r,window:i}=t,s=h.useRef();s.current==null&&(s.current=fI({window:i,v5Compat:!0}));let o=s.current,[a,u]=h.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=h.useCallback(g=>{c&&iv?iv(()=>u(g)):u(g)},[u,c]);return h.useLayoutEffect(()=>o.listen(f),[o,f]),h.createElement(eT,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const uT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hp=h.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:f,unstable_viewTransition:g}=e,m=nT(e,sT),{basename:_}=h.useContext(ns),L,k=!1;if(typeof c=="string"&&cT.test(c)&&(L=c,uT))try{let E=new URL(window.location.href),P=c.startsWith("//")?new URL(E.protocol+c):new URL(c),D=cp(P.pathname,_);P.origin===E.origin&&D!=null?c=D+P.search+P.hash:k=!0}catch{}let A=UI(c,{relative:i}),I=dT(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:g});function x(E){r&&r(E),E.defaultPrevented||I(E)}return h.createElement("a",Bh({},m,{href:L||A,onClick:k||s?r:x,ref:n,target:u}))});var sv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sv||(sv={}));var ov;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ov||(ov={}));function dT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=Xa(),c=Lc(),f=jw(t,{relative:o});return h.useCallback(g=>{if(iT(g,n)){g.preventDefault();let m=r!==void 0?r:Hu(c)===Hu(f);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,f,r,i,n,t,s,o,a])}const hT=()=>d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-50 via-blue-100 to-blue-200",children:d.jsxs("div",{className:"border-2 border-gray-200 rounded-2xl shadow-xl p-8 bg-white transform transition duration-500 hover:scale-105",children:[d.jsx("h1",{className:"text-gray-800 font-extrabold text-2xl text-center mb-6",children:"Choose Your Sign-In Type"}),d.jsxs("div",{className:"flex justify-center space-x-7",children:[d.jsx("button",{type:"button",className:"text-white bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-teal-300 dark:focus:ring-teal-800 font-semibold rounded-lg text-lg px-8 py-3 transition duration-300 transform hover:scale-105",children:d.jsx("a",{href:"Signin",children:"Customer"})}),d.jsx("button",{type:"button",className:"text-white bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-purple-300 dark:focus:ring-purple-800 font-semibold rounded-lg text-lg px-8 py-3 transition duration-300 transform hover:scale-105",children:d.jsx("a",{href:"WorkerSignin",children:"Worker"})})]})]})});var av={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Bw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,_=c&63;u||(_=64,o||(m=64)),r.push(n[f],n[g],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||g==null)throw new pT;const m=s<<2|a>>4;if(r.push(m),c!==64){const _=a<<4&240|c>>2;if(r.push(_),g!==64){const L=c<<6&192|g;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gT=function(t){const e=Fw(t);return Bw.encodeByteArray(e,!0)},Gu=function(t){return gT(t).replace(/\./g,"")},zw=function(t){try{return Bw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=()=>mT().__FIREBASE_DEFAULTS__,yT=()=>{if(typeof process>"u"||typeof av>"u")return;const t=av.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_T=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zw(t[1]);return e&&JSON.parse(e)},bc=()=>{try{return vT()||yT()||_T()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$w=t=>{var e,n;return(n=(e=bc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wT=t=>{const e=$w(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ww=()=>{var t;return(t=bc())===null||t===void 0?void 0:t.config},Hw=t=>{var e;return(e=bc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gu(JSON.stringify(n)),Gu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function ST(){var t;const e=(t=bc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kT(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LT(){return!ST()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bT(){try{return typeof indexedDB=="object"}catch{return!1}}function PT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="FirebaseError";class gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AT,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,el.prototype.create)}}class el{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?RT(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new gr(i,a,r)}}function RT(t,e){return t.replace(NT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NT=/\{\$([^}]+)}/g;function MT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ku(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lv(s)&&lv(o)){if(!Ku(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DT(t,e){const n=new OT(t,e);return n.subscribe.bind(n)}class OT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jT(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rd),i.error===void 0&&(i.error=Rd),i.complete===void 0&&(i.complete=Rd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class Wi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ET;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FT(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UT(t){return t===bi?void 0:t}function FT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const zT={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},$T=Le.INFO,WT={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},HT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fp{constructor(e){this.name=e,this._logLevel=$T,this._logHandler=HT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const qT=(t,e)=>e.some(n=>t instanceof n);let uv,cv;function GT(){return uv||(uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KT(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qw=new WeakMap,zh=new WeakMap,Gw=new WeakMap,Nd=new WeakMap,pp=new WeakMap;function QT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ei(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qw.set(n,t)}).catch(()=>{}),pp.set(e,t),e}function YT(t){if(zh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zh.set(t,e)}let $h={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZT(t){$h=t($h)}function JT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Md(this),e,...n);return Gw.set(r,e.sort?e.sort():[e]),ei(r)}:KT().includes(t)?function(...e){return t.apply(Md(this),e),ei(qw.get(this))}:function(...e){return ei(t.apply(Md(this),e))}}function XT(t){return typeof t=="function"?JT(t):(t instanceof IDBTransaction&&YT(t),qT(t,GT())?new Proxy(t,$h):t)}function ei(t){if(t instanceof IDBRequest)return QT(t);if(Nd.has(t))return Nd.get(t);const e=XT(t);return e!==t&&(Nd.set(t,e),pp.set(e,t)),e}const Md=t=>pp.get(t);function ek(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ei(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ei(o.result),u.oldVersion,u.newVersion,ei(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const tk=["get","getKey","getAll","getAllKeys","count"],nk=["put","add","delete","clear"],Dd=new Map;function dv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dd.get(e))return Dd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tk.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Dd.set(e,s),s}ZT(t=>({...t,get:(e,n,r)=>dv(e,n)||t.get(e,n,r),has:(e,n)=>!!dv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ik(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ik(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wh="@firebase/app",hv="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new fp("@firebase/app"),sk="@firebase/app-compat",ok="@firebase/analytics-compat",ak="@firebase/analytics",lk="@firebase/app-check-compat",uk="@firebase/app-check",ck="@firebase/auth",dk="@firebase/auth-compat",hk="@firebase/database",fk="@firebase/database-compat",pk="@firebase/functions",gk="@firebase/functions-compat",mk="@firebase/installations",vk="@firebase/installations-compat",yk="@firebase/messaging",_k="@firebase/messaging-compat",wk="@firebase/performance",Ek="@firebase/performance-compat",xk="@firebase/remote-config",Ck="@firebase/remote-config-compat",Sk="@firebase/storage",Ik="@firebase/storage-compat",Tk="@firebase/firestore",kk="@firebase/vertexai-preview",Lk="@firebase/firestore-compat",bk="firebase",Pk="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="[DEFAULT]",Ak={[Wh]:"fire-core",[sk]:"fire-core-compat",[ak]:"fire-analytics",[ok]:"fire-analytics-compat",[uk]:"fire-app-check",[lk]:"fire-app-check-compat",[ck]:"fire-auth",[dk]:"fire-auth-compat",[hk]:"fire-rtdb",[fk]:"fire-rtdb-compat",[pk]:"fire-fn",[gk]:"fire-fn-compat",[mk]:"fire-iid",[vk]:"fire-iid-compat",[yk]:"fire-fcm",[_k]:"fire-fcm-compat",[wk]:"fire-perf",[Ek]:"fire-perf-compat",[xk]:"fire-rc",[Ck]:"fire-rc-compat",[Sk]:"fire-gcs",[Ik]:"fire-gcs-compat",[Tk]:"fire-fst",[Lk]:"fire-fst-compat",[kk]:"fire-vertex","fire-js":"fire-js",[bk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,Rk=new Map,qh=new Map;function fv(t,e){try{t.container.addComponent(e)}catch(n){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zs(t){const e=t.name;if(qh.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;qh.set(e,t);for(const n of Qu.values())fv(n,t);for(const n of Rk.values())fv(n,t);return!0}function gp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ti=new el("app","Firebase",Nk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=Pk;function Kw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ti.create("bad-app-name",{appName:String(i)});if(n||(n=Ww()),!n)throw ti.create("no-options");const s=Qu.get(i);if(s){if(Ku(n,s.options)&&Ku(r,s.config))return s;throw ti.create("duplicate-app",{appName:i})}const o=new BT(i);for(const u of qh.values())o.addComponent(u);const a=new Mk(n,r,o);return Qu.set(i,a),a}function Qw(t=Hh){const e=Qu.get(t);if(!e&&t===Hh&&Ww())return Kw();if(!e)throw ti.create("no-app",{appName:t});return e}function ni(t,e,n){var r;let i=(r=Ak[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(a.join(" "));return}Zs(new Wi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="firebase-heartbeat-database",Ok=1,Da="firebase-heartbeat-store";let Od=null;function Yw(){return Od||(Od=ek(Dk,Ok,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Da)}catch(n){console.warn(n)}}}}).catch(t=>{throw ti.create("idb-open",{originalErrorMessage:t.message})})),Od}async function jk(t){try{const n=(await Yw()).transaction(Da),r=await n.objectStore(Da).get(Zw(t));return await n.done,r}catch(e){if(e instanceof gr)Hi.warn(e.message);else{const n=ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(n.message)}}}async function pv(t,e){try{const r=(await Yw()).transaction(Da,"readwrite");await r.objectStore(Da).put(e,Zw(t)),await r.done}catch(n){if(n instanceof gr)Hi.warn(n.message);else{const r=ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(r.message)}}}function Zw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=1024,Uk=30*24*60*60*1e3;class Fk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gv();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Uk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gv(),{heartbeatsToSend:r,unsentEntries:i}=Bk(this._heartbeatsCache.heartbeats),s=Gu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function gv(){return new Date().toISOString().substring(0,10)}function Bk(t,e=Vk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bT()?PT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mv(t){return Gu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t){Zs(new Wi("platform-logger",e=>new rk(e),"PRIVATE")),Zs(new Wi("heartbeat",e=>new Fk(e),"PRIVATE")),ni(Wh,hv,t),ni(Wh,hv,"esm2017"),ni("fire-js","")}$k("");var Wk="firebase",Hk="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni(Wk,Hk,"app");function mp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Jw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qk=Jw,Xw=new el("auth","Firebase",Jw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new fp("@firebase/auth");function Gk(t,...e){Yu.logLevel<=Le.WARN&&Yu.warn(`Auth (${lo}): ${t}`,...e)}function du(t,...e){Yu.logLevel<=Le.ERROR&&Yu.error(`Auth (${lo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,...e){throw yp(t,...e)}function An(t,...e){return yp(t,...e)}function vp(t,e,n){const r=Object.assign(Object.assign({},qk()),{[e]:n});return new el("auth","Firebase",r).create(e,{appName:t.name})}function sr(t){return vp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kk(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&xn(t,"argument-error"),vp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Xw.create(t,...e)}function ce(t,e,...n){if(!t)throw yp(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw du(e),new Error(e)}function dr(t,e){t||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Qk(){return vv()==="http:"||vv()==="https:"}function vv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qk()||IT()||"connection"in navigator)?navigator.onLine:!0}function Zk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=CT()||TT()}get(){return Yk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t,e){dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new nl(3e4,6e4);function mr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vr(t,e,n,r,i={}){return tE(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=tl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),eE.fetch()(nE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function tE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jk),e);try{const i=new tL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ql(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ql(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ql(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw vp(t,f,c);xn(t,f)}}catch(i){if(i instanceof gr)throw i;xn(t,"network-request-failed",{message:String(i)})}}async function rl(t,e,n,r,i={}){const s=await vr(t,e,n,r,i);return"mfaPendingCredential"in s&&xn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?_p(t.config,i):`${t.config.apiScheme}://${i}`}function eL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(An(this.auth,"network-request-failed")),Xk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=An(t,e,r);return i.customData._tokenResponse=n,i}function yv(t){return t!==void 0&&t.enterprise!==void 0}class nL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function rL(t,e){return vr(t,"GET","/v2/recaptchaConfig",mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e){return vr(t,"POST","/v1/accounts:delete",e)}async function rE(t,e){return vr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sL(t,e=!1){const n=xt(t),r=await n.getIdToken(e),i=wp(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ca(jd(i.auth_time)),issuedAtTime:ca(jd(i.iat)),expirationTime:ca(jd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jd(t){return Number(t)*1e3}function wp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return du("JWT malformed, contained fewer than 3 sections"),null;try{const i=zw(n);return i?JSON.parse(i):(du("Failed to decode base64 JWT payload"),null)}catch(i){return du("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _v(t){const e=wp(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gr&&oL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ca(this.lastLoginAt),this.creationTime=ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Oa(t,rE(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?iE(s.providerUserInfo):[],a=uL(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=u?c:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kh(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function lL(t){const e=xt(t);await Zu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iE(t){return t.map(e=>{var{providerId:n}=e,r=mp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e){const n=await tE(t,{},async()=>{const r=tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nE(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dL(t,e){return vr(t,"POST","/v2/accounts:revokeToken",mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_v(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=_v(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await cL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fs;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fs,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class nr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Oa(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sL(this,e)}reload(){return lL(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await Oa(this,iL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,f;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,L=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:E,emailVerified:P,isAnonymous:D,providerData:M,stsTokenManager:w}=n;ce(E&&w,e,"internal-error");const y=Fs.fromJSON(this.name,w);ce(typeof E=="string",e,"internal-error"),br(g,e.name),br(m,e.name),ce(typeof P=="boolean",e,"internal-error"),ce(typeof D=="boolean",e,"internal-error"),br(_,e.name),br(L,e.name),br(k,e.name),br(A,e.name),br(I,e.name),br(x,e.name);const S=new nr({uid:E,auth:e,email:m,emailVerified:P,displayName:g,isAnonymous:D,photoURL:L,phoneNumber:_,tenantId:k,stsTokenManager:y,createdAt:I,lastLoginAt:x});return M&&Array.isArray(M)&&(S.providerData=M.map(C=>Object.assign({},C))),A&&(S._redirectEventId=A),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fs;i.updateFromServerResponse(n);const s=new nr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ce(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?iE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fs;a.updateFromIdToken(r);const u=new nr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Kh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=new Map;function rr(t){dr(t instanceof Function,"Expected a class definition");let e=wv.get(t);return e?(dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sE.type="NONE";const Ev=sE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hu(this.userKey,i.apiKey,s),this.fullPersistenceKey=hu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?nr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bs(rr(Ev),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||rr(Ev);const o=hu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const g=nr._fromJSON(e,f);c!==s&&(a=g),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Bs(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Bs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cE(e))return"Blackberry";if(dE(e))return"Webos";if(Ep(e))return"Safari";if((e.includes("chrome/")||aE(e))&&!e.includes("edge/"))return"Chrome";if(uE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oE(t=At()){return/firefox\//i.test(t)}function Ep(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aE(t=At()){return/crios\//i.test(t)}function lE(t=At()){return/iemobile/i.test(t)}function uE(t=At()){return/android/i.test(t)}function cE(t=At()){return/blackberry/i.test(t)}function dE(t=At()){return/webos/i.test(t)}function Pc(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hL(t=At()){var e;return Pc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fL(){return kT()&&document.documentMode===10}function hE(t=At()){return Pc(t)||uE(t)||dE(t)||cE(t)||/windows phone/i.test(t)||lE(t)}function pL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t,e=[]){let n;switch(t){case"Browser":n=xv(At());break;case"Worker":n=`${xv(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e={}){return vr(t,"GET","/v2/passwordPolicy",mr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=6;class yL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:vL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cv(this),this.idTokenSubscription=new Cv(this),this.beforeStateQueue=new gL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rE(this,{idToken:e}),r=await nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ln(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(sr(this));const n=e?xt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mL(this),n=new yL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new el("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Gk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yr(t){return xt(t)}class Cv{constructor(e){this.auth=e,this.observer=null,this.addObserver=DT(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wL(t){Ac=t}function pE(t){return Ac.loadJS(t)}function EL(){return Ac.recaptchaEnterpriseScript}function xL(){return Ac.gapiScript}function CL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const SL="recaptcha-enterprise",IL="NO_RECAPTCHA";class TL{constructor(e){this.type=SL,this.auth=yr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{rL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new nL(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;yv(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(IL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&yv(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=EL();u.length!==0&&(u+=a),pE(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Sv(t,e,n,r=!1){const i=new TL(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ju(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Sv(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Sv(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t,e){const n=gp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ku(s,e??{}))return i;xn(i,"already-initialized")}return n.initialize({options:e})}function LL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bL(t,e,n){const r=yr(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=gE(e),{host:o,port:a}=PL(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),AL()}function gE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PL(t){const e=gE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Iv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Iv(o)}}}function Iv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function RL(t,e){return vr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e){return rl(t,"POST","/v1/accounts:signInWithPassword",mr(t,e))}async function ML(t,e){return vr(t,"POST","/v1/accounts:sendOobCode",mr(t,e))}async function DL(t,e){return ML(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e){return rl(t,"POST","/v1/accounts:signInWithEmailLink",mr(t,e))}async function jL(t,e){return rl(t,"POST","/v1/accounts:signInWithEmailLink",mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends xp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ja(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ja(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ju(e,n,"signInWithPassword",NL);case"emailLink":return OL(e,{email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ju(e,r,"signUpPassword",RL);case"emailLink":return jL(e,{idToken:n,email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t,e){return rl(t,"POST","/v1/accounts:signInWithIdp",mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="http://localhost";class qi extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=mp(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new qi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zs(e,n)}buildRequest(){const e={requestUri:VL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FL(t){const e=Qo(Yo(t)).link,n=e?Qo(Yo(e)).deep_link_id:null,r=Qo(Yo(t)).deep_link_id;return(r?Qo(Yo(r)).link:null)||r||n||e||t}class Cp{constructor(e){var n,r,i,s,o,a;const u=Qo(Yo(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=UL((i=u.mode)!==null&&i!==void 0?i:null);ce(c&&f&&g,"argument-error"),this.apiKey=c,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=FL(e);try{return new Cp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(e,n){return ja._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cp.parseLink(n);return ce(r,"argument-error"),ja._fromEmailAndCode(e,r.code,r.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Sp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends il{constructor(){super("facebook.com")}static credential(e){return qi._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ip=class vs extends il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qi._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vs.credential(n,r)}catch{return null}}};Ip.GOOGLE_SIGN_IN_METHOD="google.com";Ip.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends il{constructor(){super("github.com")}static credential(e){return qi._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends il{constructor(){super("twitter.com")}static credential(e,n){return qi._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e){return rl(t,"POST","/v1/accounts:signUp",mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await nr._fromIdTokenResponse(e,r,i),o=Tv(r);return new Gi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Tv(r);return new Gi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Tv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends gr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xu(e,n,r,i)}}function mE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xu._fromErrorAndOperation(t,s,e,r):s})}async function zL(t,e,n=!1){const r=await Oa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(t,e,n=!1){const{auth:r}=t;if(Ln(r.app))return Promise.reject(sr(r));const i="reauthenticate";try{const s=await Oa(t,mE(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=wp(s.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),Gi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&xn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vE(t,e,n=!1){if(Ln(t.app))return Promise.reject(sr(t));const r="signIn",i=await mE(t,r,e),s=await Gi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function WL(t,e){return vE(yr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yE(t){const e=yr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HL(t,e,n){const r=yr(t);await Ju(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",DL)}async function _E(t,e,n){if(Ln(t.app))return Promise.reject(sr(t));const r=yr(t),o=await Ju(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&yE(t),u}),a=await Gi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function qL(t,e,n){return Ln(t.app)?Promise.reject(sr(t)):WL(xt(t),uo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yE(t),r})}function GL(t,e,n,r){return xt(t).onIdTokenChanged(e,n,r)}function KL(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function Tp(t,e,n,r){return xt(t).onAuthStateChanged(e,n,r)}function QL(t){return xt(t).signOut()}const ec="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ec,"1"),this.storage.removeItem(ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(){const t=At();return Ep(t)||Pc(t)}const ZL=1e3,JL=10;class EE extends wE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=YL()&&pL(),this.fallbackToPolling=hE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);fL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EE.type="LOCAL";const XL=EE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends wE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xE.type="SESSION";const CE=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await eb(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=kp("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const m=g;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function nb(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function rb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ib(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sb(){return SE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firebaseLocalStorageDb",ob=1,tc="firebaseLocalStorage",TE="fbase_key";class sl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nc(t,e){return t.transaction([tc],e?"readwrite":"readonly").objectStore(tc)}function ab(){const t=indexedDB.deleteDatabase(IE);return new sl(t).toPromise()}function Qh(){const t=indexedDB.open(IE,ob);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tc,{keyPath:TE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tc)?e(r):(r.close(),await ab(),e(await Qh()))})})}async function kv(t,e,n){const r=Nc(t,!0).put({[TE]:e,value:n});return new sl(r).toPromise()}async function lb(t,e){const n=Nc(t,!1).get(e),r=await new sl(n).toPromise();return r===void 0?null:r.value}function Lv(t,e){const n=Nc(t,!0).delete(e);return new sl(n).toPromise()}const ub=800,cb=3;class kE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rc._getInstance(sb()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rb(),!this.activeServiceWorker)return;this.sender=new tb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ib()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qh();return await kv(e,ec,"1"),await Lv(e,ec),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lb(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Nc(i,!1).getAll();return new sl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ub)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kE.type="LOCAL";const db=kE;new nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t,e){return e?rr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hb(t){return vE(t.auth,new Lp(t),t.bypassAuthState)}function fb(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),$L(n,new Lp(t),t.bypassAuthState)}async function pb(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),zL(n,new Lp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hb;case"linkViaPopup":case"linkViaRedirect":return pb;case"reauthViaPopup":case"reauthViaRedirect":return fb;default:xn(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new nl(2e3,1e4);async function mb(t,e,n){if(Ln(t.app))return Promise.reject(An(t,"operation-not-supported-in-this-environment"));const r=yr(t);Kk(t,e,Sp);const i=LE(r,n);return new Mi(r,"signInViaPopup",e,i).executeNotNull()}class Mi extends bE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Mi.currentPopupAction&&Mi.currentPopupAction.cancel(),Mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(An(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(An(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(An(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gb.get())};e()}}Mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="pendingRedirect",fu=new Map;class yb extends bE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fu.get(this.auth._key());if(!e){try{const r=await _b(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fu.set(this.auth._key(),e)}return this.bypassAuthState||fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _b(t,e){const n=xb(e),r=Eb(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wb(t,e){fu.set(t._key(),e)}function Eb(t){return rr(t._redirectPersistence)}function xb(t){return hu(vb,t.config.apiKey,t.name)}async function Cb(t,e,n=!1){if(Ln(t.app))return Promise.reject(sr(t));const r=yr(t),i=LE(r,e),o=await new yb(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=10*60*1e3;class Ib{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Tb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(An(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sb&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(e))}saveEventToCache(e){this.cachedEventUids.add(bv(e)),this.lastProcessedEventTime=Date.now()}}function bv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Tb(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(t,e={}){return vr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bb=/^https?/;async function Pb(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kb(t);for(const n of e)try{if(Ab(n))return}catch{}xn(t,"unauthorized-domain")}function Ab(t){const e=Gh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bb.test(n))return!1;if(Lb.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new nl(3e4,6e4);function Pv(){const t=$n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Nb(t){return new Promise((e,n)=>{var r,i,s;function o(){Pv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pv(),n(An(t,"network-request-failed"))},timeout:Rb.get()})}if(!((i=(r=$n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=$n().gapi)===null||s===void 0)&&s.load)o();else{const a=CL("iframefcb");return $n()[a]=()=>{gapi.load?o():n(An(t,"network-request-failed"))},pE(`${xL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw pu=null,e})}let pu=null;function Mb(t){return pu=pu||Nb(t),pu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new nl(5e3,15e3),Ob="__/auth/iframe",jb="emulator/auth/iframe",Vb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ub=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fb(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_p(e,jb):`https://${t.config.authDomain}/${Ob}`,r={apiKey:e.apiKey,appName:t.name,v:lo},i=Ub.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tl(r).slice(1)}`}async function Bb(t){const e=await Mb(t),n=$n().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:Fb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vb,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=An(t,"network-request-failed"),a=$n().setTimeout(()=>{s(o)},Db.get());function u(){$n().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$b=500,Wb=600,Hb="_blank",qb="http://localhost";class Av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gb(t,e,n,r=$b,i=Wb){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},zb),{width:r.toString(),height:i.toString(),top:s,left:o}),c=At().toLowerCase();n&&(a=aE(c)?Hb:n),oE(c)&&(e=e||qb,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[_,L])=>`${m}${_}=${L},`,"");if(hL(c)&&a!=="_self")return Kb(e||"",a),new Av(null);const g=window.open(e||"",a,f);ce(g,t,"popup-blocked");try{g.focus()}catch{}return new Av(g)}function Kb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="__/auth/handler",Yb="emulator/auth/handler",Zb=encodeURIComponent("fac");async function Rv(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lo,eventId:i};if(e instanceof Sp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))o[f]=g}if(e instanceof il){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const u=await t._getAppCheckToken(),c=u?`#${Zb}=${encodeURIComponent(u)}`:"";return`${Jb(t)}?${tl(a).slice(1)}${c}`}function Jb({config:t}){return t.emulator?_p(t,Yb):`https://${t.authDomain}/${Qb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class Xb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CE,this._completeRedirectFn=Cb,this._overrideRedirectResult=wb}async _openPopup(e,n,r,i){var s;dr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Rv(e,n,r,Gh(),i);return Gb(e,o,kp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Rv(e,n,r,Gh(),i);return nb(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(dr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Bb(e),r=new Ib(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vd,{type:Vd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Vd];o!==void 0&&n(!!o),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Pb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hE()||Ep()||Pc()}}const eP=Xb;var Nv="@firebase/auth",Mv="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rP(t){Zs(new Wi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fE(t)},c=new _L(r,i,s,u);return LL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zs(new Wi("auth-internal",e=>{const n=yr(e.getProvider("auth").getImmediate());return(r=>new tP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ni(Nv,Mv,nP(t)),ni(Nv,Mv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=5*60,sP=Hw("authIdTokenMaxAge")||iP;let Dv=null;const oP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sP)return;const i=n==null?void 0:n.token;Dv!==i&&(Dv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Mc(t=Qw()){const e=gp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kL(t,{popupRedirectResolver:eP,persistence:[db,XL,CE]}),r=Hw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=oP(s.toString());KL(n,o,()=>o(n.currentUser)),GL(n,a=>o(a))}}const i=$w("auth");return i&&bL(n,`http://${i}`),n}function aP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=An("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rP("Browser");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,AE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,y){function S(){}S.prototype=y.prototype,w.D=y.prototype,w.prototype=new S,w.prototype.constructor=w,w.C=function(C,R,N){for(var b=Array(arguments.length-2),K=2;K<arguments.length;K++)b[K-2]=arguments[K];return y.prototype[R].apply(C,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,y,S){S||(S=0);var C=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)C[R]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(R=0;16>R;++R)C[R]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=w.g[0],S=w.g[1],R=w.g[2];var N=w.g[3],b=y+(N^S&(R^N))+C[0]+3614090360&4294967295;y=S+(b<<7&4294967295|b>>>25),b=N+(R^y&(S^R))+C[1]+3905402710&4294967295,N=y+(b<<12&4294967295|b>>>20),b=R+(S^N&(y^S))+C[2]+606105819&4294967295,R=N+(b<<17&4294967295|b>>>15),b=S+(y^R&(N^y))+C[3]+3250441966&4294967295,S=R+(b<<22&4294967295|b>>>10),b=y+(N^S&(R^N))+C[4]+4118548399&4294967295,y=S+(b<<7&4294967295|b>>>25),b=N+(R^y&(S^R))+C[5]+1200080426&4294967295,N=y+(b<<12&4294967295|b>>>20),b=R+(S^N&(y^S))+C[6]+2821735955&4294967295,R=N+(b<<17&4294967295|b>>>15),b=S+(y^R&(N^y))+C[7]+4249261313&4294967295,S=R+(b<<22&4294967295|b>>>10),b=y+(N^S&(R^N))+C[8]+1770035416&4294967295,y=S+(b<<7&4294967295|b>>>25),b=N+(R^y&(S^R))+C[9]+2336552879&4294967295,N=y+(b<<12&4294967295|b>>>20),b=R+(S^N&(y^S))+C[10]+4294925233&4294967295,R=N+(b<<17&4294967295|b>>>15),b=S+(y^R&(N^y))+C[11]+2304563134&4294967295,S=R+(b<<22&4294967295|b>>>10),b=y+(N^S&(R^N))+C[12]+1804603682&4294967295,y=S+(b<<7&4294967295|b>>>25),b=N+(R^y&(S^R))+C[13]+4254626195&4294967295,N=y+(b<<12&4294967295|b>>>20),b=R+(S^N&(y^S))+C[14]+2792965006&4294967295,R=N+(b<<17&4294967295|b>>>15),b=S+(y^R&(N^y))+C[15]+1236535329&4294967295,S=R+(b<<22&4294967295|b>>>10),b=y+(R^N&(S^R))+C[1]+4129170786&4294967295,y=S+(b<<5&4294967295|b>>>27),b=N+(S^R&(y^S))+C[6]+3225465664&4294967295,N=y+(b<<9&4294967295|b>>>23),b=R+(y^S&(N^y))+C[11]+643717713&4294967295,R=N+(b<<14&4294967295|b>>>18),b=S+(N^y&(R^N))+C[0]+3921069994&4294967295,S=R+(b<<20&4294967295|b>>>12),b=y+(R^N&(S^R))+C[5]+3593408605&4294967295,y=S+(b<<5&4294967295|b>>>27),b=N+(S^R&(y^S))+C[10]+38016083&4294967295,N=y+(b<<9&4294967295|b>>>23),b=R+(y^S&(N^y))+C[15]+3634488961&4294967295,R=N+(b<<14&4294967295|b>>>18),b=S+(N^y&(R^N))+C[4]+3889429448&4294967295,S=R+(b<<20&4294967295|b>>>12),b=y+(R^N&(S^R))+C[9]+568446438&4294967295,y=S+(b<<5&4294967295|b>>>27),b=N+(S^R&(y^S))+C[14]+3275163606&4294967295,N=y+(b<<9&4294967295|b>>>23),b=R+(y^S&(N^y))+C[3]+4107603335&4294967295,R=N+(b<<14&4294967295|b>>>18),b=S+(N^y&(R^N))+C[8]+1163531501&4294967295,S=R+(b<<20&4294967295|b>>>12),b=y+(R^N&(S^R))+C[13]+2850285829&4294967295,y=S+(b<<5&4294967295|b>>>27),b=N+(S^R&(y^S))+C[2]+4243563512&4294967295,N=y+(b<<9&4294967295|b>>>23),b=R+(y^S&(N^y))+C[7]+1735328473&4294967295,R=N+(b<<14&4294967295|b>>>18),b=S+(N^y&(R^N))+C[12]+2368359562&4294967295,S=R+(b<<20&4294967295|b>>>12),b=y+(S^R^N)+C[5]+4294588738&4294967295,y=S+(b<<4&4294967295|b>>>28),b=N+(y^S^R)+C[8]+2272392833&4294967295,N=y+(b<<11&4294967295|b>>>21),b=R+(N^y^S)+C[11]+1839030562&4294967295,R=N+(b<<16&4294967295|b>>>16),b=S+(R^N^y)+C[14]+4259657740&4294967295,S=R+(b<<23&4294967295|b>>>9),b=y+(S^R^N)+C[1]+2763975236&4294967295,y=S+(b<<4&4294967295|b>>>28),b=N+(y^S^R)+C[4]+1272893353&4294967295,N=y+(b<<11&4294967295|b>>>21),b=R+(N^y^S)+C[7]+4139469664&4294967295,R=N+(b<<16&4294967295|b>>>16),b=S+(R^N^y)+C[10]+3200236656&4294967295,S=R+(b<<23&4294967295|b>>>9),b=y+(S^R^N)+C[13]+681279174&4294967295,y=S+(b<<4&4294967295|b>>>28),b=N+(y^S^R)+C[0]+3936430074&4294967295,N=y+(b<<11&4294967295|b>>>21),b=R+(N^y^S)+C[3]+3572445317&4294967295,R=N+(b<<16&4294967295|b>>>16),b=S+(R^N^y)+C[6]+76029189&4294967295,S=R+(b<<23&4294967295|b>>>9),b=y+(S^R^N)+C[9]+3654602809&4294967295,y=S+(b<<4&4294967295|b>>>28),b=N+(y^S^R)+C[12]+3873151461&4294967295,N=y+(b<<11&4294967295|b>>>21),b=R+(N^y^S)+C[15]+530742520&4294967295,R=N+(b<<16&4294967295|b>>>16),b=S+(R^N^y)+C[2]+3299628645&4294967295,S=R+(b<<23&4294967295|b>>>9),b=y+(R^(S|~N))+C[0]+4096336452&4294967295,y=S+(b<<6&4294967295|b>>>26),b=N+(S^(y|~R))+C[7]+1126891415&4294967295,N=y+(b<<10&4294967295|b>>>22),b=R+(y^(N|~S))+C[14]+2878612391&4294967295,R=N+(b<<15&4294967295|b>>>17),b=S+(N^(R|~y))+C[5]+4237533241&4294967295,S=R+(b<<21&4294967295|b>>>11),b=y+(R^(S|~N))+C[12]+1700485571&4294967295,y=S+(b<<6&4294967295|b>>>26),b=N+(S^(y|~R))+C[3]+2399980690&4294967295,N=y+(b<<10&4294967295|b>>>22),b=R+(y^(N|~S))+C[10]+4293915773&4294967295,R=N+(b<<15&4294967295|b>>>17),b=S+(N^(R|~y))+C[1]+2240044497&4294967295,S=R+(b<<21&4294967295|b>>>11),b=y+(R^(S|~N))+C[8]+1873313359&4294967295,y=S+(b<<6&4294967295|b>>>26),b=N+(S^(y|~R))+C[15]+4264355552&4294967295,N=y+(b<<10&4294967295|b>>>22),b=R+(y^(N|~S))+C[6]+2734768916&4294967295,R=N+(b<<15&4294967295|b>>>17),b=S+(N^(R|~y))+C[13]+1309151649&4294967295,S=R+(b<<21&4294967295|b>>>11),b=y+(R^(S|~N))+C[4]+4149444226&4294967295,y=S+(b<<6&4294967295|b>>>26),b=N+(S^(y|~R))+C[11]+3174756917&4294967295,N=y+(b<<10&4294967295|b>>>22),b=R+(y^(N|~S))+C[2]+718787259&4294967295,R=N+(b<<15&4294967295|b>>>17),b=S+(N^(R|~y))+C[9]+3951481745&4294967295,w.g[0]=w.g[0]+y&4294967295,w.g[1]=w.g[1]+(R+(b<<21&4294967295|b>>>11))&4294967295,w.g[2]=w.g[2]+R&4294967295,w.g[3]=w.g[3]+N&4294967295}r.prototype.u=function(w,y){y===void 0&&(y=w.length);for(var S=y-this.blockSize,C=this.B,R=this.h,N=0;N<y;){if(R==0)for(;N<=S;)i(this,w,N),N+=this.blockSize;if(typeof w=="string"){for(;N<y;)if(C[R++]=w.charCodeAt(N++),R==this.blockSize){i(this,C),R=0;break}}else for(;N<y;)if(C[R++]=w[N++],R==this.blockSize){i(this,C),R=0;break}}this.h=R,this.o+=y},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var y=1;y<w.length-8;++y)w[y]=0;var S=8*this.o;for(y=w.length-8;y<w.length;++y)w[y]=S&255,S/=256;for(this.u(w),w=Array(16),y=S=0;4>y;++y)for(var C=0;32>C;C+=8)w[S++]=this.g[y]>>>C&255;return w};function s(w,y){var S=a;return Object.prototype.hasOwnProperty.call(S,w)?S[w]:S[w]=y(w)}function o(w,y){this.h=y;for(var S=[],C=!0,R=w.length-1;0<=R;R--){var N=w[R]|0;C&&N==y||(S[R]=N,C=!1)}this.g=S}var a={};function u(w){return-128<=w&&128>w?s(w,function(y){return new o([y|0],0>y?-1:0)}):new o([w|0],0>w?-1:0)}function c(w){if(isNaN(w)||!isFinite(w))return g;if(0>w)return A(c(-w));for(var y=[],S=1,C=0;w>=S;C++)y[C]=w/S|0,S*=4294967296;return new o(y,0)}function f(w,y){if(w.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(w.charAt(0)=="-")return A(f(w.substring(1),y));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(y,8)),C=g,R=0;R<w.length;R+=8){var N=Math.min(8,w.length-R),b=parseInt(w.substring(R,R+N),y);8>N?(N=c(Math.pow(y,N)),C=C.j(N).add(c(b))):(C=C.j(S),C=C.add(c(b)))}return C}var g=u(0),m=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-A(this).m();for(var w=0,y=1,S=0;S<this.g.length;S++){var C=this.i(S);w+=(0<=C?C:4294967296+C)*y,y*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(L(this))return"0";if(k(this))return"-"+A(this).toString(w);for(var y=c(Math.pow(w,6)),S=this,C="";;){var R=P(S,y).g;S=I(S,R.j(y));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(w);if(S=R,L(S))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function L(w){if(w.h!=0)return!1;for(var y=0;y<w.g.length;y++)if(w.g[y]!=0)return!1;return!0}function k(w){return w.h==-1}t.l=function(w){return w=I(this,w),k(w)?-1:L(w)?0:1};function A(w){for(var y=w.g.length,S=[],C=0;C<y;C++)S[C]=~w.g[C];return new o(S,~w.h).add(m)}t.abs=function(){return k(this)?A(this):this},t.add=function(w){for(var y=Math.max(this.g.length,w.g.length),S=[],C=0,R=0;R<=y;R++){var N=C+(this.i(R)&65535)+(w.i(R)&65535),b=(N>>>16)+(this.i(R)>>>16)+(w.i(R)>>>16);C=b>>>16,N&=65535,b&=65535,S[R]=b<<16|N}return new o(S,S[S.length-1]&-2147483648?-1:0)};function I(w,y){return w.add(A(y))}t.j=function(w){if(L(this)||L(w))return g;if(k(this))return k(w)?A(this).j(A(w)):A(A(this).j(w));if(k(w))return A(this.j(A(w)));if(0>this.l(_)&&0>w.l(_))return c(this.m()*w.m());for(var y=this.g.length+w.g.length,S=[],C=0;C<2*y;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var R=0;R<w.g.length;R++){var N=this.i(C)>>>16,b=this.i(C)&65535,K=w.i(R)>>>16,X=w.i(R)&65535;S[2*C+2*R]+=b*X,x(S,2*C+2*R),S[2*C+2*R+1]+=N*X,x(S,2*C+2*R+1),S[2*C+2*R+1]+=b*K,x(S,2*C+2*R+1),S[2*C+2*R+2]+=N*K,x(S,2*C+2*R+2)}for(C=0;C<y;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=y;C<2*y;C++)S[C]=0;return new o(S,0)};function x(w,y){for(;(w[y]&65535)!=w[y];)w[y+1]+=w[y]>>>16,w[y]&=65535,y++}function E(w,y){this.g=w,this.h=y}function P(w,y){if(L(y))throw Error("division by zero");if(L(w))return new E(g,g);if(k(w))return y=P(A(w),y),new E(A(y.g),A(y.h));if(k(y))return y=P(w,A(y)),new E(A(y.g),y.h);if(30<w.g.length){if(k(w)||k(y))throw Error("slowDivide_ only works with positive integers.");for(var S=m,C=y;0>=C.l(w);)S=D(S),C=D(C);var R=M(S,1),N=M(C,1);for(C=M(C,2),S=M(S,2);!L(C);){var b=N.add(C);0>=b.l(w)&&(R=R.add(S),N=b),C=M(C,1),S=M(S,1)}return y=I(w,R.j(y)),new E(R,y)}for(R=g;0<=w.l(y);){for(S=Math.max(1,Math.floor(w.m()/y.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=c(S),b=N.j(y);k(b)||0<b.l(w);)S-=C,N=c(S),b=N.j(y);L(N)&&(N=m),R=R.add(N),w=I(w,b)}return new E(R,w)}t.A=function(w){return P(this,w).h},t.and=function(w){for(var y=Math.max(this.g.length,w.g.length),S=[],C=0;C<y;C++)S[C]=this.i(C)&w.i(C);return new o(S,this.h&w.h)},t.or=function(w){for(var y=Math.max(this.g.length,w.g.length),S=[],C=0;C<y;C++)S[C]=this.i(C)|w.i(C);return new o(S,this.h|w.h)},t.xor=function(w){for(var y=Math.max(this.g.length,w.g.length),S=[],C=0;C<y;C++)S[C]=this.i(C)^w.i(C);return new o(S,this.h^w.h)};function D(w){for(var y=w.g.length+1,S=[],C=0;C<y;C++)S[C]=w.i(C)<<1|w.i(C-1)>>>31;return new o(S,w.h)}function M(w,y){var S=y>>5;y%=32;for(var C=w.g.length-S,R=[],N=0;N<C;N++)R[N]=0<y?w.i(N+S)>>>y|w.i(N+S+1)<<32-y:w.i(N+S);return new o(R,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,Vi=o}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RE,NE,Zo,ME,gu,Yh,DE,OE,jE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,v){return l==Array.prototype||l==Object.prototype||(l[p]=v.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var p=0;p<l.length;++p){var v=l[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(l,p){if(p)e:{var v=r;l=l.split(".");for(var T=0;T<l.length-1;T++){var O=l[T];if(!(O in v))break e;v=v[O]}l=l[l.length-1],T=v[l],p=p(T),p!=T&&p!=null&&e(v,l,{configurable:!0,writable:!0,value:p})}}function s(l,p){l instanceof String&&(l+="");var v=0,T=!1,O={next:function(){if(!T&&v<l.length){var j=v++;return{value:p(j,l[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(l){return l||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function c(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function f(l,p,v){return l.call.apply(l.bind,arguments)}function g(l,p,v){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,T),l.apply(p,O)}}return function(){return l.apply(p,arguments)}}function m(l,p,v){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,m.apply(null,arguments)}function _(l,p){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function L(l,p){function v(){}v.prototype=p.prototype,l.aa=p.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(T,O,j){for(var W=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)W[Fe-2]=arguments[Fe];return p.prototype[O].apply(T,W)}}function k(l){const p=l.length;if(0<p){const v=Array(p);for(let T=0;T<p;T++)v[T]=l[T];return v}return[]}function A(l,p){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(u(T)){const O=l.length||0,j=T.length||0;l.length=O+j;for(let W=0;W<j;W++)l[O+W]=T[W]}else l.push(T)}}class I{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(l){return/^[\s\xa0]*$/.test(l)}function E(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function P(l){return P[" "](l),l}P[" "]=function(){};var D=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(l,p,v){for(const T in l)p.call(v,l[T],T,l)}function w(l,p){for(const v in l)p.call(void 0,l[v],v,l)}function y(l){const p={};for(const v in l)p[v]=l[v];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,p){let v,T;for(let O=1;O<arguments.length;O++){T=arguments[O];for(v in T)l[v]=T[v];for(let j=0;j<S.length;j++)v=S[j],Object.prototype.hasOwnProperty.call(T,v)&&(l[v]=T[v])}}function R(l){var p=1;l=l.split(":");const v=[];for(;0<p&&l.length;)v.push(l.shift()),p--;return l.length&&v.push(l.join(":")),v}function N(l){a.setTimeout(()=>{throw l},0)}function b(){var l=q;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class K{constructor(){this.h=this.g=null}add(p,v){const T=X.get();T.set(p,v),this.h?this.h.next=T:this.g=T,this.h=T}}var X=new I(()=>new ee,l=>l.reset());class ee{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let G,F=!1,q=new K,H=()=>{const l=a.Promise.resolve(void 0);G=()=>{l.then(Q)}};var Q=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(v){N(v)}var p=X;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}F=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return l}();function Ee(l,p){if(ue.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(D){e:{try{P(p.nodeName);var O=!0;break e}catch{}O=!1}O||(p=null)}}else v=="mouseover"?p=l.fromElement:v=="mouseout"&&(p=l.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:U[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ee.aa.h.call(this)}}L(Ee,ue);var U={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function ae(l,p,v,T,O){this.listener=l,this.proxy=null,this.src=p,this.type=v,this.capture=!!T,this.ha=O,this.key=++Ve,this.da=this.fa=!1}function V(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function re(l){this.src=l,this.g={},this.h=0}re.prototype.add=function(l,p,v,T,O){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var W=de(l,p,T,O);return-1<W?(p=l[W],v||(p.fa=!1)):(p=new ae(p,this.src,j,!!T,O),p.fa=v,l.push(p)),p};function le(l,p){var v=p.type;if(v in l.g){var T=l.g[v],O=Array.prototype.indexOf.call(T,p,void 0),j;(j=0<=O)&&Array.prototype.splice.call(T,O,1),j&&(V(p),l.g[v].length==0&&(delete l.g[v],l.h--))}}function de(l,p,v,T){for(var O=0;O<l.length;++O){var j=l[O];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==T)return O}return-1}var ie="closure_lm_"+(1e6*Math.random()|0),Se={};function De(l,p,v,T,O){if(Array.isArray(p)){for(var j=0;j<p.length;j++)De(l,p[j],v,T,O);return null}return v=Rt(v),l&&l[xe]?l.K(p,v,c(T)?!!T.capture:!!T,O):$e(l,p,v,!1,T,O)}function $e(l,p,v,T,O,j){if(!p)throw Error("Invalid event type");var W=c(O)?!!O.capture:!!O,Fe=lt(l);if(Fe||(l[ie]=Fe=new re(l)),v=Fe.add(p,v,T,W,j),v.proxy)return v;if(T=Ue(),v.proxy=T,T.src=l,T.listener=v,l.addEventListener)_e||(O=W),O===void 0&&(O=!1),l.addEventListener(p.toString(),T,O);else if(l.attachEvent)l.attachEvent(Je(p.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ue(){function l(v){return p.call(l.src,l.listener,v)}const p=he;return l}function Oe(l,p,v,T,O){if(Array.isArray(p))for(var j=0;j<p.length;j++)Oe(l,p[j],v,T,O);else T=c(T)?!!T.capture:!!T,v=Rt(v),l&&l[xe]?(l=l.i,p=String(p).toString(),p in l.g&&(j=l.g[p],v=de(j,v,T,O),-1<v&&(V(j[v]),Array.prototype.splice.call(j,v,1),j.length==0&&(delete l.g[p],l.h--)))):l&&(l=lt(l))&&(p=l.g[p.toString()],l=-1,p&&(l=de(p,v,T,O)),(v=-1<l?p[l]:null)&&ve(v))}function ve(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[xe])le(p.i,l);else{var v=l.type,T=l.proxy;p.removeEventListener?p.removeEventListener(v,T,l.capture):p.detachEvent?p.detachEvent(Je(v),T):p.addListener&&p.removeListener&&p.removeListener(T),(v=lt(p))?(le(v,l),v.h==0&&(v.src=null,p[ie]=null)):V(l)}}}function Je(l){return l in Se?Se[l]:Se[l]="on"+l}function he(l,p){if(l.da)l=!0;else{p=new Ee(p,this);var v=l.listener,T=l.ha||l.src;l.fa&&ve(l),l=v.call(T,p)}return l}function lt(l){return l=l[ie],l instanceof re?l:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(l){return typeof l=="function"?l:(l[se]||(l[se]=function(p){return l.handleEvent(p)}),l[se])}function Ye(){ne.call(this),this.i=new re(this),this.M=this,this.F=null}L(Ye,ne),Ye.prototype[xe]=!0,Ye.prototype.removeEventListener=function(l,p,v,T){Oe(this,l,p,v,T)};function Me(l,p){var v,T=l.F;if(T)for(v=[];T;T=T.F)v.push(T);if(l=l.M,T=p.type||p,typeof p=="string")p=new ue(p,l);else if(p instanceof ue)p.target=p.target||l;else{var O=p;p=new ue(T,l),C(p,O)}if(O=!0,v)for(var j=v.length-1;0<=j;j--){var W=p.g=v[j];O=ut(W,T,!0,p)&&O}if(W=p.g=l,O=ut(W,T,!0,p)&&O,O=ut(W,T,!1,p)&&O,v)for(j=0;j<v.length;j++)W=p.g=v[j],O=ut(W,T,!1,p)&&O}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var v=l.g[p],T=0;T<v.length;T++)V(v[T]);delete l.g[p],l.h--}}this.F=null},Ye.prototype.K=function(l,p,v,T){return this.i.add(String(l),p,!1,v,T)},Ye.prototype.L=function(l,p,v,T){return this.i.add(String(l),p,!0,v,T)};function ut(l,p,v,T){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var O=!0,j=0;j<p.length;++j){var W=p[j];if(W&&!W.da&&W.capture==v){var Fe=W.listener,Ct=W.ha||W.src;W.fa&&le(l.i,W),O=Fe.call(Ct,T)!==!1&&O}}return O&&!T.defaultPrevented}function ge(l,p,v){if(typeof l=="function")v&&(l=m(l,v));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function Dn(l){l.g=ge(()=>{l.g=null,l.i&&(l.i=!1,Dn(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class pi extends ne{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Dn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(l){ne.call(this),this.h=l,this.g={}}L(_r,ne);var gi=[];function mo(l){M(l.g,function(p,v){this.g.hasOwnProperty(v)&&ve(p)},l),l.g={}}_r.prototype.N=function(){_r.aa.N.call(this),mo(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=a.JSON.stringify,pl=a.JSON.parse,gl=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function os(){}os.prototype.h=null;function mi(l){return l.h||(l.h=l.i())}function vo(){}var wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){ue.call(this,"d")}L(Er,ue);function as(){ue.call(this,"c")}L(as,ue);var On={},vi=null;function yi(){return vi=vi||new Ye}On.La="serverreachability";function yo(l){ue.call(this,On.La,l)}L(yo,ue);function jn(l){const p=yi();Me(p,new yo(p))}On.STAT_EVENT="statevent";function _o(l,p){ue.call(this,On.STAT_EVENT,l),this.stat=p}L(_o,ue);function yt(l){const p=yi();Me(p,new _o(p,l))}On.Ma="timingevent";function _i(l,p){ue.call(this,On.Ma,l),this.size=p}L(_i,ue);function xr(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function Cr(){this.g=!0}Cr.prototype.xa=function(){this.g=!1};function ls(l,p,v,T,O,j){l.info(function(){if(l.g)if(j)for(var W="",Fe=j.split("&"),Ct=0;Ct<Fe.length;Ct++){var Ae=Fe[Ct].split("=");if(1<Ae.length){var Nt=Ae[0];Ae=Ae[1];var Mt=Nt.split("_");W=2<=Mt.length&&Mt[1]=="type"?W+(Nt+"="+Ae+"&"):W+(Nt+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+O+"]: "+p+`
`+v+`
`+W})}function ml(l,p,v,T,O,j,W){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+O+"]: "+p+`
`+v+`
`+j+" "+W})}function Kn(l,p,v,T){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+vl(l,v)+(T?" "+T:"")})}function us(l,p){l.info(function(){return"TIMEOUT: "+p})}Cr.prototype.info=function(){};function vl(l,p){if(!l.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var T=v[l];if(!(2>T.length)){var O=T[1];if(Array.isArray(O)&&!(1>O.length)){var j=O[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<O.length;W++)O[W]=""}}}}return ss(v)}catch{return p}}var wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cs;function Ei(){}L(Ei,os),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},cs=new Ei;function en(l,p,v,T){this.j=l,this.i=p,this.l=v,this.R=T||1,this.U=new _r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Eo}function Eo(){this.i=null,this.g="",this.h=!1}var xo={},Sr={};function ds(l,p,v){l.L=1,l.v=El(Qn(p)),l.m=v,l.P=!0,Co(l,null)}function Co(l,p){l.F=Date.now(),hs(l),l.A=Qn(l.v);var v=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),xg(v.i,"t",T),l.C=0,v=l.j.J,l.h=new Eo,l.g=Fg(l.j,v?p:null,!l.m),0<l.O&&(l.M=new pi(m(l.Y,l,l.g),l.O)),p=l.U,v=l.g,T=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(gi[0]=O.toString()),O=gi);for(var j=0;j<O.length;j++){var W=De(v,O[j],T||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),jn(),ls(l.i,l.u,l.A,l.l,l.R,l.m)}en.prototype.ca=function(l){l=l.target;const p=this.M;p&&Yn(l)==3?p.j():this.Y(l)},en.prototype.Y=function(l){try{if(l==this.g)e:{const Mt=Yn(this.g);var p=this.g.Ba();const gs=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||bg(this.g)))){this.J||Mt!=4||p==7||(p==8||0>=gs?jn(3):jn(2)),fe(this);var v=this.g.Z();this.X=v;t:if(xi(this)){var T=bg(this.g);l="";var O=T.length,j=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),So(this);var W="";break t}this.h.i=new a.TextDecoder}for(p=0;p<O;p++)this.h.h=!0,l+=this.h.i.decode(T[p],{stream:!(j&&p==O-1)});T.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=v==200,ml(this.i,this.u,this.A,this.l,this.R,Mt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Ct=this.g;if((Fe=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Fe)){var Ae=Fe;break t}}Ae=null}if(v=Ae)Kn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zc(this,v);else{this.o=!1,this.s=3,yt(12),Ci(this),So(this);break e}}if(this.P){v=!0;let Cn;for(;!this.J&&this.C<W.length;)if(Cn=yl(this,W),Cn==Sr){Mt==4&&(this.s=4,yt(14),v=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==xo){this.s=4,yt(15),Kn(this.i,this.l,W,"[Invalid Chunk]"),v=!1;break}else Kn(this.i,this.l,Cn,null),Zc(this,Cn);if(xi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||W.length!=0||this.h.h||(this.s=1,yt(16),v=!1),this.o=this.o&&v,!v)Kn(this.i,this.l,W,"[Invalid Chunked Response]"),Ci(this),So(this);else if(0<W.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),rd(Nt),Nt.M=!0,yt(11))}}else Kn(this.i,this.l,W,null),Zc(this,W);Mt==4&&Ci(this),this.o&&!this.J&&(Mt==4?Og(this.j,this):(this.o=!1,hs(this)))}else jC(this.g),v==400&&0<W.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Ci(this),So(this)}}}catch{}finally{}};function xi(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function yl(l,p){var v=l.C,T=p.indexOf(`
`,v);return T==-1?Sr:(v=Number(p.substring(v,T)),isNaN(v)?xo:(T+=1,T+v>p.length?Sr:(p=p.slice(T,T+v),l.C=T+v,p)))}en.prototype.cancel=function(){this.J=!0,Ci(this)};function hs(l){l.S=Date.now()+l.I,Ir(l,l.I)}function Ir(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=xr(m(l.ba,l),p)}function fe(l){l.B&&(a.clearTimeout(l.B),l.B=null)}en.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(us(this.i,this.A),this.L!=2&&(jn(),yt(17)),Ci(this),this.s=2,So(this)):Ir(this,this.S-l)};function So(l){l.j.G==0||l.J||Og(l.j,l)}function Ci(l){fe(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,mo(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function Zc(l,p){try{var v=l.j;if(v.G!=0&&(v.g==l||Jc(v.h,l))){if(!l.K&&Jc(v.h,l)&&v.G==3){try{var T=v.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var O=T;if(O[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)Tl(v),Sl(v);else break e;nd(v),yt(18)}}else v.za=O[1],0<v.za-v.T&&37500>O[2]&&v.F&&v.v==0&&!v.C&&(v.C=xr(m(v.Za,v),6e3));if(1>=fg(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ii(v,11)}else if((l.K||v.g==l)&&Tl(v),!x(p))for(O=v.Da.g.parse(p),p=0;p<O.length;p++){let Ae=O[p];if(v.T=Ae[0],Ae=Ae[1],v.G==2)if(Ae[0]=="c"){v.K=Ae[1],v.ia=Ae[2];const Nt=Ae[3];Nt!=null&&(v.la=Nt,v.j.info("VER="+v.la));const Mt=Ae[4];Mt!=null&&(v.Aa=Mt,v.j.info("SVER="+v.Aa));const gs=Ae[5];gs!=null&&typeof gs=="number"&&0<gs&&(T=1.5*gs,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Cn=l.g;if(Cn){const Ll=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ll){var j=T.h;j.g||Ll.indexOf("spdy")==-1&&Ll.indexOf("quic")==-1&&Ll.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Xc(j,j.h),j.h=null))}if(T.D){const id=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;id&&(T.ya=id,qe(T.I,T.D,id))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var W=l;if(T.qa=Ug(T,T.J?T.ia:null,T.W),W.K){pg(T.h,W);var Fe=W,Ct=T.L;Ct&&(Fe.I=Ct),Fe.B&&(fe(Fe),hs(Fe)),T.g=W}else Mg(T);0<v.i.length&&Il(v)}else Ae[0]!="stop"&&Ae[0]!="close"||Ii(v,7);else v.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Ii(v,7):td(v):Ae[0]!="noop"&&v.l&&v.l.ta(Ae),v.v=0)}}jn(4)}catch{}}var EC=class{constructor(l,p){this.g=l,this.map=p}};function dg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function fg(l){return l.h?1:l.g?l.g.size:0}function Jc(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Xc(l,p){l.g?l.g.add(p):l.h=p}function pg(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}dg.prototype.cancel=function(){if(this.i=gg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function gg(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const v of l.g.values())p=p.concat(v.D);return p}return k(l.i)}function xC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var p=[],v=l.length,T=0;T<v;T++)p.push(l[T]);return p}p=[],v=0;for(T in l)p[v++]=l[T];return p}function CC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var p=[];l=l.length;for(var v=0;v<l;v++)p.push(v);return p}p=[],v=0;for(const T in l)p[v++]=T;return p}}}function mg(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var v=CC(l),T=xC(l),O=T.length,j=0;j<O;j++)p.call(void 0,T[j],v&&v[j],l)}var vg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SC(l,p){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var T=l[v].indexOf("="),O=null;if(0<=T){var j=l[v].substring(0,T);O=l[v].substring(T+1)}else j=l[v];p(j,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Si(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Si){this.h=l.h,_l(this,l.j),this.o=l.o,this.g=l.g,wl(this,l.s),this.l=l.l;var p=l.i,v=new ko;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),yg(this,v),this.m=l.m}else l&&(p=String(l).match(vg))?(this.h=!1,_l(this,p[1]||"",!0),this.o=Io(p[2]||""),this.g=Io(p[3]||"",!0),wl(this,p[4]),this.l=Io(p[5]||"",!0),yg(this,p[6]||"",!0),this.m=Io(p[7]||"")):(this.h=!1,this.i=new ko(null,this.h))}Si.prototype.toString=function(){var l=[],p=this.j;p&&l.push(To(p,_g,!0),":");var v=this.g;return(v||p=="file")&&(l.push("//"),(p=this.o)&&l.push(To(p,_g,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(To(v,v.charAt(0)=="/"?kC:TC,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",To(v,bC)),l.join("")};function Qn(l){return new Si(l)}function _l(l,p,v){l.j=v?Io(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function wl(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function yg(l,p,v){p instanceof ko?(l.i=p,PC(l.i,l.h)):(v||(p=To(p,LC)),l.i=new ko(p,l.h))}function qe(l,p,v){l.i.set(p,v)}function El(l){return qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Io(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function To(l,p,v){return typeof l=="string"?(l=encodeURI(l).replace(p,IC),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function IC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var _g=/[#\/\?@]/g,TC=/[#\?:]/g,kC=/[#\?]/g,LC=/[#\?@]/g,bC=/#/g;function ko(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Tr(l){l.g||(l.g=new Map,l.h=0,l.i&&SC(l.i,function(p,v){l.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=ko.prototype,t.add=function(l,p){Tr(this),this.i=null,l=fs(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(p),this.h+=1,this};function wg(l,p){Tr(l),p=fs(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Eg(l,p){return Tr(l),p=fs(l,p),l.g.has(p)}t.forEach=function(l,p){Tr(this),this.g.forEach(function(v,T){v.forEach(function(O){l.call(p,O,T,this)},this)},this)},t.na=function(){Tr(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let T=0;T<p.length;T++){const O=l[T];for(let j=0;j<O.length;j++)v.push(p[T])}return v},t.V=function(l){Tr(this);let p=[];if(typeof l=="string")Eg(this,l)&&(p=p.concat(this.g.get(fs(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)p=p.concat(l[v])}return p},t.set=function(l,p){return Tr(this),this.i=null,l=fs(this,l),Eg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function xg(l,p,v){wg(l,p),0<v.length&&(l.i=null,l.g.set(fs(l,p),k(v)),l.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var T=p[v];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var O=j;W[T]!==""&&(O+="="+encodeURIComponent(String(W[T]))),l.push(O)}}return this.i=l.join("&")};function fs(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function PC(l,p){p&&!l.j&&(Tr(l),l.i=null,l.g.forEach(function(v,T){var O=T.toLowerCase();T!=O&&(wg(this,T),xg(this,O,v))},l)),l.j=p}function AC(l,p){const v=new Cr;if(a.Image){const T=new Image;T.onload=_(kr,v,"TestLoadImage: loaded",!0,p,T),T.onerror=_(kr,v,"TestLoadImage: error",!1,p,T),T.onabort=_(kr,v,"TestLoadImage: abort",!1,p,T),T.ontimeout=_(kr,v,"TestLoadImage: timeout",!1,p,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else p(!1)}function RC(l,p){const v=new Cr,T=new AbortController,O=setTimeout(()=>{T.abort(),kr(v,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:T.signal}).then(j=>{clearTimeout(O),j.ok?kr(v,"TestPingServer: ok",!0,p):kr(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(O),kr(v,"TestPingServer: error",!1,p)})}function kr(l,p,v,T,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),T(v)}catch{}}function NC(){this.g=new gl}function MC(l,p,v){const T=v||"";try{mg(l,function(O,j){let W=O;c(O)&&(W=ss(O)),p.push(T+j+"="+encodeURIComponent(W))})}catch(O){throw p.push(T+"type="+encodeURIComponent("_badmap")),O}}function Lo(l){this.l=l.Ub||null,this.j=l.eb||!1}L(Lo,os),Lo.prototype.g=function(){return new xl(this.l,this.j)},Lo.prototype.i=function(l){return function(){return l}}({});function xl(l,p){Ye.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(xl,Ye),t=xl.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Po(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Po(this)),this.g&&(this.readyState=3,Po(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?bo(this):Po(this),this.readyState==3&&Cg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,bo(this))},t.Qa=function(l){this.g&&(this.response=l,bo(this))},t.ga=function(){this.g&&bo(this)};function bo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Po(l)}t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=p.next();return l.join(`\r
`)};function Po(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Sg(l){let p="";return M(l,function(v,T){p+=T,p+=":",p+=v,p+=`\r
`}),p}function ed(l,p,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Sg(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):qe(l,p,v))}function it(l){Ye.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(it,Ye);var DC=/^https?$/i,OC=["POST","PUT"];t=it.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,p,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cs.g(),this.v=this.o?mi(this.o):mi(cs),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(j){Ig(this,j);return}if(l=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var O in T)v.set(O,T[O]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())v.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),O=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(OC,p,void 0))||T||O||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of v)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lg(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){Ig(this,j)}};function Ig(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Tg(l),Cl(l)}function Tg(l){l.A||(l.A=!0,Me(l,"complete"),Me(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Me(this,"complete"),Me(this,"abort"),Cl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cl(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kg(this):this.bb())},t.bb=function(){kg(this)};function kg(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Yn(l)!=4||l.Z()!=2)){if(l.u&&Yn(l)==4)ge(l.Ea,0,l);else if(Me(l,"readystatechange"),Yn(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var T;if(T=W===0){var O=String(l.D).match(vg)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),T=!DC.test(O?O.toLowerCase():"")}v=T}if(v)Me(l,"complete"),Me(l,"success");else{l.m=6;try{var j=2<Yn(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",Tg(l)}}finally{Cl(l)}}}}function Cl(l,p){if(l.g){Lg(l);const v=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||Me(l,"ready");try{v.onreadystatechange=T}catch{}}}function Lg(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Yn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),pl(p)}};function bg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function jC(l){const p={};l=(l.g&&2<=Yn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(x(l[T]))continue;var v=R(l[T]);const O=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[O]||[];p[O]=j,j.push(v)}w(p,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(l,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||p}function Pg(l){this.Aa=0,this.i=[],this.j=new Cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,l),this.cb=Ao("retryDelaySeedMs",1e4,l),this.Wa=Ao("forwardChannelMaxRetries",2,l),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new dg(l&&l.concurrentRequestLimit),this.Da=new NC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pg.prototype,t.la=8,t.G=1,t.connect=function(l,p,v,T){yt(0),this.W=l,this.H=p||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Ug(this,null,this.W),Il(this)};function td(l){if(Ag(l),l.G==3){var p=l.U++,v=Qn(l.I);if(qe(v,"SID",l.K),qe(v,"RID",p),qe(v,"TYPE","terminate"),Ro(l,v),p=new en(l,l.j,p),p.L=2,p.v=El(Qn(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=Fg(p.j,null),p.g.ea(p.v)),p.F=Date.now(),hs(p)}Vg(l)}function Sl(l){l.g&&(rd(l),l.g.cancel(),l.g=null)}function Ag(l){Sl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Tl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Il(l){if(!hg(l.h)&&!l.s){l.s=!0;var p=l.Ga;G||H(),F||(G(),F=!0),q.add(p,l),l.B=0}}function VC(l,p){return fg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=xr(m(l.Ga,l,p),jg(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new en(this,this.j,l);let j=this.o;if(this.S&&(j?(j=y(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(O.H=j,j=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Ng(this,O,p),v=Qn(this.I),qe(v,"RID",l),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),Ro(this,v),j&&(this.O?p="headers="+encodeURIComponent(String(Sg(j)))+"&"+p:this.m&&ed(v,this.m,j)),Xc(this.h,O),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",p),qe(v,"SID","null"),O.T=!0,ds(O,v,null)):ds(O,v,p),this.G=2}}else this.G==3&&(l?Rg(this,l):this.i.length==0||hg(this.h)||Rg(this))};function Rg(l,p){var v;p?v=p.l:v=l.U++;const T=Qn(l.I);qe(T,"SID",l.K),qe(T,"RID",v),qe(T,"AID",l.T),Ro(l,T),l.m&&l.o&&ed(T,l.m,l.o),v=new en(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Ng(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Xc(l.h,v),ds(v,T,p)}function Ro(l,p){l.H&&M(l.H,function(v,T){qe(p,T,v)}),l.l&&mg({},function(v,T){qe(p,T,v)})}function Ng(l,p,v){v=Math.min(l.i.length,v);var T=l.l?m(l.l.Na,l.l,l):null;e:{var O=l.i;let j=-1;for(;;){const W=["count="+v];j==-1?0<v?(j=O[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Fe=!0;for(let Ct=0;Ct<v;Ct++){let Ae=O[Ct].g;const Nt=O[Ct].map;if(Ae-=j,0>Ae)j=Math.max(0,O[Ct].g-100),Fe=!1;else try{MC(Nt,W,"req"+Ae+"_")}catch{T&&T(Nt)}}if(Fe){T=W.join("&");break e}}}return l=l.i.splice(0,v),p.D=l,T}function Mg(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;G||H(),F||(G(),F=!0),q.add(p,l),l.v=0}}function nd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=xr(m(l.Fa,l),jg(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Dg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=xr(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Sl(this),Dg(this))};function rd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Dg(l){l.g=new en(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Qn(l.qa);qe(p,"RID","rpc"),qe(p,"SID",l.K),qe(p,"AID",l.T),qe(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&qe(p,"TO",l.ja),qe(p,"TYPE","xmlhttp"),Ro(l,p),l.m&&l.o&&ed(p,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=El(Qn(p)),v.m=null,v.P=!0,Co(v,l)}t.Za=function(){this.C!=null&&(this.C=null,Sl(this),nd(this),yt(19))};function Tl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Og(l,p){var v=null;if(l.g==p){Tl(l),rd(l),l.g=null;var T=2}else if(Jc(l.h,p))v=p.D,pg(l.h,p),T=1;else return;if(l.G!=0){if(p.o)if(T==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var O=l.B;T=yi(),Me(T,new _i(T,v)),Il(l)}else Mg(l);else if(O=p.s,O==3||O==0&&0<p.X||!(T==1&&VC(l,p)||T==2&&nd(l)))switch(v&&0<v.length&&(p=l.h,p.i=p.i.concat(v)),O){case 1:Ii(l,5);break;case 4:Ii(l,10);break;case 3:Ii(l,6);break;default:Ii(l,2)}}}function jg(l,p){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*p}function Ii(l,p){if(l.j.info("Error code "+p),p==2){var v=m(l.fb,l),T=l.Xa;const O=!T;T=new Si(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_l(T,"https"),El(T),O?AC(T.toString(),v):RC(T.toString(),v)}else yt(2);l.G=0,l.l&&l.l.sa(p),Vg(l),Ag(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Vg(l){if(l.G=0,l.ka=[],l.l){const p=gg(l.h);(p.length!=0||l.i.length!=0)&&(A(l.ka,p),A(l.ka,l.i),l.h.i.length=0,k(l.i),l.i.length=0),l.l.ra()}}function Ug(l,p,v){var T=v instanceof Si?Qn(v):new Si(v);if(T.g!="")p&&(T.g=p+"."+T.g),wl(T,T.s);else{var O=a.location;T=O.protocol,p=p?p+"."+O.hostname:O.hostname,O=+O.port;var j=new Si(null);T&&_l(j,T),p&&(j.g=p),O&&wl(j,O),v&&(j.l=v),T=j}return v=l.D,p=l.ya,v&&p&&qe(T,v,p),qe(T,"VER",l.la),Ro(l,T),T}function Fg(l,p,v){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new it(new Lo({eb:v})):new it(l.pa),p.Ha(l.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bg(){}t=Bg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kl(){}kl.prototype.g=function(l,p){return new tn(l,p)};function tn(l,p){Ye.call(this),this.g=new Pg(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!x(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new ps(this)}L(tn,Ye),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){td(this.g)},tn.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=ss(l),l=v);p.i.push(new EC(p.Ya++,l)),p.G==3&&Il(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,td(this.g),delete this.g,tn.aa.N.call(this)};function zg(l){Er.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const v in p){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}L(zg,Er);function $g(){as.call(this),this.status=1}L($g,as);function ps(l){this.g=l}L(ps,Bg),ps.prototype.ua=function(){Me(this.g,"a")},ps.prototype.ta=function(l){Me(this.g,new zg(l))},ps.prototype.sa=function(l){Me(this.g,new $g)},ps.prototype.ra=function(){Me(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,jE=function(){return new kl},OE=function(){return yi()},DE=On,Yh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wi.NO_ERROR=0,wi.TIMEOUT=8,wi.HTTP_ERROR=6,gu=wi,wo.COMPLETE="complete",ME=wo,vo.EventType=wr,wr.OPEN="a",wr.CLOSE="b",wr.ERROR="c",wr.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Zo=vo,NE=Lo,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,RE=it}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const jv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new fp("@firebase/firestore");function Bo(){return Ki.logLevel}function J(t,...e){if(Ki.logLevel<=Le.DEBUG){const n=e.map(bp);Ki.debug(`Firestore (${co}): ${t}`,...n)}}function hr(t,...e){if(Ki.logLevel<=Le.ERROR){const n=e.map(bp);Ki.error(`Firestore (${co}): ${t}`,...n)}}function Js(t,...e){if(Ki.logLevel<=Le.WARN){const n=e.map(bp);Ki.warn(`Firestore (${co}): ${t}`,...n)}}function bp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: `+t;throw hr(e),new Error(e)}function He(t,e){t||pe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class uP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cP{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new VE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Vt(e)}}class dP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new fP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function Xs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new vt(0,0))}static max(){return new me(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends Va{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const mP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends Va{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return mP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ke.fromString(e))}static fromName(e){return new oe(Ke.fromString(e).popFirst(5))}static empty(){return new oe(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ke(e.slice()))}}function vP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new oi(i,oe.empty(),e)}function yP(t){return new oi(t.readTime,t.key,-1)}class oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oi(me.min(),oe.empty(),-1)}static max(){return new oi(me.max(),oe.empty(),-1)}}function _P(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==wP)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function xP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pp.oe=-1;function Dc(t){return t==null}function nc(t){return t===0&&1/t==-1/0}function CP(t){return typeof t=="number"&&Number.isInteger(t)&&!nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kl(this.root,e,this.comparator,!0)}}class Kl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??It.RED,this.left=i??It.EMPTY,this.right=s??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new It(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uv(this.data.getIterator())}getIteratorFrom(e){return new Uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new an([])}unionWith(e){let n=new Lt(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BE("Invalid base64 string: "+s):s}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const SP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ai(t){if(He(!!t),typeof t=="string"){let e=0;const n=SP.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qi(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rp(t){const e=t.mapValue.fields.__previous_value__;return Ap(e)?Rp(e):e}function Ua(t){const e=ai(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Fa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ap(t)?4:TP(t)?9007199254740991:10:pe()}function qn(t,e){if(t===e)return!0;const n=Yi(t);if(n!==Yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ua(t).isEqual(Ua(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ai(i.timestampValue),a=ai(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qi(i.bytesValue).isEqual(Qi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return dt(i.geoPointValue.latitude)===dt(s.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dt(i.integerValue)===dt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=dt(i.doubleValue),a=dt(s.doubleValue);return o===a?nc(o)===nc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xs(t.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Vv(o)!==Vv(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!qn(o[u],a[u])))return!1;return!0}(t,e);default:return pe()}}function Ba(t,e){return(t.values||[]).find(n=>qn(n,e))!==void 0}function eo(t,e){if(t===e)return 0;const n=Yi(t),r=Yi(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=dt(s.integerValue||s.doubleValue),u=dt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Fv(t.timestampValue,e.timestampValue);case 4:return Fv(Ua(t),Ua(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Qi(s),u=Qi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const f=Ne(a[c],u[c]);if(f!==0)return f}return Ne(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ne(dt(s.latitude),dt(o.latitude));return a!==0?a:Ne(dt(s.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const f=eo(a[c],u[c]);if(f)return f}return Ne(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ql.mapValue&&o===Ql.mapValue)return 0;if(s===Ql.mapValue)return 1;if(o===Ql.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const m=Ne(u[g],f[g]);if(m!==0)return m;const _=eo(a[u[g]],c[f[g]]);if(_!==0)return _}return Ne(u.length,f.length)}(t.mapValue,e.mapValue);default:throw pe()}}function Fv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=ai(t),r=ai(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function to(t){return Zh(t)}function Zh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ai(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Zh(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Zh(n.fields[o])}`;return i+"}"}(t.mapValue):pe()}function Bv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jh(t){return!!t&&"integerValue"in t}function Np(t){return!!t&&"arrayValue"in t}function zv(t){return!!t&&"nullValue"in t}function $v(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mu(t){return!!t&&"mapValue"in t}function da(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=da(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=da(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=da(n)}setAll(e){let n=Tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=da(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){rs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qt(da(this.value))}}function zE(t){const e=[];return rs(t.fields,(n,r)=>{const i=new Tt([n]);if(mu(r)){const s=zE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,me.min(),me.min(),me.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ft(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new Ft(e,2,n,me.min(),me.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,me.min(),me.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n){this.position=e,this.inclusive=n}}function Wv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=eo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function kP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{}class ft extends $E{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bP(e,n,r):n==="array-contains"?new RP(e,r):n==="in"?new NP(e,r):n==="not-in"?new MP(e,r):n==="array-contains-any"?new DP(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PP(e,r):new AP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(eo(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends $E{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mn(e,n)}matches(e){return WE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WE(t){return t.op==="and"}function HE(t){return LP(t)&&WE(t)}function LP(t){for(const e of t.filters)if(e instanceof Mn)return!1;return!0}function Xh(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+to(t.value);if(HE(t))return t.filters.map(e=>Xh(e)).join(",");{const e=t.filters.map(n=>Xh(n)).join(",");return`${t.op}(${e})`}}function qE(t,e){return t instanceof ft?function(r,i){return i instanceof ft&&r.op===i.op&&r.field.isEqual(i.field)&&qn(r.value,i.value)}(t,e):t instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&qE(o,i.filters[a]),!0):!1}(t,e):void pe()}function GE(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(GE).join(" ,")+"}"}(t):"Filter"}class bP extends ft{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class PP extends ft{constructor(e,n){super(e,"in",n),this.keys=KE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AP extends ft{constructor(e,n){super(e,"not-in",n),this.keys=KE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class RP extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Np(n)&&Ba(n.arrayValue,this.value)}}class NP extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ba(this.value.arrayValue,n)}}class MP extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ba(this.value.arrayValue,n)}}class DP extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ba(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function qv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new OP(t,e,n,r,i,s,o)}function Mp(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Dc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>to(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>to(r)).join(",")),e.ue=n}return e.ue}function Dp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hv(t.startAt,e.startAt)&&Hv(t.endAt,e.endAt)}function ef(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jP(t,e,n,r,i,s,o,a){return new ll(t,e,n,r,i,s,o,a)}function Op(t){return new ll(t)}function Gv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QE(t){return t.collectionGroup!==null}function ha(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(Tt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ic(s,r))}),n.has(Tt.keyField().canonicalString())||e.ce.push(new ic(Tt.keyField(),r))}return e.ce}function Wn(t){const e=ye(t);return e.le||(e.le=VP(e,ha(t))),e.le}function VP(t,e){if(t.limitType==="F")return qv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ic(i.field,s)});const n=t.endAt?new rc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rc(t.startAt.position,t.startAt.inclusive):null;return qv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tf(t,e){const n=t.filters.concat([e]);return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nf(t,e,n){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oc(t,e){return Dp(Wn(t),Wn(e))&&t.limitType===e.limitType}function YE(t){return`${Mp(Wn(t))}|lt:${t.limitType}`}function ys(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GE(i)).join(", ")}]`),Dc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>to(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>to(i)).join(",")),`Target(${r})`}(Wn(t))}; limitType=${t.limitType})`}function jc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ha(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=Wv(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ha(r),i)||r.endAt&&!function(o,a,u){const c=Wv(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ha(r),i))}(t,e)}function UP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZE(t){return(e,n)=>{let r=!1;for(const i of ha(t)){const s=FP(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function FP(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?eo(u,c):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=new rt(oe.comparator);function fr(){return BP}const JE=new rt(oe.comparator);function Jo(...t){let e=JE;for(const n of t)e=e.insert(n.key,n);return e}function XE(t){let e=JE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Di(){return fa()}function ex(){return fa()}function fa(){return new ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const zP=new rt(oe.comparator),$P=new Lt(oe.comparator);function ke(...t){let e=$P;for(const n of t)e=e.add(n);return e}const WP=new Lt(Ne);function HP(){return WP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(e)?"-0":e}}function nx(t){return{integerValue:""+t}}function qP(t,e){return CP(e)?nx(e):tx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function GP(t,e,n){return t instanceof za?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ap(s)&&(s=Rp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof $a?ix(t,e):t instanceof Wa?sx(t,e):function(i,s){const o=rx(i,s),a=Kv(o)+Kv(i.Pe);return Jh(o)&&Jh(i.Pe)?nx(a):tx(i.serializer,a)}(t,e)}function KP(t,e,n){return t instanceof $a?ix(t,e):t instanceof Wa?sx(t,e):n}function rx(t,e){return t instanceof sc?function(r){return Jh(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class za extends Vc{}class $a extends Vc{constructor(e){super(),this.elements=e}}function ix(t,e){const n=ox(e);for(const r of t.elements)n.some(i=>qn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wa extends Vc{constructor(e){super(),this.elements=e}}function sx(t,e){let n=ox(e);for(const r of t.elements)n=n.filter(i=>!qn(i,r));return{arrayValue:{values:n}}}class sc extends Vc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Kv(t){return dt(t.integerValue||t.doubleValue)}function ox(t){return Np(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n){this.field=e,this.transform=n}}function YP(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $a&&i instanceof $a||r instanceof Wa&&i instanceof Wa?Xs(r.elements,i.elements,qn):r instanceof sc&&i instanceof sc?qn(r.Pe,i.Pe):r instanceof za&&i instanceof za}(t.transform,e.transform)}class ZP{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uc{}function ax(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ux(t.key,Rn.none()):new ul(t.key,t.data,Rn.none());{const n=t.data,r=Qt.empty();let i=new Lt(Tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fi(t.key,r,new an(i.toArray()),Rn.none())}}function JP(t,e,n){t instanceof ul?function(i,s,o){const a=i.value.clone(),u=Yv(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fi?function(i,s,o){if(!vu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Yv(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(lx(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pa(t,e,n,r){return t instanceof ul?function(s,o,a,u){if(!vu(s.precondition,o))return a;const c=s.value.clone(),f=Zv(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof fi?function(s,o,a,u){if(!vu(s.precondition,o))return a;const c=Zv(s.fieldTransforms,u,o),f=o.data;return f.setAll(lx(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return vu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function XP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rx(r.transform,i||null);s!=null&&(n===null&&(n=Qt.empty()),n.set(r.field,s))}return n||null}function Qv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xs(r,i,(s,o)=>YP(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ul extends Uc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fi extends Uc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Yv(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,KP(o,a,n[i]))}return r}function Zv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,GP(s,o,e))}return r}class ux extends Uc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eA extends Uc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&JP(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ex();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=ax(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(n,r)=>Qv(n,r))&&Xs(this.baseMutations,e.baseMutations,(n,r)=>Qv(n,r))}}class jp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return zP}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,be;function iA(t){switch(t){default:return pe();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function cx(t){if(t===void 0)return hr("GRPC error has no .code"),B.UNKNOWN;switch(t){case ct.OK:return B.OK;case ct.CANCELLED:return B.CANCELLED;case ct.UNKNOWN:return B.UNKNOWN;case ct.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ct.INTERNAL:return B.INTERNAL;case ct.UNAVAILABLE:return B.UNAVAILABLE;case ct.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ct.NOT_FOUND:return B.NOT_FOUND;case ct.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ct.ABORTED:return B.ABORTED;case ct.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ct.DATA_LOSS:return B.DATA_LOSS;default:return pe()}}(be=ct||(ct={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Vi([4294967295,4294967295],0);function Jv(t){const e=sA().encode(t),n=new AE;return n.update(e),new Uint8Array(n.digest())}function Xv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vi([n,r],0),new Vi([i,s],0)]}class Vp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(r<0)throw new Xo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Vi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Vi.fromNumber(r)));return i.compare(oA)===1&&(i=new Vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Jv(e),[r,i]=Xv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Vp(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Jv(e),[r,i]=Xv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fc(me.min(),i,new rt(Ne),fr(),ke())}}class cl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cl(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class dx{constructor(e,n){this.targetId=e,this.me=n}}class hx{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ey{constructor(){this.fe=0,this.ge=ny(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ke(),n=ke(),r=ke();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new cl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=ny()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aA{constructor(e){this.Le=e,this.Be=new Map,this.ke=fr(),this.qe=ty(),this.Qe=new rt(Ne)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(ef(s))if(r===0){const o=new oe(s.path);this.Ue(n,o,Ft.newNoDocument(o,me.min()))}else He(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Qi(r).toUint8Array()}catch(u){if(u instanceof BE)return Js("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Vp(o,i,s)}catch(u){return Js(u instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&ef(a.target)){const u=new oe(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Ft.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=ke();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Fc(e,n,this.Qe,this.ke,r);return this.ke=fr(),this.qe=ty(),this.Qe=new rt(Ne),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ey,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Lt(Ne),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ey),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ty(){return new rt(oe.comparator)}function ny(){return new rt(oe.comparator)}const lA={asc:"ASCENDING",desc:"DESCENDING"},uA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cA={and:"AND",or:"OR"};class dA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rf(t,e){return t.useProto3Json||Dc(e)?e:{value:e}}function oc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hA(t,e){return oc(t,e.toTimestamp())}function Hn(t){return He(!!t),me.fromTimestamp(function(n){const r=ai(n);return new vt(r.seconds,r.nanos)}(t))}function Up(t,e){return sf(t,e).canonicalString()}function sf(t,e){const n=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function px(t){const e=Ke.fromString(t);return He(_x(e)),e}function of(t,e){return Up(t.databaseId,e.path)}function Ud(t,e){const n=px(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(mx(n))}function gx(t,e){return Up(t.databaseId,e)}function fA(t){const e=px(t);return e.length===4?Ke.emptyPath():mx(e)}function af(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mx(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ry(t,e,n){return{name:of(t,e),fields:n.value.mapValue.fields}}function pA(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(He(f===void 0||typeof f=="string"),zt.fromBase64String(f||"")):(He(f===void 0||f instanceof Buffer||f instanceof Uint8Array),zt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?B.UNKNOWN:cx(c.code);return new Z(f,c.message||"")}(o);n=new hx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ud(t,r.document.name),s=Hn(r.document.updateTime),o=r.document.createTime?Hn(r.document.createTime):me.min(),a=new Qt({mapValue:{fields:r.document.fields}}),u=Ft.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new yu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ud(t,r.document),s=r.readTime?Hn(r.readTime):me.min(),o=Ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new yu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ud(t,r.document),s=r.removedTargetIds||[];n=new yu([],s,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new rA(i,s),a=r.targetId;n=new dx(a,o)}}return n}function gA(t,e){let n;if(e instanceof ul)n={update:ry(t,e.key,e.value)};else if(e instanceof ux)n={delete:of(t,e.key)};else if(e instanceof fi)n={update:ry(t,e.key,e.data),updateMask:SA(e.fieldMask)};else{if(!(e instanceof eA))return pe();n={verify:of(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof za)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $a)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:hA(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pe()}(t,e.precondition)),n}function mA(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Hn(i.updateTime):Hn(s);return o.isEqual(me.min())&&(o=Hn(s)),new ZP(o,i.transformResults||[])}(n,e))):[]}function vA(t,e){return{documents:[gx(t,e.path)]}}function yA(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gx(t,i);const s=function(c){if(c.length!==0)return yx(Mn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:_s(m.field),direction:EA(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=rf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function _A(t){let e=fA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){const m=vx(g);return m instanceof Mn&&HE(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(m=>function(L){return new ic(ws(L.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(g){let m;return m=typeof g=="object"?g.value:g,Dc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new rc(_,m)}(n.startAt));let c=null;return n.endAt&&(c=function(g){const m=!g.before,_=g.values||[];return new rc(_,m)}(n.endAt)),jP(e,i,o,s,a,"F",u,c)}function wA(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ws(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ws(n.unaryFilter.field);return ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ws(n.unaryFilter.field);return ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ws(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(ws(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(r=>vx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function EA(t){return lA[t]}function xA(t){return uA[t]}function CA(t){return cA[t]}function _s(t){return{fieldPath:t.canonicalString()}}function ws(t){return Tt.fromServerFormat(t.fieldPath)}function yx(t){return t instanceof ft?function(n){if(n.op==="=="){if($v(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NAN"}};if(zv(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($v(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NAN"}};if(zv(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(n.field),op:xA(n.op),value:n.value}}}(t):t instanceof Mn?function(n){const r=n.getFilters().map(i=>yx(i));return r.length===1?r[0]:{compositeFilter:{op:CA(n.op),filters:r}}}(t):pe()}function SA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _x(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,r,i,s=me.min(),o=me.min(),a=zt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.ct=e}}function TA(t){const e=_A({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this._n=new LA}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(oi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(oi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class LA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(Ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new no(0)}static Ln(){return new no(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.changes=new ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pa(r.mutation,i,an.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const i=Di();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Jo();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fr();const o=fa(),a=function(){return fa()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof fi)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),pa(f.mutation,c,f.mutation.getFieldMask(),vt.now())):o.set(c.key,an.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var g;return a.set(c,new PA(f,(g=o.get(c))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fa();let i=new rt((o,a)=>o-a),s=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||an.empty();f=a.applyToLocalView(c,f),r.set(u,f);const g=(i.get(a.batchId)||ke()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,f=u.value,g=ex();f.forEach(m=>{if(!s.has(m)){const _=ax(n.get(m),r.get(m));_!==null&&g.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,g))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Di());let a=-1,u=s;return o.next(c=>z.forEach(c,(f,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(f)?z.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ke())).next(f=>({batchId:a,changes:XE(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Jo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Jo();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,u=>{const c=function(g,m){return new ll(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((g,m)=>{o=o.insert(g,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Ft.newInvalidDocument(f)))});let a=Jo();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&pa(f.mutation,c,an.empty(),vt.now()),jc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hn(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:TA(i.bundledQuery),readTime:Hn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.overlays=new rt(oe.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Di();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Di(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rt((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Di(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Di(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nA(n,r));let s=this.hr.get(n);s===void 0&&(s=ke(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.Pr=new Lt(_t.Ir),this.Tr=new Lt(_t.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new _t(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new oe(new Ke([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new oe(new Ke([])),r=new _t(n,e),i=new _t(n,e+1);let s=ke();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return oe.comparator(e.key,n.key)||Ne(e.pr,n.pr)}static Er(e,n){return Ne(e.pr,n.pr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Lt(_t.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tA(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Ne);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new _t(new oe(s),0);let a=new Lt(Ne);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},o),z.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new _t(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.vr=e,this.docs=function(){return new rt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fr();const o=n.path,a=new oe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_P(yP(f),r)<=0||(i.has(f.key)||jc(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pe()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new OA(this)}getSize(e){return z.resolve(this.size)}}class OA extends bA{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.persistence=e,this.Mr=new ho(n=>Mp(n),Dp),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Fp,this.targetCount=0,this.Lr=no.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new no(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n){this.Br={},this.overlays={},this.kr=new Pp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new jA(this),this.indexManager=new kA,this.remoteDocumentCache=function(i){return new DA(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new IA(n),this.$r=new RA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new MA(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new UA(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class UA extends EP{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.zr=new Fp,this.jr=null}static Hr(e){return new Bp(e)}get Jr(){if(this.jr)return this.jr;throw pe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=oe.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ke(),i=ke();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return LT()?8:xP(At())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new FA;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Bo()<=Le.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",ys(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(Bo()<=Le.DEBUG&&J("QueryEngine","Query:",ys(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Bo()<=Le.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",ys(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):z.resolve())}ji(e,n){if(Gv(n))return z.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nf(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ke(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,o,u.readTime)?this.ji(e,nf(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return Gv(n)||i.isEqual(me.min())?z.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?z.resolve(null):(Bo()<=Le.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ys(n)),this.es(e,o,n,vP(i,-1)).next(a=>a))})}Zi(e,n){let r=new Lt(ZE(e));return n.forEach((i,s)=>{jc(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Bo()<=Le.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",ys(n)),this.zi.getDocumentsMatchingQuery(e,n,oi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new rt(Ne),this.rs=new ho(s=>Mp(s),Dp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AA(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function $A(t,e,n,r){return new zA(t,e,n,r)}async function wx(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ke();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function WA(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){const g=c.batch,m=g.keys();let _=z.resolve();return m.forEach(L=>{_=_.next(()=>f.getEntry(u,L)).next(k=>{const A=c.docVersions.get(L);He(A!==null),k.version.compareTo(A)<0&&(g.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),f.addEntry(k)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ex(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function HA(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((f,g)=>{const m=i.get(g);if(!m)return;a.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,g)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(zt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(g,_),function(k,A,I){return k.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(m,_,f)&&a.push(n.Qr.updateTargetData(s,_))});let u=fr(),c=ke();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(qA(s,o,e.documentUpdates).next(f=>{u=f.cs,c=f.ls})),!r.isEqual(me.min())){const f=n.Qr.getLastRemoteSnapshotVersion(s).next(g=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ns=i,s))}function qA(t,e,n){let r=ke(),i=ke();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(me.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:o,ls:i}})}function GA(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KA(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new zr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function lf(t,e,n){const r=ye(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!al(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function iy(t,e,n){const r=ye(t);let i=me.min(),s=ke();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const g=ye(u),m=g.rs.get(f);return m!==void 0?z.resolve(g.ns.get(m)):g.Qr.getTargetData(c,f)}(r,o,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:ke())).next(a=>(QA(r,UP(e),a),{documents:a,hs:s})))}function QA(t,e,n){let r=t.ss.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class sy{constructor(){this.activeTargetIds=HP()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YA{constructor(){this.no=new sy,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new sy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl=null;function Fd(){return Yl===null?Yl=function(){return 268435456+Math.round(2147483648*Math.random())}():Yl++,"0x"+Yl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class eR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=Fd(),u=this.vo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,u,c,i).then(f=>(J("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Js("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=JA[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Fd();return new Promise((o,a)=>{const u=new RE;u.setWithCredentials(!0),u.listenOnce(ME.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gu.NO_ERROR:const f=u.getResponseJson();J(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case gu.TIMEOUT:J(jt,`RPC '${e}' ${s} timed out`),a(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:const g=u.getStatus();if(J(jt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const L=function(A){const I=A.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(I)>=0?I:B.UNKNOWN}(_.status);a(new Z(L,_.message))}else a(new Z(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Z(B.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{J(jt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);J(jt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=Fd(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jE(),a=OE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new NE({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");J(jt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const g=o.createWebChannel(f,u);let m=!1,_=!1;const L=new XA({lo:A=>{_?J(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(J(jt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),J(jt,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},ho:()=>g.close()}),k=(A,I,x)=>{A.listen(I,E=>{try{x(E)}catch(P){setTimeout(()=>{throw P},0)}})};return k(g,Zo.EventType.OPEN,()=>{_||(J(jt,`RPC '${e}' stream ${i} transport opened.`),L.mo())}),k(g,Zo.EventType.CLOSE,()=>{_||(_=!0,J(jt,`RPC '${e}' stream ${i} transport closed`),L.po())}),k(g,Zo.EventType.ERROR,A=>{_||(_=!0,Js(jt,`RPC '${e}' stream ${i} transport errored:`,A),L.po(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),k(g,Zo.EventType.MESSAGE,A=>{var I;if(!_){const x=A.data[0];He(!!x);const E=x,P=E.error||((I=E[0])===null||I===void 0?void 0:I.error);if(P){J(jt,`RPC '${e}' stream ${i} received error:`,P);const D=P.status;let M=function(S){const C=ct[S];if(C!==void 0)return cx(C)}(D),w=P.message;M===void 0&&(M=B.INTERNAL,w="Unknown error status: "+D+" with message "+P.message),_=!0,L.po(new Z(M,w)),g.close()}else J(jt,`RPC '${e}' stream ${i} received:`,x),L.yo(x)}}),k(a,DE.STAT_EVENT,A=>{A.stat===Yh.PROXY?J(jt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Yh.NOPROXY&&J(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{L.fo()},0),L}}function Bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){return new dA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new xx(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tR extends Cx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=pA(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?Hn(o.readTime):me.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=af(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=ef(u)?{documents:vA(s,u)}:{query:yA(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fx(s,o.resumeToken);const c=rf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=oc(s,o.snapshotVersion.toTimestamp());const c=rf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=wA(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=af(this.serializer),n.removeTarget=e,this.i_(n)}}class nR extends Cx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=mA(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.A_(r,n)}return He(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=af(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gA(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,sf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(B.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,sf(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class iR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(hr(n),this.y_=!1):J("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{is(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ye(u);c.M_.add(4),await dl(c),c.N_.set("Unknown"),c.M_.delete(4),await zc(c)}(this))})}),this.N_=new iR(r,i)}}async function zc(t){if(is(t))for(const e of t.x_)await e(!0)}async function dl(t){for(const e of t.x_)await e(!1)}function Sx(t,e){const n=ye(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),qp(n)?Hp(n):fo(n).Xo()&&Wp(n,e))}function $p(t,e){const n=ye(t),r=fo(n);n.F_.delete(e),r.Xo()&&Ix(n,e),n.F_.size===0&&(r.Xo()?r.n_():is(n)&&n.N_.set("Unknown"))}function Wp(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fo(t).P_(e)}function Ix(t,e){t.L_.xe(e),fo(t).I_(e)}function Hp(t){t.L_=new aA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fo(t).start(),t.N_.w_()}function qp(t){return is(t)&&!fo(t).Zo()&&t.F_.size>0}function is(t){return ye(t).M_.size===0}function Tx(t){t.L_=void 0}async function oR(t){t.N_.set("Online")}async function aR(t){t.F_.forEach((e,n)=>{Wp(t,e)})}async function lR(t,e){Tx(t),qp(t)?(t.N_.D_(e),Hp(t)):t.N_.set("Unknown")}async function uR(t,e,n){if(t.N_.set("Online"),e instanceof hx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ac(t,r)}else if(e instanceof yu?t.L_.Ke(e):e instanceof dx?t.L_.He(e):t.L_.We(e),!n.isEqual(me.min()))try{const r=await Ex(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.F_.get(c);f&&s.F_.set(c,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const f=s.F_.get(u);if(!f)return;s.F_.set(u,f.withResumeToken(zt.EMPTY_BYTE_STRING,f.snapshotVersion)),Ix(s,u);const g=new zr(f.target,u,c,f.sequenceNumber);Wp(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await ac(t,r)}}async function ac(t,e,n){if(!al(e))throw e;t.M_.add(1),await dl(t),t.N_.set("Offline"),n||(n=()=>Ex(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await zc(t)})}function kx(t,e){return e().catch(n=>ac(t,n,e))}async function $c(t){const e=ye(t),n=li(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;cR(e);)try{const i=await GA(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,dR(e,i)}catch(i){await ac(e,i)}Lx(e)&&bx(e)}function cR(t){return is(t)&&t.v_.length<10}function dR(t,e){t.v_.push(e);const n=li(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Lx(t){return is(t)&&!li(t).Zo()&&t.v_.length>0}function bx(t){li(t).start()}async function hR(t){li(t).V_()}async function fR(t){const e=li(t);for(const n of t.v_)e.d_(n.mutations)}async function pR(t,e,n){const r=t.v_.shift(),i=jp.from(r,e,n);await kx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $c(t)}async function gR(t,e){e&&li(t).E_&&await async function(r,i){if(function(o){return iA(o)&&o!==B.ABORTED}(i.code)){const s=r.v_.shift();li(r).t_(),await kx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await $c(r)}}(t,e),Lx(t)&&bx(t)}async function ay(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=is(n);n.M_.add(3),await dl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await zc(n)}async function mR(t,e){const n=ye(t);e?(n.M_.delete(2),await zc(n)):e||(n.M_.add(2),await dl(n),n.N_.set("Unknown"))}function fo(t){return t.B_||(t.B_=function(n,r,i){const s=ye(n);return s.f_(),new tR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:oR.bind(null,t),To:aR.bind(null,t),Ao:lR.bind(null,t),h_:uR.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),qp(t)?Hp(t):t.N_.set("Unknown")):(await t.B_.stop(),Tx(t))})),t.B_}function li(t){return t.k_||(t.k_=function(n,r,i){const s=ye(n);return s.f_(),new nR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:hR.bind(null,t),Ao:gR.bind(null,t),R_:fR.bind(null,t),A_:pR.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await $c(t)):(await t.k_.stop(),t.v_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Gp(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(t,e){if(hr("AsyncQueue",`${e}: ${t}`),al(t))return new Z(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Jo(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new $s(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $s;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.q_=new rt(oe.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):pe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ro{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ro(e,n,$s.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class yR{constructor(){this.queries=new ho(e=>YE(e),Oc),this.onlineState="Unknown",this.z_=new Set}}async function Px(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new vR,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Kp(o,`Initialization of query '${ys(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Qp(n)}async function Ax(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _R(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Qp(n)}function wR(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Qp(t){t.z_.forEach(e=>{e.next()})}var uf,uy;(uy=uf||(uf={})).J_="default",uy.Cache="cache";class Rx{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==uf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.key=e}}class Mx{constructor(e){this.key=e}}class ER{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ke(),this.mutatedKeys=ke(),this.Ia=ZE(e),this.Ta=new $s(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new ly,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const m=i.get(f),_=jc(this.query,g)?g:null,L=!!m&&this.mutatedKeys.has(m.key),k=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;m&&_?m.data.isEqual(_.data)?L!==k&&(r.track({type:3,doc:_}),A=!0):this.Ra(m,_)||(r.track({type:2,doc:_}),A=!0,(u&&this.Ia(_,u)>0||c&&this.Ia(_,c)<0)&&(a=!0)):!m&&_?(r.track({type:0,doc:_}),A=!0):m&&!_&&(r.track({type:1,doc:m}),A=!0,(u||c)&&(a=!0)),A&&(_?(o=o.add(_),s=k?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((f,g)=>function(_,L){const k=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return k(_)-k(L)}(f.type,g.type)||this.Ia(f.doc,g.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,o.length!==0||c?{snapshot:new ro(this.query,e.Ta,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ly,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ke(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Mx(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Nx(r))}),n}pa(e){this.la=e.hs,this.Pa=ke();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ro.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class xR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CR{constructor(e){this.key=e,this.wa=!1}}class SR{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ho(a=>YE(a),Oc),this.Da=new Map,this.Ca=new Set,this.va=new rt(oe.comparator),this.Fa=new Map,this.Ma=new Fp,this.xa={},this.Oa=new Map,this.Na=no.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function IR(t,e,n=!0){const r=Fx(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await Dx(r,e,n,!0),i}async function TR(t,e){const n=Fx(t);await Dx(n,e,!0,!1)}async function Dx(t,e,n,r){const i=await KA(t.localStore,Wn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await kR(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Sx(t.remoteStore,i),a}async function kR(t,e,n,r,i){t.Ba=(g,m,_)=>async function(k,A,I,x){let E=A.view.da(I);E.Xi&&(E=await iy(k.localStore,A.query,!1).then(({documents:w})=>A.view.da(w,E)));const P=x&&x.targetChanges.get(A.targetId),D=x&&x.targetMismatches.get(A.targetId)!=null,M=A.view.applyChanges(E,k.isPrimaryClient,P,D);return dy(k,A.targetId,M.fa),M.snapshot}(t,g,m,_);const s=await iy(t.localStore,e,!0),o=new ER(e,s.hs),a=o.da(s.documents),u=cl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);dy(t,n,c.fa);const f=new xR(e,n,o);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function LR(t,e,n){const r=ye(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Oc(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$p(r.remoteStore,i.targetId),cf(r,i.targetId)}).catch(ol)):(cf(r,i.targetId),await lf(r.localStore,i.targetId,!0))}async function bR(t,e){const n=ye(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$p(n.remoteStore,r.targetId))}async function PR(t,e,n){const r=jR(t);try{const i=await function(o,a){const u=ye(o),c=vt.now(),f=a.reduce((_,L)=>_.add(L.key),ke());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let L=fr(),k=ke();return u.os.getEntries(_,f).next(A=>{L=A,L.forEach((I,x)=>{x.isValidDocument()||(k=k.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,L)).next(A=>{g=A;const I=[];for(const x of a){const E=XP(x,g.get(x.key).overlayedDocument);E!=null&&I.push(new fi(x.key,E,zE(E.value.mapValue),Rn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,I,a)}).next(A=>{m=A;const I=A.applyToLocalDocumentSet(g,k);return u.documentOverlayCache.saveOverlays(_,A.batchId,I)})}).then(()=>({batchId:m.batchId,changes:XE(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.xa[o.currentUser.toKey()];c||(c=new rt(Ne)),c=c.insert(a,u),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await hl(r,i.changes),await $c(r.remoteStore)}catch(i){const s=Kp(i,"Failed to persist write");n.reject(s)}}async function Ox(t,e){const n=ye(t);try{const r=await HA(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?He(o.wa):i.removedDocuments.size>0&&(He(o.wa),o.wa=!1))}),await hl(n,r,e)}catch(r){await ol(r)}}function cy(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ye(o);u.onlineState=a;let c=!1;u.queries.forEach((f,g)=>{for(const m of g.U_)m.j_(a)&&(c=!0)}),c&&Qp(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AR(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new rt(oe.comparator);o=o.insert(s,Ft.newNoDocument(s,me.min()));const a=ke().add(s),u=new Fc(me.min(),new Map,new rt(Ne),o,a);await Ox(r,u),r.va=r.va.remove(s),r.Fa.delete(e),Yp(r)}else await lf(r.localStore,e,!1).then(()=>cf(r,e,n)).catch(ol)}async function RR(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await WA(n.localStore,e);Vx(n,r,null),jx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hl(n,i)}catch(i){await ol(i)}}async function NR(t,e,n){const r=ye(t);try{const i=await function(o,a){const u=ye(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,a).next(g=>(He(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(c,g))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);Vx(r,e,n),jx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hl(r,i)}catch(i){await ol(i)}}function jx(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Vx(t,e,n){const r=ye(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function cf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||Ux(t,r)})}function Ux(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&($p(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Yp(t))}function dy(t,e,n){for(const r of n)r instanceof Nx?(t.Ma.addReference(r.key,e),MR(t,r)):r instanceof Mx?(J("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||Ux(t,r.key)):pe()}function MR(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(J("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Yp(t))}function Yp(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new oe(Ke.fromString(e)),r=t.Na.next();t.Fa.set(r,new CR(n)),t.va=t.va.insert(n,r),Sx(t.remoteStore,new zr(Wn(Op(n.path)),r,"TargetPurposeLimboResolution",Pp.oe))}}async function hl(t,e,n){const r=ye(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const g=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(c){i.push(c);const g=zp.Ki(u.targetId,c);s.push(g)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,c){const f=ye(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>z.forEach(c,m=>z.forEach(m.qi,_=>f.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>z.forEach(m.Qi,_=>f.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!al(g))throw g;J("LocalStore","Failed to update sequence numbers: "+g)}for(const g of c){const m=g.targetId;if(!g.fromCache){const _=f.ns.get(m),L=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(L);f.ns=f.ns.insert(m,k)}}}(r.localStore,s))}async function DR(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await wx(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new Z(B.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hl(n,r.us)}}function OR(t,e){const n=ye(t),r=n.Fa.get(e);if(r&&r.wa)return ke().add(r.key);{let i=ke();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function Fx(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AR.bind(null,e),e.Sa.h_=_R.bind(null,e.eventManager),e.Sa.ka=wR.bind(null,e.eventManager),e}function jR(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NR.bind(null,e),e}class hy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $A(this.persistence,new BA,e.initialUser,this.serializer)}createPersistence(e){return new VA(Bp.Hr,this.serializer)}createSharedClientState(e){return new YA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class VR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DR.bind(null,this.syncEngine),await mR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yR}()}createDatastore(e){const n=Bc(e.databaseInfo.databaseId),r=function(s){return new eR(s)}(e.databaseInfo);return function(s,o,a,u){return new rR(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new sR(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cy(this.syncEngine,n,0),function(){return oy.D()?new oy:new ZA}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,f){const g=new SR(i,s,o,a,u,c);return f&&(g.La=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ye(r);J("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await dl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=UE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zd(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BR(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ay(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ay(e.remoteStore,i)),t._onlineComponents=e}function FR(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function BR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await zd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!FR(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await zd(t,new hy)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await zd(t,new hy);return t._offlineComponents}async function zx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await fy(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await fy(t,new VR))),t._onlineComponents}function zR(t){return zx(t).then(e=>e.syncEngine)}async function $x(t){const e=await zx(t),n=e.eventManager;return n.onListen=IR.bind(null,e.syncEngine),n.onUnlisten=LR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bR.bind(null,e.syncEngine),n}function $R(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new Bx({next:m=>{o.enqueueAndForget(()=>Ax(s,g));const _=m.docs.has(a);!_&&m.fromCache?c.reject(new Z(B.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?c.reject(new Z(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new Rx(Op(a.path),f,{includeMetadataChanges:!0,ra:!0});return Px(s,g)}(await $x(t),t.asyncQueue,e,n,r)),r.promise}function WR(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new Bx({next:m=>{o.enqueueAndForget(()=>Ax(s,g)),m.fromCache&&u.source==="server"?c.reject(new Z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new Rx(a,f,{includeMetadataChanges:!0,ra:!0});return Px(s,g)}(await $x(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t,e,n){if(!n)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HR(t,e,n,r){if(e===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gy(t){if(!oe.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function my(t){if(oe.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wc(t);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lP;switch(r.type){case"firstParty":return new hP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=py.get(n);r&&(J("ComponentProvider","Removing Datastore"),py.delete(n),r.terminate())}(this),Promise.resolve()}}function qR(t,e,n,r={}){var i;const s=(t=Gn(t,Hc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Vt.MOCK_USER;else{a=xT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vt(c)}t._authCredentials=new uP(new VE(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}}class ri extends po{constructor(e,n,r){super(e,n,Op(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new oe(e))}withConverter(e){return new ri(this.firestore,e,this._path)}}function sn(t,e,...n){if(t=xt(t),Hx("collection","path",e),t instanceof Hc){const r=Ke.fromString(e,...n);return my(r),new ri(t,null,r)}{if(!(t instanceof Ht||t instanceof ri))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return my(r),new ri(t.firestore,null,r)}}function bt(t,e,...n){if(t=xt(t),arguments.length===1&&(e=UE.newId()),Hx("doc","path",e),t instanceof Hc){const r=Ke.fromString(e,...n);return gy(r),new Ht(t,null,new oe(r))}{if(!(t instanceof Ht||t instanceof ri))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return gy(r),new Ht(t.firestore,t instanceof ri?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new xx(this,"async_queue_retry"),this.hu=()=>{const n=Bd();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Bd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new or;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!al(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw hr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Gp.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&pe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class go extends Hc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new GR}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gx(this),this._firestoreClient.terminate()}}function qx(t,e){const n=typeof t=="object"?t:Qw(),r=typeof t=="string"?t:"(default)",i=gp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wT("firestore");s&&qR(i,...s)}return i}function Zp(t){return t._firestoreClient||Gx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Gx(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,f){return new IP(a,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Wx(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new UR(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(zt.fromBase64String(e))}catch(n){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new io(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=/^__.*__$/;class QR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ul(e,this.data,n,this.fieldTransforms)}}class Kx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Xp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return lc(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Qx(this.fu)&&KR.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class YR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bc(e)}Fu(e,n,r,i=!1){return new Xp({fu:e,methodName:n,vu:r,path:Tt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kc(t){const e=t._freezeSettings(),n=Bc(t._databaseId);return new YR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Yx(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);tg("Data must be an object, but it was:",o,r);const a=Zx(r,o);let u,c;if(s.merge)u=new an(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const m=df(e,g,n);if(!o.contains(m))throw new Z(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Xx(f,m)||f.push(m)}u=new an(f),c=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,c=o.fieldTransforms;return new QR(new Qt(a),u,c)}class Qc extends Gc{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qc}}class eg extends Gc{_toFieldTransform(e){return new QP(e.path,new za)}isEqual(e){return e instanceof eg}}function ZR(t,e,n,r){const i=t.Fu(1,e,n);tg("Data must be an object, but it was:",i,r);const s=[],o=Qt.empty();rs(r,(u,c)=>{const f=ng(e,u,n);c=xt(c);const g=i.Su(f);if(c instanceof Qc)s.push(f);else{const m=fl(c,g);m!=null&&(s.push(f),o.set(f,m))}});const a=new an(s);return new Kx(o,a,i.fieldTransforms)}function JR(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[df(e,r,n)],u=[i];if(s.length%2!=0)throw new Z(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(df(e,s[m])),u.push(s[m+1]);const c=[],f=Qt.empty();for(let m=a.length-1;m>=0;--m)if(!Xx(c,a[m])){const _=a[m];let L=u[m];L=xt(L);const k=o.Su(_);if(L instanceof Qc)c.push(_);else{const A=fl(L,k);A!=null&&(c.push(_),f.set(_,A))}}const g=new an(c);return new Kx(f,g,o.fieldTransforms)}function XR(t,e,n,r=!1){return fl(n,t.Fu(r?4:3,e))}function fl(t,e){if(Jx(t=xt(t)))return tg("Unsupported field value:",e,t),Zx(t,e);if(t instanceof Gc)return function(r,i){if(!Qx(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=fl(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=vt.fromDate(r);return{timestampValue:oc(i.serializer,s)}}if(r instanceof vt){const s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oc(i.serializer,s)}}if(r instanceof Jp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof io)return{bytesValue:fx(i.serializer,r._byteString)};if(r instanceof Ht){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Up(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Wc(r)}`)}(t,e)}function Zx(t,e){const n={};return FE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(t,(r,i)=>{const s=fl(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Jx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Jp||t instanceof io||t instanceof Ht||t instanceof Gc)}function tg(t,e,n){if(!Jx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Wc(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function df(t,e,n){if((e=xt(e))instanceof qc)return e._internalPath;if(typeof e=="string")return ng(t,e);throw lc("Field path arguments must be of type string or ",t,!1,void 0,n)}const eN=new RegExp("[~\\*/\\[\\]]");function ng(t,e,n){if(e.search(eN)>=0)throw lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qc(...e.split("."))._internalPath}catch{throw lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Z(B.INVALID_ARGUMENT,a+t+u)}function Xx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tN extends eC{data(){return super.data()}}function rg(t,e){return typeof e=="string"?ng(t,e):e instanceof qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class rN extends ig{}function vn(t,e,...n){let r=[];e instanceof ig&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof sg).length,a=s.filter(u=>u instanceof Yc).length;if(o>1||o>0&&a>0)throw new Z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yc extends rN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yc(e,n,r)}_apply(e){const n=this._parse(e);return tC(e._query,n),new po(e.firestore,e.converter,tf(e._query,n))}_parse(e){const n=Kc(e.firestore);return function(s,o,a,u,c,f,g){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){_y(g,f);const _=[];for(const L of g)_.push(yy(u,s,L));m={arrayValue:{values:_}}}else m=yy(u,s,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||_y(g,f),m=XR(a,o,g,f==="in"||f==="not-in");return ft.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xe(t,e,n){const r=e,i=rg("where",t);return Yc._create(i,r,n)}class sg extends ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)tC(o,u),o=tf(o,u)}(e._query,n),new po(e.firestore,e.converter,tf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yy(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new Z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QE(e)&&n.indexOf("/")!==-1)throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ke.fromString(n));if(!oe.isDocumentKey(r))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bv(t,new oe(r))}if(n instanceof Ht)return Bv(t,n._key);throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wc(n)}.`)}function _y(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iN{convertValue(e,n="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return rs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Jp(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ua(e));default:return null}}convertTimestamp(e){const n=ai(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);He(_x(r));const i=new Fa(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||hr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rC extends eC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _u extends rC{data(e={}){return super.data(e)}}class sN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ea(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _u(this._firestore,this._userDataWriter,r.key,r,new ea(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new _u(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ea(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new _u(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ea(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:oN(a.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){t=Gn(t,Ht);const e=Gn(t.firestore,go);return $R(Zp(e),t._key).then(n=>lN(e,t,n))}class iC extends iN{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function $r(t){t=Gn(t,po);const e=Gn(t.firestore,go),n=Zp(e),r=new iC(e);return nN(t._query),WR(n,t._query).then(i=>new sN(e,r,t,i))}function uc(t,e,n){t=Gn(t,Ht);const r=Gn(t.firestore,go),i=nC(t.converter,e,n);return og(r,[Yx(Kc(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Rn.none())])}function Ha(t,e,n,...r){t=Gn(t,Ht);const i=Gn(t.firestore,go),s=Kc(i);let o;return o=typeof(e=xt(e))=="string"||e instanceof qc?JR(s,"updateDoc",t._key,e,n,r):ZR(s,"updateDoc",t._key,e),og(i,[o.toMutation(t._key,Rn.exists(!0))])}function aN(t,e){const n=Gn(t.firestore,go),r=bt(t),i=nC(t.converter,e);return og(n,[Yx(Kc(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}function og(t,e){return function(r,i){const s=new or;return r.asyncQueue.enqueueAndForget(async()=>PR(await zR(r),i,s)),s.promise}(Zp(t),e)}function lN(t,e,n){const r=n.docs.get(e._key),i=new iC(t);return new rC(t,i,e._key,r,new ea(n.hasPendingWrites,n.fromCache),e.converter)}function wy(){return new eg("serverTimestamp")}(function(e,n=!0){(function(i){co=i})(lo),Zs(new Wi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new go(new cP(r.getProvider("auth-internal")),new pP(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ni(jv,"4.6.4",e),ni(jv,"4.6.4","esm2017")})();const uN={apiKey:"AIzaSyAnwH8f-HX6Ck17T8PEH7vZ5wtPZVK-kyE",authDomain:"helpnet-336a3.firebaseapp.com",projectId:"helpnet-336a3",storageBucket:"helpnet-336a3.appspot.com",messagingSenderId:"627733533084",appId:"1:627733533084:web:fa37db4b4c207e0eb67859",measurementId:"G-Q31539SGG6"},sC=Kw(uN),un=Mc(sC),Be=qx(sC),wu="/helpnet/assets/user1-CXthF0zB.png",cN=()=>{window.confirm("Are you sure you want to log out?")&&QL(un).then(()=>{console.log("User signed out successfully"),window.location.href="/"}).catch(e=>{console.error("Error signing out: ",e)})},oC=()=>d.jsx("button",{onClick:cN,className:"w-full bg-red-500 hover:bg-red-700 text-white py-2 rounded-full mt-2",children:"Logout"}),dN=()=>{const[t,e]=h.useState(!1),[n,r]=h.useState(!1),[i,s]=h.useState(null),[o,a]=h.useState([]),[u,c]=h.useState(!0),[f,g]=h.useState(null),m=Mc(),_=qx();h.useEffect(()=>{const I=Tp(m,async x=>{if(x)try{const E=bt(_,"customers",x.uid),P=await Zi(E);P.exists()?(s(P.data()),L(x.uid)):console.log("No such customer!")}catch(E){g(E.message),console.error("Error fetching customer profile:",E)}else s(null);c(!1)});return()=>I()},[m,_]);const L=async I=>{c(!0);try{const x=sn(_,"Bookings"),E=vn(x,Xe("customerId","==",I)),D=(await $r(E)).docs.map(M=>({id:M.id,...M.data()}));a(D)}catch(x){g(x.message),console.error("Error fetching bookings:",x)}c(!1)},k=()=>{e(!t)},A=()=>{r(!n)};return d.jsxs("nav",{className:"bg-purple-800 p-2 mx-3 my-4 border-2 border-gray-700 rounded-xl shadow-lg shadow-gray-900",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center ",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"bg-cyan-500 p-2 rounded-full",children:d.jsx("span",{className:"text-white text-xl font-extrabold font-mono ",children:"H"})}),d.jsx("span",{className:"text-white text-xl font-extrabold font-mono",children:"Helpnet"})]}),d.jsxs("div",{className:"hidden md:flex space-x-12 text-md font-serif",children:[d.jsx("a",{href:"/",className:"text-white hover:text-cyan-400 transition duration-300",children:"Home"}),d.jsx("a",{href:"/Aboutus",className:"text-white hover:text-cyan-400 transition duration-300",children:"About"}),d.jsx("a",{href:"/Container",className:"text-white hover:text-cyan-400 transition duration-300",children:"Categories"}),d.jsx("a",{href:"/Help",className:"text-white hover:text-cyan-400 transition duration-300",children:"Help"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{type:"button",className:"hidden md:flex text-white border-gray-300 border-2 bg-gradient-to-r from-cyan-500 via-cyan-600 to-cyan-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-full text-sm px-7 py-2 text-center",children:d.jsx("a",{href:"/signin",children:"SignIn"})}),d.jsx("button",{type:"button",className:"hidden md:flex text-white border-gray-300 border-2 bg-gradient-to-r from-fuchsia-600 via-fuchsia-700 to-fuchsia-800 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-purple-300 dark:focus:ring-purple-800 font-semibold rounded-full text-sm px-7 py-2 text-center",children:d.jsx("a",{href:"/login",children:"Login"})}),d.jsx("button",{type:"button",className:" md-flex text-white border-gray-300 border-2 bg-gradient-to-r from-yellow-500 to-yellow-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-full text-sm px-2 py-2 text-center",onClick:A,children:d.jsx("img",{className:"w-7 h-7",src:wu,alt:"User"})}),d.jsx("div",{className:"md:hidden flex items-center",children:d.jsx("button",{type:"button",className:"text-white focus:outline-none","aria-label":"Toggle navigation",onClick:k,children:d.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]})]}),t&&d.jsxs("div",{className:"md:hidden flex flex-col space-y-4 text-center mt-4",children:[d.jsx("a",{href:"/",className:"text-white hover:text-cyan-400 transition duration-300",children:"Home"}),d.jsx("a",{href:"/about",className:"text-white hover:text-cyan-400 transition duration-300",children:"About"}),d.jsx("a",{href:"/Container",className:"text-white hover:text-cyan-400 transition duration-300",children:"Categories"}),d.jsx("a",{href:"/help",className:"text-white hover:text-cyan-400 transition duration-300",children:"Help"}),d.jsxs("div",{className:"flex justify-center space-x-4",children:[d.jsx("button",{type:"button",className:"text-white bg-gradient-to-r from-cyan-500 via-cyan-600 to-cyan-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-full text-sm px-7 py-0text-center",children:d.jsx("a",{href:"/signin",children:"SignIn"})}),d.jsx("button",{type:"button",className:"text-white bg-gradient-to-r from-purple-600 via-purple-700 to-purple-800 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-purple-300 dark:focus:ring-purple-800 font-semibold rounded-full text-sm py-0 px-7 text-center",children:d.jsx("a",{href:"/login",children:"Login"})}),d.jsx("button",{type:"button",className:"text-white bg-gradient-to-r from-cyan-500 via-cyan-600 to-cyan-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-full text-sm px-2 py-2 text-center",onClick:A,children:d.jsx("img",{className:"w-10 h-10",src:wu,alt:"User"})})]})]}),n&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:A}),d.jsxs("div",{className:"fixed inset-y-10 right-10 bg-white w-84 p-6 z-50 shadow-lg rounded-lg",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Profile"}),u?d.jsx("p",{children:"Loading..."}):f?d.jsx("p",{className:"text-red-500",children:f}):i?d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[d.jsx("img",{src:wu,alt:"Profile",className:"w-16 h-16 rounded-full"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:i.name}),d.jsx("p",{children:i.email})]})]}),d.jsx("a",{href:"/Bookings",className:"block mt-4 text-cyan-600 hover:text-cyan-400",children:"Bookings"}),d.jsxs("div",{className:"flex justify-end",children:[d.jsx(oC,{})," "]})]}):d.jsx("p",{children:"No profile data available."})]})]})]})},hN="/helpnet/assets/img2-BOV0Y1bb.jpg",Ey=()=>d.jsxs("div",{className:"container-lg items-center h-screen flex flex-col sm:flex-col md:flex-row justify-center bg-white",children:[d.jsxs("div",{className:"order-2 md:order-1 text-center px-4",children:[d.jsxs("h1",{className:`mb-4 text-3xl font-extrabold text-[#001233] sm:text-4xl md:text-5xl lg:text-6xl \r
                              hover:text-[#04aec8] transition-colors duration-300 ease-in-out`,children:[d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#6122a9] to-[#04aec8]",children:"HelpNet"})," - Worker Appointment Booking."]}),d.jsx("p",{className:`text-lg font-normal text-[#33415C] sm:text-xl lg:text-2xl \r
                              hover:text-[#6122a9] transition-colors duration-300 ease-in-out`,children:"Connecting the Peoples with the Local Skilled Workers"})]}),d.jsx("div",{className:"order-1 md:order-2 mb-6",children:d.jsx("img",{src:hN,alt:"background",className:"h-50 w-50"})})]}),fN="/helpnet/assets/electrician-ByKvOM1Y.png",pN="/helpnet/assets/mechanic-C0SYfVMx.png",gN="/helpnet/assets/plumber-C4RNb24M.png",mN="/helpnet/assets/guard-DGKV0IeV.png",vN="/helpnet/assets/gardener-BWHfehie.png",yN="/helpnet/assets/maid-B9rHNxmX.png",_N="/helpnet/assets/carpenter-J1KU1Vxo.png",wN="/helpnet/assets/contractor-CEITU620.png",EN="/helpnet/assets/chef-DjDRO_1V.png",xN="/helpnet/assets/painter-dcz3hzmk.png",aC=()=>{const t=Xa(),e=[{image:fN,data:"Electrician"},{image:pN,data:"Mechanic"},{image:gN,data:"Plumber"},{image:mN,data:"Guard"},{image:vN,data:"Gardener"},{image:yN,data:"Maid"},{image:_N,data:"Carpenter"},{image:wN,data:"Contractor"},{image:EN,data:"Chef"},{image:xN,data:"Painter"}],n=r=>{t(`/workers/${r.toLowerCase()}`)};return d.jsxs("div",{className:"border-t-8 font-mono px-5 ",children:[d.jsxs("div",{className:"text-center pt-6 mb-10",children:[d.jsxs("h4",{className:"mb-4 py-3 text-2xl font-extrabold font-serifs rounded-lg shadow-lg shadow-yellow-950 text-gray-900 md:text-3xl lg:text-4xl  bg-gradient-to-r from-blue-300 to-purple-300",children:[d.jsx("span",{className:"text-transparent  bg-clip-text bg-gradient-to-r from-purple-700 to-emerald-900",children:"Categories_"}),"of Workers."]}),d.jsx("p",{className:"text-lg font-semibold text-black lg:text-xl",children:"Select the Type of Worker you need."})]}),d.jsx("div",{className:"grid grid-cols-2 gap-4 p-5  sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-5 items-center justify-items-center ",children:e.map((r,i)=>d.jsxs("div",{className:"bg-gray-200 px-4 py-11 h-auto mb-4 w-full sm:w-40 md:w-44 flex flex-col items-center shadow-md shadow-yellow-950 justify-center text-center rounded-lg cursor-pointer ursor-pointer hover:bg-gradient-to-b from-indigo-500 to-purple-500  transition duration-300 transform hover:scale-125 hover:shadow-lg ",onClick:()=>n(r.data),children:[d.jsx("img",{src:r.image,alt:`${r.data} icon`,className:"h-22 w-20 mb-6"}),d.jsx("p",{className:"text-lg font-semibold sm:text-xl",children:r.data})]},i))})]})},CN=()=>d.jsx("footer",{className:"bg-gradient-to-b  from-purple-700 to-gray-900    text-white rounded-lg",children:d.jsxs("div",{className:"mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8",children:[d.jsxs("div",{className:"md:flex md:justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"bg-cyan-500 p-2 rounded-full",children:d.jsx("span",{className:"text-white text-2xl font-extrabold font-mono",children:"H"})}),d.jsx("span",{className:"text-white text-2xl font-extrabold font-mono",children:"Helpnet"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"mb-6 text-sm font-semibold uppercase",children:"Resources"}),d.jsxs("ul",{className:"text-gray-400",children:[d.jsx("li",{className:"mb-4",children:d.jsx("a",{href:"/privacy-policy",className:"hover:underline",children:"Privacy Policy"})}),d.jsx("li",{children:d.jsx("a",{href:"/terms",className:"hover:underline",children:"Terms & Conditions"})})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"mb-6 text-sm font-semibold uppercase",children:"Company"}),d.jsxs("ul",{className:"text-gray-400",children:[d.jsx("li",{className:"mb-4",children:d.jsx("a",{href:"/about",className:"hover:underline",children:"About Us"})}),d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:underline",children:"Contact"})})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"mb-6 text-sm font-semibold uppercase",children:"Connect"}),d.jsxs("ul",{className:"text-gray-400",children:[d.jsx("li",{className:"mb-4",children:d.jsx("a",{href:"/facebook",className:"hover:underline",children:"Facebook"})}),d.jsx("li",{children:d.jsx("a",{href:"/twitter",className:"hover:underline",children:"Twitter"})}),d.jsx("li",{children:d.jsx("a",{href:"/linkedin",className:"hover:underline",children:"LinkedIn"})})]})]})]})]}),d.jsx("hr",{className:"my-6 border-gray-700 sm:mx-auto lg:my-8"}),d.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[d.jsx("span",{className:"text-sm text-gray-400 sm:text-center",children:"© 2024 HelpNet. All Rights Reserved."}),d.jsxs("div",{className:"flex mt-4 sm:justify-center sm:mt-0",children:[d.jsx("a",{href:"/facebook",className:"text-gray-400 hover:text-white mx-2",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M22 0H2C.9 0 0 .9 0 2v20c0 1.1.9 2 2 2h10v-9h-3v-3h3V8c0-2.8 2.2-5 5-5h3v3h-3c-.6 0-1 .4-1 1v2h4l-1 3h-3v9h5c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2z"})})}),d.jsx("a",{href:"/twitter",className:"text-gray-400 hover:text-white mx-2",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M24 4.6c-.9.4-1.8.7-2.8.8 1-.6 1.8-1.6 2.2-2.7-.9.6-1.9 1-3 1.2-.9-.9-2.1-1.5-3.5-1.5-2.6 0-4.6 2.1-4.6 4.6 0 .4 0 .9.1 1.3-3.8-.2-7.2-2-9.4-4.8-.4.7-.6 1.6-.6 2.4 0 1.6.8 3 2 3.8-.7 0-1.4-.2-2-.5v.1c0 2.2 1.6 4 3.7 4.4-.4.1-.8.1-1.2.1-.3 0-.6 0-.8-.1.6 1.8 2.2 3.1 4.1 3.1-1.5 1.2-3.4 1.8-5.4 1.8H3.5c1.9 1.2 4.3 1.9 6.8 1.9 8.2 0 12.7-6.8 12.7-12.7 0-.2 0-.4 0-.6.8-.6 1.6-1.4 2.2-2.3z"})})}),d.jsx("a",{href:"/linkedin",className:"text-gray-400 hover:text-white mx-2",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M20.45 0H3.55C1.58 0 0 1.58 0 3.55v16.91C0 22.42 1.58 24 3.55 24h16.9c1.97 0 3.55-1.58 3.55-3.55V3.55C24 1.58 22.42 0 20.45 0zM8.84 20.41H5.47V9h3.37v11.41zM7.15 7.62c-1.08 0-1.96-.88-1.96-1.96s.88-1.96 1.96-1.96 1.96.88 1.96 1.96-.88 1.96-1.96 1.96zM20.41 20.41h-3.37v-5.61c0-1.34-.03-3.06-1.86-3.06-1.86 0-2.15 1.45-2.15 2.95v5.72h-3.37V9h3.23v1.56h.05c.45-.85 1.55-1.76 3.19-1.76 3.41 0 4.04 2.24 4.04 5.14v6.47z"})})})]})]})]})}),lC=()=>{const[t,e]=h.useState(!1),[n,r]=h.useState(!1),[i,s]=h.useState(null),[o,a]=h.useState(!1),[u,c]=h.useState(null),[f,g]=h.useState(""),[m,_]=h.useState([]),[L,k]=h.useState(""),[A,I]=h.useState(!1),[x,E]=h.useState(!1);h.useEffect(()=>{const S=async R=>{a(!0),c(null);try{const N=bt(Be,"Workers",R),b=await Zi(N);if(b.exists()){const K=b.data();s(K),g(K.charges||""),_(K.workingDays||[]),E(K.availability||!1)}else c("Worker not found")}catch(N){c(N.message)}a(!1)},C=Tp(un,R=>{R&&S(R.uid)});return()=>C()},[]);const P=()=>{e(!t)},D=()=>{r(!n)},M=()=>{I(!A)},w=async()=>{if(i)try{await uc(bt(Be,"Workers",un.currentUser.uid),{...i,charges:f,workingDays:m,availability:x},{merge:!0}),k("Data updated successfully")}catch(S){c("Error updating data: "+S.message)}},y=async()=>{const S=!x;if(E(S),i)try{await uc(bt(Be,"Workers",un.currentUser.uid),{...i,availability:S},{merge:!0}),k(`Availability set to ${S?"Available":"Busy"}`)}catch(C){c("Error updating availability: "+C.message)}};return d.jsxs("nav",{className:"bg-gradient-to-r from-purple-900 to-green-900 shadow-lg p-2 px-4 mx-3 mt-3 border-2 border-gray-700 rounded-xl relative",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 p-2 rounded-full",children:d.jsx("span",{className:"text-white text-2xl font-extrabold font-mono",children:"H"})}),d.jsx("span",{className:"text-white text-2xl font-extrabold font-mono",children:"HelpNet"})]}),d.jsxs("div",{className:"hidden md:flex space-x-12 text-lg font-serif",children:[d.jsx("a",{href:"/",className:"text-white hover:text-yellow-400 transition duration-300",children:"Home"}),d.jsx("a",{href:"/Aboutus",className:"text-white hover:text-yellow-400 transition duration-300",children:"About"}),d.jsx("a",{href:"/profile",className:"text-white hover:text-yellow-400 transition duration-300",children:"Profile"}),d.jsx("a",{href:"/Help",className:"text-white hover:text-yellow-400 transition duration-300",children:"Help"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"hidden md:flex space-x-4",children:[d.jsx("button",{className:"text-white bg-yellow-500 hover:bg-yellow-600 rounded-full text-sm px-6 py-2",children:d.jsx("a",{href:"/workerSignin",children:"SignIn"})}),d.jsx("button",{className:"text-white bg-green-600 hover:bg-green-700 rounded-full text-sm px-6 py-2",children:d.jsx("a",{href:"/login",children:"Login"})})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"text-white cursor-pointer",onClick:D,children:d.jsx("img",{className:"w-10 h-10 rounded-full",src:wu,alt:"User Icon"})}),d.jsx("div",{className:"md:hidden flex items-center",children:d.jsx("button",{type:"button",className:"text-white focus:outline-none","aria-label":"Toggle navigation",onClick:P,children:d.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]})]})]}),t&&d.jsxs("div",{className:"md:hidden flex flex-col space-y-4 text-center mt-4",children:[d.jsx("a",{href:"/",className:"text-white hover:text-yellow-400 transition duration-300",children:"Home"}),d.jsx("a",{href:"/jobs",className:"text-white hover:text-yellow-400 transition duration-300",children:"My Jobs"}),d.jsx("a",{href:"/profile",className:"text-white hover:text-yellow-400 transition duration-300",children:"Profile"}),d.jsx("a",{href:"/support",className:"text-white hover:text-yellow-400 transition duration-300",children:"Support"}),d.jsxs("div",{className:"flex justify-center space-x-4",children:[d.jsx("button",{className:"text-white bg-yellow-500 hover:bg-yellow-600 rounded-full text-sm px-6 py-2",children:d.jsx("a",{href:"/signin",children:"SignIn"})}),d.jsx("button",{className:"text-white bg-green-600 hover:bg-green-700 rounded-full text-sm px-6 py-2",children:d.jsx("a",{href:"/login",children:"Login"})})]})]}),n&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:D}),d.jsxs("div",{className:"fixed inset-y-5 right-3 bg-white w-80 p-3 z-50 shadow-lg rounded-lg overflow-y-auto h-auto",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Edit Worker Profile"}),o?d.jsx("p",{children:"Loading..."}):u?d.jsx("p",{className:"text-red-500",children:u}):i?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-gray-600",children:["Name: ",i.name]}),d.jsxs("p",{className:"text-gray-600",children:["Email: ",i.email]}),d.jsxs("p",{className:"text-gray-600",children:["Phone: ",i.phone]}),d.jsxs("p",{className:"text-gray-600",children:["Type of Work: ",i.typeOfWork]}),d.jsxs("p",{className:"text-gray-600",children:["Experience: ",i.experience]}),d.jsx("button",{className:"bg-lime-400 text-black p-1 rounded-full w-full mt-2 hover:bg-yellow-300",onClick:M,children:A?"Hide":"Edit"}),A&&d.jsxs("div",{className:"mt-4",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"charges",className:"block text-gray-700 text-sm font-bold mb-2",children:"Charges:"}),d.jsx("input",{type:"text",id:"charges",value:f,onChange:S=>g(S.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"workingDays",className:"block text-gray-700 text-sm font-bold mb-2",children:"Working Days:"}),d.jsx("div",{className:"flex flex-wrap gap-4",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(S=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:S,value:S,checked:m.includes(S),onChange:C=>{C.target.checked?_(R=>[...R,S]):_(R=>R.filter(N=>N!==S))},className:"mr-2"}),d.jsx("label",{htmlFor:S,className:"text-gray-700",children:S})]},S))})]})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[d.jsxs("span",{className:"relative",children:[d.jsx("input",{type:"checkbox",className:"sr-only",checked:x,onChange:y}),d.jsx("span",{className:`block w-10 h-5 bg-gray-400 border-s-black border-2 rounded-full transition duration-200 ease-in-out ${x?"bg-green-600":"bg-red-600"}`,children:d.jsx("span",{className:`absolute w-5 h-5 bg-white rounded-full transition transform ${x?"translate-x-5":"translate-x-0"}`})})]}),d.jsx("span",{className:"ml-3 text-lg text-gray-700",children:x?"Available":"Busy"})]})})]}):d.jsx("p",{children:"No worker data found"}),d.jsx("button",{className:"bg-lime-500 text-black p-2 mt-3 rounded-lg w-full hover:bg-yellow-300",onClick:w,children:"Save Changes"}),L&&d.jsx("p",{className:"text-green-500 mt-2",children:L}),d.jsxs("div",{className:"flex justify-end mt-1",children:[d.jsx(oC,{})," "]})]})]})]})},SN=()=>d.jsx("footer",{className:"bg-gradient-to-b to-gray-900 to 50% from-lime-900  text-white rounded-lg",children:d.jsxs("div",{className:"mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8",children:[d.jsxs("div",{className:"md:flex md:justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"bg-cyan-500 p-2 rounded-full",children:d.jsx("span",{className:"text-white text-2xl font-extrabold font-mono",children:"H"})}),d.jsx("span",{className:"text-white text-2xl font-extrabold font-mono",children:"Helpnet"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"mb-6 text-sm font-semibold uppercase",children:"Resources"}),d.jsxs("ul",{className:"text-gray-400",children:[d.jsx("li",{className:"mb-4",children:d.jsx("a",{href:"/privacy-policy",className:"hover:underline",children:"Privacy Policy"})}),d.jsx("li",{children:d.jsx("a",{href:"/terms",className:"hover:underline",children:"Terms & Conditions"})})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"mb-6 text-sm font-semibold uppercase",children:"Company"}),d.jsxs("ul",{className:"text-gray-400",children:[d.jsx("li",{className:"mb-4",children:d.jsx("a",{href:"/about",className:"hover:underline",children:"About Us"})}),d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:underline",children:"Contact"})})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"mb-6 text-sm font-semibold uppercase",children:"Connect"}),d.jsxs("ul",{className:"text-gray-400",children:[d.jsx("li",{className:"mb-4",children:d.jsx("a",{href:"/facebook",className:"hover:underline",children:"Facebook"})}),d.jsx("li",{children:d.jsx("a",{href:"/twitter",className:"hover:underline",children:"Twitter"})}),d.jsx("li",{children:d.jsx("a",{href:"/linkedin",className:"hover:underline",children:"LinkedIn"})})]})]})]})]}),d.jsx("hr",{className:"my-6 border-gray-700 sm:mx-auto lg:my-8"}),d.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[d.jsx("span",{className:"text-sm text-gray-400 sm:text-center",children:"© 2024 HelpNet. All Rights Reserved."}),d.jsxs("div",{className:"flex mt-4 sm:justify-center sm:mt-0",children:[d.jsx("a",{href:"/facebook",className:"text-gray-400 hover:text-white mx-2",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M22 0H2C.9 0 0 .9 0 2v20c0 1.1.9 2 2 2h10v-9h-3v-3h3V8c0-2.8 2.2-5 5-5h3v3h-3c-.6 0-1 .4-1 1v2h4l-1 3h-3v9h5c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2z"})})}),d.jsx("a",{href:"/twitter",className:"text-gray-400 hover:text-white mx-2",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M24 4.6c-.9.4-1.8.7-2.8.8 1-.6 1.8-1.6 2.2-2.7-.9.6-1.9 1-3 1.2-.9-.9-2.1-1.5-3.5-1.5-2.6 0-4.6 2.1-4.6 4.6 0 .4 0 .9.1 1.3-3.8-.2-7.2-2-9.4-4.8-.4.7-.6 1.6-.6 2.4 0 1.6.8 3 2 3.8-.7 0-1.4-.2-2-.5v.1c0 2.2 1.6 4 3.7 4.4-.4.1-.8.1-1.2.1-.3 0-.6 0-.8-.1.6 1.8 2.2 3.1 4.1 3.1-1.5 1.2-3.4 1.8-5.4 1.8H3.5c1.9 1.2 4.3 1.9 6.8 1.9 8.2 0 12.7-6.8 12.7-12.7 0-.2 0-.4 0-.6.8-.6 1.6-1.4 2.2-2.3z"})})}),d.jsx("a",{href:"/linkedin",className:"text-gray-400 hover:text-white mx-2",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M20.45 0H3.55C1.58 0 0 1.58 0 3.55v16.91C0 22.42 1.58 24 3.55 24h16.9c1.97 0 3.55-1.58 3.55-3.55V3.55C24 1.58 22.42 0 20.45 0zM8.84 20.41H5.47V9h3.37v11.41zM7.15 7.62c-1.08 0-1.96-.88-1.96-1.96s.88-1.96 1.96-1.96 1.96.88 1.96 1.96-.88 1.96-1.96 1.96zM20.41 20.41h-3.37v-5.61c0-1.34-.03-3.06-1.86-3.06-1.86 0-2.15 1.45-2.15 2.95v5.72h-3.37V9h3.23v1.56h.05c.45-.85 1.55-1.76 3.19-1.76 3.41 0 4.04 2.24 4.04 5.14v6.47z"})})})]})]})]})});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hf=function(t,e){return hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},hf(t,e)};function ze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hf(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var te=function(){return te=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},te.apply(this,arguments)};function ag(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function IN(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(g){o(g)}}function u(f){try{c(r.throw(f))}catch(g){o(g)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(t,[])).next())})}function TN(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function uC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kN=function(t,e,n,r,i,s,o,a){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],f=0;u=new Error(e.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},LN=kN,at=uC(LN),we=h.createContext(null);function bN(){at(!!h.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=h.useContext(we);return at(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function PN(t,e,n){return Object.keys(t).reduce(function(i,s){return e(i,t[s],s)},n)}function AN(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function RN(t,e,n,r){var i={},s=function(o,a){var u=n[a];u!==e[a]&&(i[a]=u,o(r,u))};return AN(t,s),i}function NN(t,e,n){var r=PN(n,function(s,o,a){return typeof t[a]=="function"&&s.push(google.maps.event.addListener(e,o,t[a])),s},[]);return r}function MN(t){google.maps.event.removeListener(t)}function Ie(t){t===void 0&&(t=[]),t.forEach(MN)}function Ce(t){var e=t.updaterMap,n=t.eventMap,r=t.prevProps,i=t.nextProps,s=t.instance,o=NN(i,s,n);return RN(e,r,i,s),o}var xy={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Cy={extraMapTypes:function(t,e){e.forEach(function(r,i){t.mapTypes.set(String(i),r)})},center:function(t,e){t.setCenter(e)},clickableIcons:function(t,e){t.setClickableIcons(e)},heading:function(t,e){t.setHeading(e)},mapTypeId:function(t,e){t.setMapTypeId(e)},options:function(t,e){t.setOptions(e)},streetView:function(t,e){t.setStreetView(e)},tilt:function(t,e){t.setTilt(e)},zoom:function(t,e){t.setZoom(e)}};function DN(t){var e=t.children,n=t.options,r=t.id,i=t.mapContainerStyle,s=t.mapContainerClassName,o=t.center,a=t.onClick,u=t.onDblClick,c=t.onDrag,f=t.onDragEnd,g=t.onDragStart,m=t.onMouseMove,_=t.onMouseOut,L=t.onMouseOver,k=t.onMouseDown,A=t.onMouseUp,I=t.onRightClick,x=t.onCenterChanged,E=t.onLoad,P=t.onUnmount,D=h.useState(null),M=D[0],w=D[1],y=h.useRef(null),S=h.useState(null),C=S[0],R=S[1],N=h.useState(null),b=N[0],K=N[1],X=h.useState(null),ee=X[0],G=X[1],F=h.useState(null),q=F[0],H=F[1],Q=h.useState(null),ne=Q[0],ue=Q[1],_e=h.useState(null),Ee=_e[0],U=_e[1],xe=h.useState(null),Ve=xe[0],ae=xe[1],V=h.useState(null),re=V[0],le=V[1],de=h.useState(null),ie=de[0],Se=de[1],De=h.useState(null),$e=De[0],Ue=De[1],Oe=h.useState(null),ve=Oe[0],Je=Oe[1],he=h.useState(null),lt=he[0],se=he[1];return h.useEffect(function(){n&&M!==null&&M.setOptions(n)},[M,n]),h.useEffect(function(){M!==null&&typeof o<"u"&&M.setCenter(o)},[M,o]),h.useEffect(function(){M&&u&&(b!==null&&google.maps.event.removeListener(b),K(google.maps.event.addListener(M,"dblclick",u)))},[u]),h.useEffect(function(){M&&f&&(ee!==null&&google.maps.event.removeListener(ee),G(google.maps.event.addListener(M,"dragend",f)))},[f]),h.useEffect(function(){M&&g&&(q!==null&&google.maps.event.removeListener(q),H(google.maps.event.addListener(M,"dragstart",g)))},[g]),h.useEffect(function(){M&&k&&(ne!==null&&google.maps.event.removeListener(ne),ue(google.maps.event.addListener(M,"mousedown",k)))},[k]),h.useEffect(function(){M&&m&&(Ee!==null&&google.maps.event.removeListener(Ee),U(google.maps.event.addListener(M,"mousemove",m)))},[m]),h.useEffect(function(){M&&_&&(Ve!==null&&google.maps.event.removeListener(Ve),ae(google.maps.event.addListener(M,"mouseout",_)))},[_]),h.useEffect(function(){M&&L&&(re!==null&&google.maps.event.removeListener(re),le(google.maps.event.addListener(M,"mouseover",L)))},[L]),h.useEffect(function(){M&&A&&(ie!==null&&google.maps.event.removeListener(ie),Se(google.maps.event.addListener(M,"mouseup",A)))},[A]),h.useEffect(function(){M&&I&&($e!==null&&google.maps.event.removeListener($e),Ue(google.maps.event.addListener(M,"rightclick",I)))},[I]),h.useEffect(function(){M&&a&&(ve!==null&&google.maps.event.removeListener(ve),Je(google.maps.event.addListener(M,"click",a)))},[a]),h.useEffect(function(){M&&c&&(lt!==null&&google.maps.event.removeListener(lt),se(google.maps.event.addListener(M,"drag",c)))},[c]),h.useEffect(function(){M&&x&&(C!==null&&google.maps.event.removeListener(C),R(google.maps.event.addListener(M,"center_changed",x)))},[a]),h.useEffect(function(){var Rt=y.current===null?null:new google.maps.Map(y.current,n);return w(Rt),Rt!==null&&E&&E(Rt),function(){Rt!==null&&P&&P(Rt)}},[]),d.jsx("div",{id:r,ref:y,style:i,className:s,children:d.jsx(we.Provider,{value:M,children:M!==null?e:null})})}h.memo(DN);var Sy=function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={map:null},n.registeredEvents=[],n.mapRef=null,n.getInstance=function(){return n.mapRef===null?null:new google.maps.Map(n.mapRef,n.props.options)},n.panTo=function(r){var i=n.getInstance();i&&i.panTo(r)},n.setMapCallback=function(){n.state.map!==null&&n.props.onLoad&&n.props.onLoad(n.state.map)},n.getRef=function(r){n.mapRef=r},n}return e.prototype.componentDidMount=function(){var n=this.getInstance();this.registeredEvents=Ce({updaterMap:Cy,eventMap:xy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{map:n}},this.setMapCallback)},e.prototype.componentDidUpdate=function(n){this.state.map!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:Cy,eventMap:xy,prevProps:n,nextProps:this.props,instance:this.state.map}))},e.prototype.componentWillUnmount=function(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ie(this.registeredEvents))},e.prototype.render=function(){return d.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:d.jsx(we.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})},e}(h.PureComponent),Wr=typeof document<"u";function cC(t){var e=t.url,n=t.id,r=t.nonce;return Wr?new Promise(function(s,o){var a=document.getElementById(n),u=window;if(a){var c=a.getAttribute("data-state");if(a.src===e&&c!=="error"){if(c==="ready")return s(n);var f=u.initMap,g=a.onerror;u.initMap=function(){f&&f(),s(n)},a.onerror=function(_){g&&g(_),o(_)};return}else a.remove()}var m=document.createElement("script");m.type="text/javascript",m.src=e,m.id=n,m.async=!0,m.nonce=r||"",m.onerror=function(L){m.setAttribute("data-state","error"),o(L)},u.initMap=function(){m.setAttribute("data-state","ready"),s(n)},document.head.appendChild(m)}).catch(function(i){throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function Iy(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function lg(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,s){return Iy(i)||Reflect.apply(e,t,[i,s]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return Iy(i)||Reflect.apply(n,t,[i]),i}}}function dC(t){var e=t.googleMapsApiKey,n=t.googleMapsClientId,r=t.version,i=r===void 0?"weekly":r,s=t.language,o=t.region,a=t.libraries,u=t.channel,c=t.mapIds,f=t.authReferrerPolicy,g=[];return at(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?g.push("key=".concat(e)):n&&g.push("client=".concat(n)),i&&g.push("v=".concat(i)),s&&g.push("language=".concat(s)),o&&g.push("region=".concat(o)),a&&a.length&&g.push("libraries=".concat(a.sort().join(","))),u&&g.push("channel=".concat(u)),c&&c.length&&g.push("map_ids=".concat(c.join(","))),f&&g.push("auth_referrer_policy=".concat(f)),g.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(g.join("&"))}var zo=!1;function hC(){return d.jsx("div",{children:"Loading..."})}var qa={id:"script-loader",version:"weekly"};(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.check=h.createRef(),n.state={loaded:!1},n.cleanupCallback=function(){delete window.google.maps,n.injectScript()},n.isCleaningUp=function(){return IN(n,void 0,void 0,function(){function r(i){if(!zo)i();else if(Wr)var s=window.setInterval(function(){zo||(window.clearInterval(s),i())},1)}return TN(this,function(i){return[2,new Promise(r)]})})},n.cleanup=function(){zo=!0;var r=document.getElementById(n.props.id);r&&r.parentNode&&r.parentNode.removeChild(r),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})},n.injectScript=function(){n.props.preventGoogleFontsLoading&&lg(),at(!!n.props.id,'LoadScript requires "id" prop to be a string: %s',n.props.id);var r={id:n.props.id,nonce:n.props.nonce,url:dC(n.props)};cC(r).then(function(){n.props.onLoad&&n.props.onLoad(),n.setState(function(){return{loaded:!0}})}).catch(function(i){n.props.onError&&n.props.onError(i),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(n.props.googleMapsApiKey||"-",") or Client ID (").concat(n.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})},n}return e.prototype.componentDidMount=function(){if(Wr){if(window.google&&window.google.maps&&!zo){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}},e.prototype.componentDidUpdate=function(n){this.props.libraries!==n.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Wr&&n.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))},e.prototype.componentWillUnmount=function(){var n=this;if(Wr){this.cleanup();var r=function(){n.check.current||(delete window.google,zo=!1)};window.setTimeout(r,1),this.props.onUnmount&&this.props.onUnmount()}},e.prototype.render=function(){return d.jsxs(d.Fragment,{children:[d.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||d.jsx(hC,{})]})},e.defaultProps=qa,e})(h.PureComponent);var Ty;function ON(t){var e=t.id,n=e===void 0?qa.id:e,r=t.version,i=r===void 0?qa.version:r,s=t.nonce,o=t.googleMapsApiKey,a=t.googleMapsClientId,u=t.language,c=t.region,f=t.libraries,g=t.preventGoogleFontsLoading,m=t.channel,_=t.mapIds,L=t.authReferrerPolicy,k=h.useRef(!1),A=h.useState(!1),I=A[0],x=A[1],E=h.useState(void 0),P=E[0],D=E[1];h.useEffect(function(){return k.current=!0,function(){k.current=!1}},[]),h.useEffect(function(){Wr&&g&&lg()},[g]),h.useEffect(function(){I&&at(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[I]);var M=dC({version:i,googleMapsApiKey:o,googleMapsClientId:a,language:u,region:c,libraries:f,channel:m,mapIds:_,authReferrerPolicy:L});h.useEffect(function(){if(!Wr)return;function S(){k.current&&(x(!0),Ty=M)}if(window.google&&window.google.maps&&Ty===M){S();return}cC({id:n,url:M,nonce:s}).then(S).catch(function(R){k.current&&D(R),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(R)})},[n,M,s]);var w=h.useRef();return h.useEffect(function(){w.current&&f!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=f},[f]),{isLoaded:I,loadError:P,url:M}}var jN=d.jsx(hC,{});function VN(t){var e=t.loadingElement,n=t.onLoad,r=t.onError,i=t.onUnmount,s=t.children,o=ag(t,["loadingElement","onLoad","onError","onUnmount","children"]),a=ON(o),u=a.isLoaded,c=a.loadError;return h.useEffect(function(){u&&typeof n=="function"&&n()},[u,n]),h.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),h.useEffect(function(){return function(){i&&i()}},[i]),u?s:e||jN}h.memo(VN);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function UN(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(g){o(g)}}function u(f){try{c(r.throw(f))}catch(g){o(g)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(t,[])).next())})}var FN=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const ky="__googleMapsScriptId";var Ns;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Ns||(Ns={}));class Pi{constructor({apiKey:e,authReferrerPolicy:n,channel:r,client:i,id:s=ky,language:o,libraries:a=[],mapIds:u,nonce:c,region:f,retries:g=3,url:m="https://maps.googleapis.com/maps/api/js",version:_}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=n,this.channel=r,this.client=i,this.id=s||ky,this.language=o,this.libraries=a,this.mapIds=u,this.nonce=c,this.region=f,this.retries=g,this.url=m,this.version=_,Pi.instance){if(!FN(this.options,Pi.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Pi.instance.options)}`);return Pi.instance}Pi.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Ns.FAILURE:this.done?Ns.SUCCESS:this.loading?Ns.LOADING:Ns.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}const r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(s=>!r[s]&&delete r[s]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(s=>{let o,a,u,c="The Google Maps JavaScript API",f="google",g="importLibrary",m="__ib__",_=document,L=window;L=L[f]||(L[f]={});const k=L.maps||(L.maps={}),A=new Set,I=new URLSearchParams,x=()=>o||(o=new Promise((E,P)=>UN(this,void 0,void 0,function*(){var D;yield a=_.createElement("script"),a.id=this.id,I.set("libraries",[...A]+"");for(u in s)I.set(u.replace(/[A-Z]/g,M=>"_"+M[0].toLowerCase()),s[u]);I.set("callback",f+".maps."+m),a.src=this.url+"?"+I,k[m]=E,a.onerror=()=>o=P(Error(c+" could not load.")),a.nonce=this.nonce||((D=_.querySelector("script[nonce]"))===null||D===void 0?void 0:D.nonce)||"",_.head.append(a)})));k[g]?console.warn(c+" only loads once. Ignoring:",s):k[g]=(E,...P)=>A.add(E)&&x().then(()=>k[g](E,...P))})(r);const i=this.libraries.map(s=>this.importLibrary(s));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),s=>{const o=new ErrorEvent("error",{error:s});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}}var BN=["maps"];function zN(t){var e=t.id,n=e===void 0?qa.id:e,r=t.version,i=r===void 0?qa.version:r,s=t.nonce,o=t.googleMapsApiKey,a=t.language,u=t.region,c=t.libraries,f=c===void 0?BN:c,g=t.preventGoogleFontsLoading,m=t.mapIds,_=t.authReferrerPolicy,L=h.useRef(!1),k=h.useState(!1),A=k[0],I=k[1],x=h.useState(void 0),E=x[0],P=x[1];h.useEffect(function(){return L.current=!0,function(){L.current=!1}},[]);var D=h.useMemo(function(){return new Pi({id:n,apiKey:o,version:i,libraries:f,language:a||"en",region:u||"US",mapIds:m||[],nonce:s||"",authReferrerPolicy:_||"origin"})},[n,o,i,f,a,u,m,s,_]);h.useEffect(function(){A||D.load().then(function(){L.current&&I(!0)}).catch(function(y){P(y)})},[]),h.useEffect(function(){Wr&&g&&lg()},[g]);var M=h.useRef();return h.useEffect(function(){M.current&&f!==M.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),M.current=f},[f]),{isLoaded:A,loadError:E}}var Ly={},by={options:function(t,e){t.setOptions(e)}};function $N(t){var e=t.options,n=t.onLoad,r=t.onUnmount,i=h.useContext(we),s=h.useState(null),o=s[0],a=s[1];return h.useEffect(function(){o!==null&&o.setMap(i)},[i]),h.useEffect(function(){e&&o!==null&&o.setOptions(e)},[o,e]),h.useEffect(function(){var u=new google.maps.TrafficLayer(te(te({},e||{}),{map:i}));return a(u),n&&n(u),function(){o!==null&&(r&&r(o),o.setMap(null))}},[]),null}h.memo($N);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={trafficLayer:null},n.setTrafficLayerCallback=function(){n.state.trafficLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.trafficLayer)},n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=new google.maps.TrafficLayer(te(te({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ce({updaterMap:by,eventMap:Ly,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{trafficLayer:n}},this.setTrafficLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.trafficLayer!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:by,eventMap:Ly,prevProps:n,nextProps:this.props,instance:this.state.trafficLayer}))},e.prototype.componentWillUnmount=function(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ie(this.registeredEvents),this.state.trafficLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);function WN(t){var e=t.onLoad,n=t.onUnmount,r=h.useContext(we),i=h.useState(null),s=i[0],o=i[1];return h.useEffect(function(){s!==null&&s.setMap(r)},[r]),h.useEffect(function(){var a=new google.maps.BicyclingLayer;return o(a),a.setMap(r),e&&e(a),function(){a!==null&&(n&&n(a),a.setMap(null))}},[]),null}h.memo(WN);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={bicyclingLayer:null},n.setBicyclingLayerCallback=function(){n.state.bicyclingLayer!==null&&(n.state.bicyclingLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.bicyclingLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.BicyclingLayer;this.setState(function(){return{bicyclingLayer:n}},this.setBicyclingLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);function HN(t){var e=t.onLoad,n=t.onUnmount,r=h.useContext(we),i=h.useState(null),s=i[0],o=i[1];return h.useEffect(function(){s!==null&&s.setMap(r)},[r]),h.useEffect(function(){var a=new google.maps.TransitLayer;return o(a),a.setMap(r),e&&e(a),function(){s!==null&&(n&&n(s),s.setMap(null))}},[]),null}h.memo(HN);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={transitLayer:null},n.setTransitLayerCallback=function(){n.state.transitLayer!==null&&(n.state.transitLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.transitLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:n}},this.setTransitLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);var Py={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Ay={drawingMode:function(t,e){t.setDrawingMode(e)},options:function(t,e){t.setOptions(e)}};function qN(t){var e=t.options,n=t.drawingMode,r=t.onCircleComplete,i=t.onMarkerComplete,s=t.onOverlayComplete,o=t.onPolygonComplete,a=t.onPolylineComplete,u=t.onRectangleComplete,c=t.onLoad,f=t.onUnmount,g=h.useContext(we),m=h.useState(null),_=m[0],L=m[1],k=h.useState(null),A=k[0],I=k[1],x=h.useState(null),E=x[0],P=x[1],D=h.useState(null),M=D[0],w=D[1],y=h.useState(null),S=y[0],C=y[1],R=h.useState(null),N=R[0],b=R[1],K=h.useState(null),X=K[0],ee=K[1];return h.useEffect(function(){_!==null&&_.setMap(g)},[g]),h.useEffect(function(){e&&_!==null&&_.setOptions(e)},[_,e]),h.useEffect(function(){_!==null&&_.setDrawingMode(n??null)},[_,n]),h.useEffect(function(){_&&r&&(A!==null&&google.maps.event.removeListener(A),I(google.maps.event.addListener(_,"circlecomplete",r)))},[_,r]),h.useEffect(function(){_&&i&&(E!==null&&google.maps.event.removeListener(E),P(google.maps.event.addListener(_,"markercomplete",i)))},[_,i]),h.useEffect(function(){_&&s&&(M!==null&&google.maps.event.removeListener(M),w(google.maps.event.addListener(_,"overlaycomplete",s)))},[_,s]),h.useEffect(function(){_&&o&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(_,"polygoncomplete",o)))},[_,o]),h.useEffect(function(){_&&a&&(N!==null&&google.maps.event.removeListener(N),b(google.maps.event.addListener(_,"polylinecomplete",a)))},[_,a]),h.useEffect(function(){_&&u&&(X!==null&&google.maps.event.removeListener(X),ee(google.maps.event.addListener(_,"rectanglecomplete",u)))},[_,u]),h.useEffect(function(){at(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var G=new google.maps.drawing.DrawingManager(te(te({},e||{}),{map:g}));return n&&G.setDrawingMode(n),r&&I(google.maps.event.addListener(G,"circlecomplete",r)),i&&P(google.maps.event.addListener(G,"markercomplete",i)),s&&w(google.maps.event.addListener(G,"overlaycomplete",s)),o&&C(google.maps.event.addListener(G,"polygoncomplete",o)),a&&b(google.maps.event.addListener(G,"polylinecomplete",a)),u&&ee(google.maps.event.addListener(G,"rectanglecomplete",u)),L(G),c&&c(G),function(){_!==null&&(A&&google.maps.event.removeListener(A),E&&google.maps.event.removeListener(E),M&&google.maps.event.removeListener(M),S&&google.maps.event.removeListener(S),N&&google.maps.event.removeListener(N),X&&google.maps.event.removeListener(X),f&&f(_),_.setMap(null))}},[]),null}h.memo(qN);(function(t){ze(e,t);function e(n){var r=t.call(this,n)||this;return r.registeredEvents=[],r.state={drawingManager:null},r.setDrawingManagerCallback=function(){r.state.drawingManager!==null&&r.props.onLoad&&r.props.onLoad(r.state.drawingManager)},at(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),r}return e.prototype.componentDidMount=function(){var n=new google.maps.drawing.DrawingManager(te(te({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ce({updaterMap:Ay,eventMap:Py,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{drawingManager:n}},this.setDrawingManagerCallback)},e.prototype.componentDidUpdate=function(n){this.state.drawingManager!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:Ay,eventMap:Py,prevProps:n,nextProps:this.props,instance:this.state.drawingManager}))},e.prototype.componentWillUnmount=function(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ie(this.registeredEvents),this.state.drawingManager.setMap(null))},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);var Ry={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Ny={animation:function(t,e){t.setAnimation(e)},clickable:function(t,e){t.setClickable(e)},cursor:function(t,e){t.setCursor(e)},draggable:function(t,e){t.setDraggable(e)},icon:function(t,e){t.setIcon(e)},label:function(t,e){t.setLabel(e)},map:function(t,e){t.setMap(e)},opacity:function(t,e){t.setOpacity(e)},options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},shape:function(t,e){t.setShape(e)},title:function(t,e){t.setTitle(e)},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},cc={};function GN(t){var e=t.position,n=t.options,r=t.clusterer,i=t.noClustererRedraw,s=t.children,o=t.draggable,a=t.visible,u=t.animation,c=t.clickable,f=t.cursor,g=t.icon,m=t.label,_=t.opacity,L=t.shape,k=t.title,A=t.zIndex,I=t.onClick,x=t.onDblClick,E=t.onDrag,P=t.onDragEnd,D=t.onDragStart,M=t.onMouseOut,w=t.onMouseOver,y=t.onMouseUp,S=t.onMouseDown,C=t.onRightClick,R=t.onClickableChanged,N=t.onCursorChanged,b=t.onAnimationChanged,K=t.onDraggableChanged,X=t.onFlatChanged,ee=t.onIconChanged,G=t.onPositionChanged,F=t.onShapeChanged,q=t.onTitleChanged,H=t.onVisibleChanged,Q=t.onZindexChanged,ne=t.onLoad,ue=t.onUnmount,_e=h.useContext(we),Ee=h.useState(null),U=Ee[0],xe=Ee[1],Ve=h.useState(null),ae=Ve[0],V=Ve[1],re=h.useState(null),le=re[0],de=re[1],ie=h.useState(null),Se=ie[0],De=ie[1],$e=h.useState(null),Ue=$e[0],Oe=$e[1],ve=h.useState(null),Je=ve[0],he=ve[1],lt=h.useState(null),se=lt[0],Rt=lt[1],Ye=h.useState(null),Me=Ye[0],ut=Ye[1],ge=h.useState(null),Dn=ge[0],pi=ge[1],_r=h.useState(null),gi=_r[0],mo=_r[1],ss=h.useState(null),pl=ss[0],gl=ss[1],os=h.useState(null),mi=os[0],vo=os[1],wr=h.useState(null),Er=wr[0],as=wr[1],On=h.useState(null),vi=On[0],yi=On[1],yo=h.useState(null),jn=yo[0],_o=yo[1],yt=h.useState(null),_i=yt[0],xr=yt[1],Cr=h.useState(null),ls=Cr[0],ml=Cr[1],Kn=h.useState(null),us=Kn[0],vl=Kn[1],wi=h.useState(null),wo=wi[0],cs=wi[1],Ei=h.useState(null),en=Ei[0],Eo=Ei[1],xo=h.useState(null),Sr=xo[0],ds=xo[1],Co=h.useState(null),xi=Co[0],yl=Co[1];h.useEffect(function(){U!==null&&U.setMap(_e)},[_e]),h.useEffect(function(){typeof n<"u"&&U!==null&&U.setOptions(n)},[U,n]),h.useEffect(function(){typeof o<"u"&&U!==null&&U.setDraggable(o)},[U,o]),h.useEffect(function(){e&&U!==null&&U.setPosition(e)},[U,e]),h.useEffect(function(){typeof a<"u"&&U!==null&&U.setVisible(a)},[U,a]),h.useEffect(function(){U==null||U.setAnimation(u)},[U,u]),h.useEffect(function(){U&&c!==void 0&&U.setClickable(c)},[U,c]),h.useEffect(function(){U&&f!==void 0&&U.setCursor(f)},[U,f]),h.useEffect(function(){U&&g!==void 0&&U.setIcon(g)},[U,g]),h.useEffect(function(){U&&m!==void 0&&U.setLabel(m)},[U,m]),h.useEffect(function(){U&&_!==void 0&&U.setOpacity(_)},[U,_]),h.useEffect(function(){U&&L!==void 0&&U.setShape(L)},[U,L]),h.useEffect(function(){U&&k!==void 0&&U.setTitle(k)},[U,k]),h.useEffect(function(){U&&A!==void 0&&U.setZIndex(A)},[U,A]),h.useEffect(function(){U&&x&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(U,"dblclick",x)))},[x]),h.useEffect(function(){U&&P&&(le!==null&&google.maps.event.removeListener(le),de(google.maps.event.addListener(U,"dragend",P)))},[P]),h.useEffect(function(){U&&D&&(Se!==null&&google.maps.event.removeListener(Se),De(google.maps.event.addListener(U,"dragstart",D)))},[D]),h.useEffect(function(){U&&S&&(Ue!==null&&google.maps.event.removeListener(Ue),Oe(google.maps.event.addListener(U,"mousedown",S)))},[S]),h.useEffect(function(){U&&M&&(Je!==null&&google.maps.event.removeListener(Je),he(google.maps.event.addListener(U,"mouseout",M)))},[M]),h.useEffect(function(){U&&w&&(se!==null&&google.maps.event.removeListener(se),Rt(google.maps.event.addListener(U,"mouseover",w)))},[w]),h.useEffect(function(){U&&y&&(Me!==null&&google.maps.event.removeListener(Me),ut(google.maps.event.addListener(U,"mouseup",y)))},[y]),h.useEffect(function(){U&&C&&(Dn!==null&&google.maps.event.removeListener(Dn),pi(google.maps.event.addListener(U,"rightclick",C)))},[C]),h.useEffect(function(){U&&I&&(gi!==null&&google.maps.event.removeListener(gi),mo(google.maps.event.addListener(U,"click",I)))},[I]),h.useEffect(function(){U&&E&&(pl!==null&&google.maps.event.removeListener(pl),gl(google.maps.event.addListener(U,"drag",E)))},[E]),h.useEffect(function(){U&&R&&(mi!==null&&google.maps.event.removeListener(mi),vo(google.maps.event.addListener(U,"clickable_changed",R)))},[R]),h.useEffect(function(){U&&N&&(Er!==null&&google.maps.event.removeListener(Er),as(google.maps.event.addListener(U,"cursor_changed",N)))},[N]),h.useEffect(function(){U&&b&&(vi!==null&&google.maps.event.removeListener(vi),yi(google.maps.event.addListener(U,"animation_changed",b)))},[b]),h.useEffect(function(){U&&K&&(jn!==null&&google.maps.event.removeListener(jn),_o(google.maps.event.addListener(U,"draggable_changed",K)))},[K]),h.useEffect(function(){U&&X&&(_i!==null&&google.maps.event.removeListener(_i),xr(google.maps.event.addListener(U,"flat_changed",X)))},[X]),h.useEffect(function(){U&&ee&&(ls!==null&&google.maps.event.removeListener(ls),ml(google.maps.event.addListener(U,"icon_changed",ee)))},[ee]),h.useEffect(function(){U&&G&&(us!==null&&google.maps.event.removeListener(us),vl(google.maps.event.addListener(U,"position_changed",G)))},[G]),h.useEffect(function(){U&&F&&(wo!==null&&google.maps.event.removeListener(wo),cs(google.maps.event.addListener(U,"shape_changed",F)))},[F]),h.useEffect(function(){U&&q&&(en!==null&&google.maps.event.removeListener(en),Eo(google.maps.event.addListener(U,"title_changed",q)))},[q]),h.useEffect(function(){U&&H&&(Sr!==null&&google.maps.event.removeListener(Sr),ds(google.maps.event.addListener(U,"visible_changed",H)))},[H]),h.useEffect(function(){U&&Q&&(xi!==null&&google.maps.event.removeListener(xi),yl(google.maps.event.addListener(U,"zindex_changed",Q)))},[Q]),h.useEffect(function(){var Ir=te(te(te({},n||cc),r?cc:{map:_e}),{position:e}),fe=new google.maps.Marker(Ir);return r?r.addMarker(fe,!!i):fe.setMap(_e),e&&fe.setPosition(e),typeof a<"u"&&fe.setVisible(a),typeof o<"u"&&fe.setDraggable(o),typeof c<"u"&&fe.setClickable(c),typeof f=="string"&&fe.setCursor(f),g&&fe.setIcon(g),typeof m<"u"&&fe.setLabel(m),typeof _<"u"&&fe.setOpacity(_),L&&fe.setShape(L),typeof k=="string"&&fe.setTitle(k),typeof A=="number"&&fe.setZIndex(A),x&&V(google.maps.event.addListener(fe,"dblclick",x)),P&&de(google.maps.event.addListener(fe,"dragend",P)),D&&De(google.maps.event.addListener(fe,"dragstart",D)),S&&Oe(google.maps.event.addListener(fe,"mousedown",S)),M&&he(google.maps.event.addListener(fe,"mouseout",M)),w&&Rt(google.maps.event.addListener(fe,"mouseover",w)),y&&ut(google.maps.event.addListener(fe,"mouseup",y)),C&&pi(google.maps.event.addListener(fe,"rightclick",C)),I&&mo(google.maps.event.addListener(fe,"click",I)),E&&gl(google.maps.event.addListener(fe,"drag",E)),R&&vo(google.maps.event.addListener(fe,"clickable_changed",R)),N&&as(google.maps.event.addListener(fe,"cursor_changed",N)),b&&yi(google.maps.event.addListener(fe,"animation_changed",b)),K&&_o(google.maps.event.addListener(fe,"draggable_changed",K)),X&&xr(google.maps.event.addListener(fe,"flat_changed",X)),ee&&ml(google.maps.event.addListener(fe,"icon_changed",ee)),G&&vl(google.maps.event.addListener(fe,"position_changed",G)),F&&cs(google.maps.event.addListener(fe,"shape_changed",F)),q&&Eo(google.maps.event.addListener(fe,"title_changed",q)),H&&ds(google.maps.event.addListener(fe,"visible_changed",H)),Q&&yl(google.maps.event.addListener(fe,"zindex_changed",Q)),xe(fe),ne&&ne(fe),function(){ae!==null&&google.maps.event.removeListener(ae),le!==null&&google.maps.event.removeListener(le),Se!==null&&google.maps.event.removeListener(Se),Ue!==null&&google.maps.event.removeListener(Ue),Je!==null&&google.maps.event.removeListener(Je),se!==null&&google.maps.event.removeListener(se),Me!==null&&google.maps.event.removeListener(Me),Dn!==null&&google.maps.event.removeListener(Dn),gi!==null&&google.maps.event.removeListener(gi),mi!==null&&google.maps.event.removeListener(mi),Er!==null&&google.maps.event.removeListener(Er),vi!==null&&google.maps.event.removeListener(vi),jn!==null&&google.maps.event.removeListener(jn),_i!==null&&google.maps.event.removeListener(_i),ls!==null&&google.maps.event.removeListener(ls),us!==null&&google.maps.event.removeListener(us),en!==null&&google.maps.event.removeListener(en),Sr!==null&&google.maps.event.removeListener(Sr),xi!==null&&google.maps.event.removeListener(xi),ue&&ue(fe),r?r.removeMarker(fe,!!i):fe&&fe.setMap(null)}},[]);var hs=h.useMemo(function(){return s?h.Children.map(s,function(Ir){if(!h.isValidElement(Ir))return Ir;var fe=Ir;return h.cloneElement(fe,{anchor:U})}):null},[s,U]);return d.jsx(d.Fragment,{children:hs})||null}h.memo(GN);var KN=function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=te(te(te({},this.props.options||cc),this.props.clusterer?cc:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(n),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=Ce({updaterMap:Ny,eventMap:Ry,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},e.prototype.componentDidUpdate=function(n){this.marker&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:Ny,eventMap:Ry,prevProps:n,nextProps:this.props,instance:this.marker}))},e.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ie(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},e.prototype.render=function(){var n=this,r=null;return this.props.children&&(r=h.Children.map(this.props.children,function(i){if(!h.isValidElement(i))return i;var s=i;return h.cloneElement(s,{anchor:n.marker})})),r||null},e.contextType=we,e}(h.PureComponent),QN=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),s=n.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var a=o.getZoom()||0;r!==null&&a>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,s,o;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,u=this.backgroundPosition.split(" "),c=parseInt(((e=u[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),f=parseInt(((n=u[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),g=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(g!==null?"".concat(g.y,"px"):"0","; left: ").concat(g!==null?"".concat(g.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=a,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(f,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(f,"px, -").concat(c+this.width,"px, -").concat(f+this.height,", -").concat(c,")"));var _=document.createElement("div");_.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(_.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(_.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(_),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),YN=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new QN(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var s=i[r],o=s.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var u=0,c=this.markers;u<c.length;u++){var f=c[u];f.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function ZN(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var JN=2e3,XN=500,eM="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",tM="png",nM=[53,56,66,78,90],rM="cluster",fC=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||eM,this.imageExtension=r.imageExtension||tM,this.imageSizes=r.imageSizes||nM,this.calculator=r.calculator||ZN,this.batchSize=r.batchSize||JN,this.batchSizeIE=r.batchSizeIE||XN,this.clusterClass=r.clusterClass||rM,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var o=s[i];o.remove()}this.clusters=[];for(var a=0,u=this.listeners;a<u.length;a++){var c=u[a];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var s=i[r],o=s.getPosition();o&&n.extend(o)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,s=e;i<s.length;i++){var o=s[i];r=r||this.removeMarker_(o)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=n.fromDivPixelToLatLng(r);s!==null&&e.extend(s)}if(i!==null){var o=n.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var s=0,o=this.markers;s<o.length;s++){var a=o[s];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,s=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,s=0,o=this.clusters;s<o.length;s++){var a=o[s];n=a;var u=n.getCenter(),c=e.getPosition();if(u&&c){var f=this.distanceBetweenPoints(u,c);f<r&&(r=f,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new YN(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,o=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),u=Math.min(e+this.batchSize,this.markers.length),c=e;c<u;c++){var f=this.markers[c];f&&!f.isAdded&&this.isMarkerInBounds(f,a)&&(!this.ignoreHidden||this.ignoreHidden&&f.getVisible())&&this.addToClosestCluster(f)}if(u<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(u)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var g=0,m=this.clusters;g<m.length;g++){var _=m[g];_.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype){var o=s;this.prototype[o]=i.prototype[o]}return this}).apply(e,[n])},t}(),pn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Re={averageCenter:function(t,e){t.setAverageCenter(e)},batchSizeIE:function(t,e){t.setBatchSizeIE(e)},calculator:function(t,e){t.setCalculator(e)},clusterClass:function(t,e){t.setClusterClass(e)},enableRetinaIcons:function(t,e){t.setEnableRetinaIcons(e)},gridSize:function(t,e){t.setGridSize(e)},ignoreHidden:function(t,e){t.setIgnoreHidden(e)},imageExtension:function(t,e){t.setImageExtension(e)},imagePath:function(t,e){t.setImagePath(e)},imageSizes:function(t,e){t.setImageSizes(e)},maxZoom:function(t,e){t.setMaxZoom(e)},minimumClusterSize:function(t,e){t.setMinimumClusterSize(e)},styles:function(t,e){t.setStyles(e)},title:function(t,e){t.setTitle(e)},zoomOnClick:function(t,e){t.setZoomOnClick(e)}},iM={};function sM(t){var e=t.children,n=t.options,r=t.averageCenter,i=t.batchSizeIE,s=t.calculator,o=t.clusterClass,a=t.enableRetinaIcons,u=t.gridSize,c=t.ignoreHidden,f=t.imageExtension,g=t.imagePath,m=t.imageSizes,_=t.maxZoom,L=t.minimumClusterSize,k=t.styles,A=t.title,I=t.zoomOnClick,x=t.onClick,E=t.onClusteringBegin,P=t.onClusteringEnd,D=t.onMouseOver,M=t.onMouseOut,w=t.onLoad,y=t.onUnmount,S=h.useState(null),C=S[0],R=S[1],N=h.useContext(we),b=h.useState(null),K=b[0],X=b[1],ee=h.useState(null),G=ee[0],F=ee[1],q=h.useState(null),H=q[0],Q=q[1],ne=h.useState(null),ue=ne[0],_e=ne[1],Ee=h.useState(null),U=Ee[0],xe=Ee[1];return h.useEffect(function(){C&&M&&(ue!==null&&google.maps.event.removeListener(ue),_e(google.maps.event.addListener(C,pn.onMouseOut,M)))},[M]),h.useEffect(function(){C&&D&&(U!==null&&google.maps.event.removeListener(U),xe(google.maps.event.addListener(C,pn.onMouseOver,D)))},[D]),h.useEffect(function(){C&&x&&(K!==null&&google.maps.event.removeListener(K),X(google.maps.event.addListener(C,pn.onClick,x)))},[x]),h.useEffect(function(){C&&E&&(G!==null&&google.maps.event.removeListener(G),F(google.maps.event.addListener(C,pn.onClusteringBegin,E)))},[E]),h.useEffect(function(){C&&P&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(C,pn.onClusteringEnd,P)))},[P]),h.useEffect(function(){typeof r<"u"&&C!==null&&Re.averageCenter(C,r)},[C,r]),h.useEffect(function(){typeof i<"u"&&C!==null&&Re.batchSizeIE(C,i)},[C,i]),h.useEffect(function(){typeof s<"u"&&C!==null&&Re.calculator(C,s)},[C,s]),h.useEffect(function(){typeof o<"u"&&C!==null&&Re.clusterClass(C,o)},[C,o]),h.useEffect(function(){typeof a<"u"&&C!==null&&Re.enableRetinaIcons(C,a)},[C,a]),h.useEffect(function(){typeof u<"u"&&C!==null&&Re.gridSize(C,u)},[C,u]),h.useEffect(function(){typeof c<"u"&&C!==null&&Re.ignoreHidden(C,c)},[C,c]),h.useEffect(function(){typeof f<"u"&&C!==null&&Re.imageExtension(C,f)},[C,f]),h.useEffect(function(){typeof g<"u"&&C!==null&&Re.imagePath(C,g)},[C,g]),h.useEffect(function(){typeof m<"u"&&C!==null&&Re.imageSizes(C,m)},[C,m]),h.useEffect(function(){typeof _<"u"&&C!==null&&Re.maxZoom(C,_)},[C,_]),h.useEffect(function(){typeof L<"u"&&C!==null&&Re.minimumClusterSize(C,L)},[C,L]),h.useEffect(function(){typeof k<"u"&&C!==null&&Re.styles(C,k)},[C,k]),h.useEffect(function(){typeof A<"u"&&C!==null&&Re.title(C,A)},[C,A]),h.useEffect(function(){typeof I<"u"&&C!==null&&Re.zoomOnClick(C,I)},[C,I]),h.useEffect(function(){if(N){var Ve=te({},n||iM),ae=new fC(N,[],Ve);return r&&Re.averageCenter(ae,r),i&&Re.batchSizeIE(ae,i),s&&Re.calculator(ae,s),o&&Re.clusterClass(ae,o),a&&Re.enableRetinaIcons(ae,a),u&&Re.gridSize(ae,u),c&&Re.ignoreHidden(ae,c),f&&Re.imageExtension(ae,f),g&&Re.imagePath(ae,g),m&&Re.imageSizes(ae,m),_&&Re.maxZoom(ae,_),L&&Re.minimumClusterSize(ae,L),k&&Re.styles(ae,k),A&&Re.title(ae,A),I&&Re.zoomOnClick(ae,I),M&&_e(google.maps.event.addListener(ae,pn.onMouseOut,M)),D&&xe(google.maps.event.addListener(ae,pn.onMouseOver,D)),x&&X(google.maps.event.addListener(ae,pn.onClick,x)),E&&F(google.maps.event.addListener(ae,pn.onClusteringBegin,E)),P&&Q(google.maps.event.addListener(ae,pn.onClusteringEnd,P)),R(ae),w&&w(ae),function(){ue!==null&&google.maps.event.removeListener(ue),U!==null&&google.maps.event.removeListener(U),K!==null&&google.maps.event.removeListener(K),G!==null&&google.maps.event.removeListener(G),H!==null&&google.maps.event.removeListener(H),y&&y(ae)}}},[]),C!==null&&e(C)||null}h.memo(sM);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={markerClusterer:null},n.setClustererCallback=function(){n.state.markerClusterer!==null&&n.props.onLoad&&n.props.onLoad(n.state.markerClusterer)},n}return e.prototype.componentDidMount=function(){if(this.context){var n=new fC(this.context,[],this.props.options);this.registeredEvents=Ce({updaterMap:Re,eventMap:pn,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{markerClusterer:n}},this.setClustererCallback)}},e.prototype.componentDidUpdate=function(n){this.state.markerClusterer&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:Re,eventMap:pn,prevProps:n,nextProps:this.props,instance:this.state.markerClusterer}))},e.prototype.componentWillUnmount=function(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ie(this.registeredEvents),this.state.markerClusterer.setMap(null))},e.prototype.render=function(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null},e.contextType=we,e})(h.PureComponent);function My(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var pC=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(c){c.returnValue=!1,c.preventDefault&&c.preventDefault(),e.enableEventPropagation||My(c)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,a=s;o<a.length;o++){var u=a[o];this.eventListeners.push(google.maps.event.addListener(this.div,u,My))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,s=n.getBounds();s&&!s.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),a=o.offsetWidth,u=o.offsetHeight,c=this.pixelOffset.width,f=this.pixelOffset.height,g=this.div.offsetWidth,m=this.div.offsetHeight,_=this.infoBoxClearance.width,L=this.infoBoxClearance.height,k=this.getProjection(),A=k.fromLatLngToContainerPixel(this.position);A!==null&&(A.x<-c+_?r=A.x+c-_:A.x+g+c+_>a&&(r=A.x+g+c+_-a),this.alignBottom?A.y<-f+L+m?i=A.y+f-L-m:A.y+f+L>u&&(i=A.y+f+L-u):A.y<-f+L?i=A.y+f-L:A.y+m+f+L>u&&(i=A.y+m+f+L-u)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(e,[n])},t}(),Dy={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Oy={options:function(t,e){t.setOptions(e)},position:function(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},oM={};function aM(t){var e=t.children,n=t.anchor,r=t.options,i=t.position,s=t.zIndex,o=t.onCloseClick,a=t.onDomReady,u=t.onContentChanged,c=t.onPositionChanged,f=t.onZindexChanged,g=t.onLoad,m=t.onUnmount,_=h.useContext(we),L=h.useState(null),k=L[0],A=L[1],I=h.useState(null),x=I[0],E=I[1],P=h.useState(null),D=P[0],M=P[1],w=h.useState(null),y=w[0],S=w[1],C=h.useState(null),R=C[0],N=C[1],b=h.useState(null),K=b[0],X=b[1],ee=h.useRef(null);return h.useEffect(function(){_&&k!==null&&(k.close(),n?k.open(_,n):k.getPosition()&&k.open(_))},[_,k,n]),h.useEffect(function(){r&&k!==null&&k.setOptions(r)},[k,r]),h.useEffect(function(){if(i&&k!==null){var G=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);k.setPosition(G)}},[i]),h.useEffect(function(){typeof s=="number"&&k!==null&&k.setZIndex(s)},[s]),h.useEffect(function(){k&&o&&(x!==null&&google.maps.event.removeListener(x),E(google.maps.event.addListener(k,"closeclick",o)))},[o]),h.useEffect(function(){k&&a&&(D!==null&&google.maps.event.removeListener(D),M(google.maps.event.addListener(k,"domready",a)))},[a]),h.useEffect(function(){k&&u&&(y!==null&&google.maps.event.removeListener(y),S(google.maps.event.addListener(k,"content_changed",u)))},[u]),h.useEffect(function(){k&&c&&(R!==null&&google.maps.event.removeListener(R),N(google.maps.event.addListener(k,"position_changed",c)))},[c]),h.useEffect(function(){k&&f&&(K!==null&&google.maps.event.removeListener(K),X(google.maps.event.addListener(k,"zindex_changed",f)))},[f]),h.useEffect(function(){if(_){var G=r||oM,F=G.position,q=ag(G,["position"]),H=void 0;F&&!(F instanceof google.maps.LatLng)&&(H=new google.maps.LatLng(F.lat,F.lng));var Q=new pC(te(te({},q),H?{position:H}:{}));ee.current=document.createElement("div"),A(Q),o&&E(google.maps.event.addListener(Q,"closeclick",o)),a&&M(google.maps.event.addListener(Q,"domready",a)),u&&S(google.maps.event.addListener(Q,"content_changed",u)),c&&N(google.maps.event.addListener(Q,"position_changed",c)),f&&X(google.maps.event.addListener(Q,"zindex_changed",f)),Q.setContent(ee.current),n?Q.open(_,n):Q.getPosition()?Q.open(_):at(!1,"You must provide either an anchor or a position prop for <InfoBox>."),g&&g(Q)}return function(){k!==null&&(x&&google.maps.event.removeListener(x),y&&google.maps.event.removeListener(y),D&&google.maps.event.removeListener(D),R&&google.maps.event.removeListener(R),K&&google.maps.event.removeListener(K),m&&m(k),k.close())}},[]),ee.current?es.createPortal(h.Children.only(e),ee.current):null}h.memo(aM);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoBox:null},n.open=function(r,i){i?n.context!==null&&r.open(n.context,i):r.getPosition()?n.context!==null&&r.open(n.context):at(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},n.setInfoBoxCallback=function(){n.state.infoBox!==null&&n.containerElement!==null&&(n.state.infoBox.setContent(n.containerElement),n.open(n.state.infoBox,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoBox))},n}return e.prototype.componentDidMount=function(){var n=this.props.options||{},r=n.position,i=ag(n,["position"]),s;r&&!(r instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(r.lat,r.lng));var o=new pC(te(te({},i),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ce({updaterMap:Oy,eventMap:Dy,prevProps:{},nextProps:this.props,instance:o}),this.setState({infoBox:o},this.setInfoBoxCallback)},e.prototype.componentDidUpdate=function(n){var r=this.state.infoBox;r!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:Oy,eventMap:Dy,prevProps:n,nextProps:this.props,instance:r}))},e.prototype.componentWillUnmount=function(){var n=this.props.onUnmount,r=this.state.infoBox;r!==null&&(n&&n(r),Ie(this.registeredEvents),r.close())},e.prototype.render=function(){return this.containerElement?es.createPortal(h.Children.only(this.props.children),this.containerElement):null},e.contextType=we,e})(h.PureComponent);var lM=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},jy=uC(lM);const Vy=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],$d=1,$o=8;class ug{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==$d)throw new Error(`Got v${i} data when expected v${$d}.`);const s=Vy[r&15];if(!s)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new ug(a,o,s,e)}constructor(e,n=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const s=Vy.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-a%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,$o,e),this.coords=new this.ArrayType(this.data,$o+a+u,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer($o+o+a+u),this.ids=new this.IndexArrayType(this.data,$o,e),this.coords=new this.ArrayType(this.data,$o+a+u,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,($d<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return ff(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:o,nodeSize:a}=this,u=[0,s.length-1,0],c=[];for(;u.length;){const f=u.pop()||0,g=u.pop()||0,m=u.pop()||0;if(g-m<=a){for(let A=m;A<=g;A++){const I=o[2*A],x=o[2*A+1];I>=e&&I<=r&&x>=n&&x<=i&&c.push(s[A])}continue}const _=m+g>>1,L=o[2*_],k=o[2*_+1];L>=e&&L<=r&&k>=n&&k<=i&&c.push(s[_]),(f===0?e<=L:n<=k)&&(u.push(m),u.push(_-1),u.push(1-f)),(f===0?r>=L:i>=k)&&(u.push(_+1),u.push(g),u.push(1-f))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:o}=this,a=[0,i.length-1,0],u=[],c=r*r;for(;a.length;){const f=a.pop()||0,g=a.pop()||0,m=a.pop()||0;if(g-m<=o){for(let A=m;A<=g;A++)Uy(s[2*A],s[2*A+1],e,n)<=c&&u.push(i[A]);continue}const _=m+g>>1,L=s[2*_],k=s[2*_+1];Uy(L,k,e,n)<=c&&u.push(i[_]),(f===0?e-r<=L:n-r<=k)&&(a.push(m),a.push(_-1),a.push(1-f)),(f===0?e+r>=L:n+r>=k)&&(a.push(_+1),a.push(g),a.push(1-f))}return u}}function ff(t,e,n,r,i,s){if(i-r<=n)return;const o=r+i>>1;gC(t,e,o,r,i,s),ff(t,e,n,r,o-1,1-s),ff(t,e,n,o+1,i,1-s)}function gC(t,e,n,r,i,s){for(;i>r;){if(i-r>600){const c=i-r+1,f=n-r+1,g=Math.log(c),m=.5*Math.exp(2*g/3),_=.5*Math.sqrt(g*m*(c-m)/c)*(f-c/2<0?-1:1),L=Math.max(r,Math.floor(n-f*m/c+_)),k=Math.min(i,Math.floor(n+(c-f)*m/c+_));gC(t,e,n,L,k,s)}const o=e[2*n+s];let a=r,u=i;for(Wo(t,e,r,n),e[2*i+s]>o&&Wo(t,e,r,i);a<u;){for(Wo(t,e,a,u),a++,u--;e[2*a+s]<o;)a++;for(;e[2*u+s]>o;)u--}e[2*r+s]===o?Wo(t,e,r,u):(u++,Wo(t,e,u,i)),u<=n&&(r=u+1),n<=u&&(i=u-1)}}function Wo(t,e,n,r){Wd(t,n,r),Wd(e,2*n,2*r),Wd(e,2*n+1,2*r+1)}function Wd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Uy(t,e,n,r){const i=t-n,s=e-r;return i*i+s*s}const uM={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Fy=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Ti=2,Nr=3,Hd=4,Pr=5,mC=6;class cM{constructor(e){this.options=Object.assign(Object.create(uM),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");const s=`prepare ${e.length} points`;n&&console.time(s),this.points=e;const o=[];for(let u=0;u<e.length;u++){const c=e[u];if(!c.geometry)continue;const[f,g]=c.geometry.coordinates,m=Fy(Zl(f)),_=Fy(Jl(g));o.push(m,_,1/0,u,-1,1),this.options.reduce&&o.push(0)}let a=this.trees[i+1]=this._createTree(o);n&&console.timeEnd(s);for(let u=i;u>=r;u--){const c=+Date.now();a=this.trees[u]=this._createTree(this._cluster(a,u)),n&&console.log("z%d: %d clusters in %dms",u,a.numItems,+Date.now()-c)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const g=this.getClusters([r,i,180,o],n),m=this.getClusters([-180,i,s,o],n);return g.concat(m)}const a=this.trees[this._limitZoom(n)],u=a.range(Zl(r),Jl(o),Zl(s),Jl(i)),c=a.data,f=[];for(const g of u){const m=this.stride*g;f.push(c[m+Pr]>1?By(c,m,this.clusterProps):this.points[c[m+Nr]])}return f}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const o=s.data;if(n*this.stride>=o.length)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=o[n*this.stride],c=o[n*this.stride+1],f=s.within(u,c,a),g=[];for(const m of f){const _=m*this.stride;o[_+Hd]===e&&g.push(o[_+Pr]>1?By(o,_,this.clusterProps):this.points[o[_+Nr]])}if(g.length===0)throw new Error(i);return g}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:a}=this.options,u=a/o,c=(r-u)/s,f=(r+1+u)/s,g={features:[]};return this._addTileFeatures(i.range((n-u)/s,c,(n+1+u)/s,f),i.data,n,r,s,g),n===0&&this._addTileFeatures(i.range(1-u/s,c,1,f),i.data,s,r,s,g),n===s-1&&this._addTileFeatures(i.range(0,c,u/s,f),i.data,-1,r,s,g),g.features.length?g:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){const o=this.getChildren(n);for(const a of o){const u=a.properties;if(u&&u.cluster?s+u.point_count<=i?s+=u.point_count:s=this._appendLeaves(e,u.cluster_id,r,i,s):s<i?s++:e.push(a),e.length===r)break}return s}_createTree(e){const n=new ug(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,o){for(const a of e){const u=a*this.stride,c=n[u+Pr]>1;let f,g,m;if(c)f=vC(n,u,this.clusterProps),g=n[u],m=n[u+1];else{const k=this.points[n[u+Nr]];f=k.properties;const[A,I]=k.geometry.coordinates;g=Zl(A),m=Jl(I)}const _={type:1,geometry:[[Math.round(this.options.extent*(g*s-r)),Math.round(this.options.extent*(m*s-i))]],tags:f};let L;c||this.options.generateId?L=n[u+Nr]:L=this.points[n[u+Nr]].id,L!==void 0&&(_.id=L),o.features.push(_)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:i,reduce:s,minPoints:o}=this.options,a=r/(i*Math.pow(2,n)),u=e.data,c=[],f=this.stride;for(let g=0;g<u.length;g+=f){if(u[g+Ti]<=n)continue;u[g+Ti]=n;const m=u[g],_=u[g+1],L=e.within(u[g],u[g+1],a),k=u[g+Pr];let A=k;for(const I of L){const x=I*f;u[x+Ti]>n&&(A+=u[x+Pr])}if(A>k&&A>=o){let I=m*k,x=_*k,E,P=-1;const D=((g/f|0)<<5)+(n+1)+this.points.length;for(const M of L){const w=M*f;if(u[w+Ti]<=n)continue;u[w+Ti]=n;const y=u[w+Pr];I+=u[w]*y,x+=u[w+1]*y,u[w+Hd]=D,s&&(E||(E=this._map(u,g,!0),P=this.clusterProps.length,this.clusterProps.push(E)),s(E,this._map(u,w)))}u[g+Hd]=D,c.push(I/A,x/A,1/0,D,-1,A),s&&c.push(P)}else{for(let I=0;I<f;I++)c.push(u[g+I]);if(A>1)for(const I of L){const x=I*f;if(!(u[x+Ti]<=n)){u[x+Ti]=n;for(let E=0;E<f;E++)c.push(u[x+E])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Pr]>1){const o=this.clusterProps[e[n+mC]];return r?Object.assign({},o):o}const i=this.points[e[n+Nr]].properties,s=this.options.map(i);return r&&s===i?Object.assign({},s):s}}function By(t,e,n){return{type:"Feature",id:t[e+Nr],properties:vC(t,e,n),geometry:{type:"Point",coordinates:[dM(t[e]),hM(t[e+1])]}}}function vC(t,e,n){const r=t[e+Pr],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,s=t[e+mC],o=s===-1?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:t[e+Nr],point_count:r,point_count_abbreviated:i})}function Zl(t){return t/360+.5}function Jl(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function dM(t){return(t-.5)*360}function hM(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function fM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class rn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class pf{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(rn.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>rn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(rn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class pM{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return gM(e)}}const gM=t=>t.map(n=>new pf({position:rn.getPosition(n),markers:[n]}));class mM extends pM{constructor(e){var{maxZoom:n,radius:r=60}=e,i=fM(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new cM(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!jy(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(s=>{const o=rn.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[o.lng(),o.lat()]},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!jy(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new pf({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:n,lng:e}});const i=r.marker;return new pf({markers:[i],position:rn.getPosition(i)})}}class vM{constructor(e,n){this.markers={sum:e.length};const r=n.map(s=>s.count),i=r.reduce((s,o)=>s+o,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class yM{render({count:e,position:n},r,i){const o=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,a=`Cluster of ${e} markers`,u=Number(google.maps.Marker.MAX_ZINDEX)+e;if(rn.isAdvancedMarkerAvailable(i)){const g=new DOMParser().parseFromString(o,"image/svg+xml").documentElement;g.setAttribute("transform","translate(0 25)");const m={map:i,position:n,zIndex:u,title:a,content:g};return new google.maps.marker.AdvancedMarkerElement(m)}const c={position:n,zIndex:u,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(c)}}function _M(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class cg{constructor(){_M(cg,google.maps.OverlayView)}}var ga;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(ga||(ga={}));const wM=(t,e,n)=>{n.fitBounds(e.bounds)};class EM extends cg{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:i=new mM(r),renderer:s=new yM,onClusterClick:o=wM}){super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=o,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(rn.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,ga.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const o of n)o.markers.length==1&&i.add(o.markers[0]);const s=[];for(const o of this.clusters)o.marker!=null&&(o.markers.length==1?i.has(o.marker)||rn.setMap(o.marker,null):s.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>s.forEach(o=>rn.setMap(o,null)))}google.maps.event.trigger(this,ga.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>rn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new vM(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>rn.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,ga.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),rn.setMap(r.marker,n)})}}function xM(t){var e=bN(),n=h.useState(null),r=n[0],i=n[1];return h.useEffect(function(){if(e&&r===null){var s=new EM(te(te({},t),{map:e}));i(s)}},[e]),r}function CM(t){var e=t.children,n=t.options,r=xM(n);return r!==null?e(r):null}h.memo(CM);var zy={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},$y={options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},zIndex:function(t,e){t.setZIndex(e)}};function SM(t){var e=t.children,n=t.anchor,r=t.options,i=t.position,s=t.zIndex,o=t.onCloseClick,a=t.onDomReady,u=t.onContentChanged,c=t.onPositionChanged,f=t.onZindexChanged,g=t.onLoad,m=t.onUnmount,_=h.useContext(we),L=h.useState(null),k=L[0],A=L[1],I=h.useState(null),x=I[0],E=I[1],P=h.useState(null),D=P[0],M=P[1],w=h.useState(null),y=w[0],S=w[1],C=h.useState(null),R=C[0],N=C[1],b=h.useState(null),K=b[0],X=b[1],ee=h.useRef(null);return h.useEffect(function(){k!==null&&(k.close(),n?k.open(_,n):k.getPosition()&&k.open(_))},[_,k,n]),h.useEffect(function(){r&&k!==null&&k.setOptions(r)},[k,r]),h.useEffect(function(){i&&k!==null&&k.setPosition(i)},[i]),h.useEffect(function(){typeof s=="number"&&k!==null&&k.setZIndex(s)},[s]),h.useEffect(function(){k&&o&&(x!==null&&google.maps.event.removeListener(x),E(google.maps.event.addListener(k,"closeclick",o)))},[o]),h.useEffect(function(){k&&a&&(D!==null&&google.maps.event.removeListener(D),M(google.maps.event.addListener(k,"domready",a)))},[a]),h.useEffect(function(){k&&u&&(y!==null&&google.maps.event.removeListener(y),S(google.maps.event.addListener(k,"content_changed",u)))},[u]),h.useEffect(function(){k&&c&&(R!==null&&google.maps.event.removeListener(R),N(google.maps.event.addListener(k,"position_changed",c)))},[c]),h.useEffect(function(){k&&f&&(K!==null&&google.maps.event.removeListener(K),X(google.maps.event.addListener(k,"zindex_changed",f)))},[f]),h.useEffect(function(){var G=new google.maps.InfoWindow(te({},r||{}));return A(G),ee.current=document.createElement("div"),o&&E(google.maps.event.addListener(G,"closeclick",o)),a&&M(google.maps.event.addListener(G,"domready",a)),u&&S(google.maps.event.addListener(G,"content_changed",u)),c&&N(google.maps.event.addListener(G,"position_changed",c)),f&&X(google.maps.event.addListener(G,"zindex_changed",f)),G.setContent(ee.current),i&&G.setPosition(i),s&&G.setZIndex(s),n?G.open(_,n):G.getPosition()?G.open(_):at(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),g&&g(G),function(){x&&google.maps.event.removeListener(x),y&&google.maps.event.removeListener(y),D&&google.maps.event.removeListener(D),R&&google.maps.event.removeListener(R),K&&google.maps.event.removeListener(K),m&&m(G),G.close()}},[]),ee.current?es.createPortal(h.Children.only(e),ee.current):null}h.memo(SM);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoWindow:null},n.open=function(r,i){i?r.open(n.context,i):r.getPosition()?r.open(n.context):at(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},n.setInfoWindowCallback=function(){n.state.infoWindow!==null&&n.containerElement!==null&&(n.state.infoWindow.setContent(n.containerElement),n.open(n.state.infoWindow,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoWindow))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.InfoWindow(te({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ce({updaterMap:$y,eventMap:zy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{infoWindow:n}},this.setInfoWindowCallback)},e.prototype.componentDidUpdate=function(n){this.state.infoWindow!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:$y,eventMap:zy,prevProps:n,nextProps:this.props,instance:this.state.infoWindow}))},e.prototype.componentWillUnmount=function(){this.state.infoWindow!==null&&(Ie(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},e.prototype.render=function(){return this.containerElement?es.createPortal(h.Children.only(this.props.children),this.containerElement):null},e.contextType=we,e})(h.PureComponent);var Wy={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Hy={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},visible:function(t,e){t.setVisible(e)}},IM={};function TM(t){var e=t.options,n=t.draggable,r=t.editable,i=t.visible,s=t.path,o=t.onDblClick,a=t.onDragEnd,u=t.onDragStart,c=t.onMouseDown,f=t.onMouseMove,g=t.onMouseOut,m=t.onMouseOver,_=t.onMouseUp,L=t.onRightClick,k=t.onClick,A=t.onDrag,I=t.onLoad,x=t.onUnmount,E=h.useContext(we),P=h.useState(null),D=P[0],M=P[1],w=h.useState(null),y=w[0],S=w[1],C=h.useState(null),R=C[0],N=C[1],b=h.useState(null),K=b[0],X=b[1],ee=h.useState(null),G=ee[0],F=ee[1],q=h.useState(null),H=q[0],Q=q[1],ne=h.useState(null),ue=ne[0],_e=ne[1],Ee=h.useState(null),U=Ee[0],xe=Ee[1],Ve=h.useState(null),ae=Ve[0],V=Ve[1],re=h.useState(null),le=re[0],de=re[1],ie=h.useState(null),Se=ie[0],De=ie[1],$e=h.useState(null),Ue=$e[0],Oe=$e[1];return h.useEffect(function(){D!==null&&D.setMap(E)},[E]),h.useEffect(function(){typeof e<"u"&&D!==null&&D.setOptions(e)},[D,e]),h.useEffect(function(){typeof n<"u"&&D!==null&&D.setDraggable(n)},[D,n]),h.useEffect(function(){typeof r<"u"&&D!==null&&D.setEditable(r)},[D,r]),h.useEffect(function(){typeof i<"u"&&D!==null&&D.setVisible(i)},[D,i]),h.useEffect(function(){typeof s<"u"&&D!==null&&D.setPath(s)},[D,s]),h.useEffect(function(){D&&o&&(y!==null&&google.maps.event.removeListener(y),S(google.maps.event.addListener(D,"dblclick",o)))},[o]),h.useEffect(function(){D&&a&&(R!==null&&google.maps.event.removeListener(R),N(google.maps.event.addListener(D,"dragend",a)))},[a]),h.useEffect(function(){D&&u&&(K!==null&&google.maps.event.removeListener(K),X(google.maps.event.addListener(D,"dragstart",u)))},[u]),h.useEffect(function(){D&&c&&(G!==null&&google.maps.event.removeListener(G),F(google.maps.event.addListener(D,"mousedown",c)))},[c]),h.useEffect(function(){D&&f&&(H!==null&&google.maps.event.removeListener(H),Q(google.maps.event.addListener(D,"mousemove",f)))},[f]),h.useEffect(function(){D&&g&&(ue!==null&&google.maps.event.removeListener(ue),_e(google.maps.event.addListener(D,"mouseout",g)))},[g]),h.useEffect(function(){D&&m&&(U!==null&&google.maps.event.removeListener(U),xe(google.maps.event.addListener(D,"mouseover",m)))},[m]),h.useEffect(function(){D&&_&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(D,"mouseup",_)))},[_]),h.useEffect(function(){D&&L&&(le!==null&&google.maps.event.removeListener(le),de(google.maps.event.addListener(D,"rightclick",L)))},[L]),h.useEffect(function(){D&&k&&(Se!==null&&google.maps.event.removeListener(Se),De(google.maps.event.addListener(D,"click",k)))},[k]),h.useEffect(function(){D&&A&&(Ue!==null&&google.maps.event.removeListener(Ue),Oe(google.maps.event.addListener(D,"drag",A)))},[A]),h.useEffect(function(){var ve=new google.maps.Polyline(te(te({},e||IM),{map:E}));return s&&ve.setPath(s),typeof i<"u"&&ve.setVisible(i),typeof r<"u"&&ve.setEditable(r),typeof n<"u"&&ve.setDraggable(n),o&&S(google.maps.event.addListener(ve,"dblclick",o)),a&&N(google.maps.event.addListener(ve,"dragend",a)),u&&X(google.maps.event.addListener(ve,"dragstart",u)),c&&F(google.maps.event.addListener(ve,"mousedown",c)),f&&Q(google.maps.event.addListener(ve,"mousemove",f)),g&&_e(google.maps.event.addListener(ve,"mouseout",g)),m&&xe(google.maps.event.addListener(ve,"mouseover",m)),_&&V(google.maps.event.addListener(ve,"mouseup",_)),L&&de(google.maps.event.addListener(ve,"rightclick",L)),k&&De(google.maps.event.addListener(ve,"click",k)),A&&Oe(google.maps.event.addListener(ve,"drag",A)),M(ve),I&&I(ve),function(){y!==null&&google.maps.event.removeListener(y),R!==null&&google.maps.event.removeListener(R),K!==null&&google.maps.event.removeListener(K),G!==null&&google.maps.event.removeListener(G),H!==null&&google.maps.event.removeListener(H),ue!==null&&google.maps.event.removeListener(ue),U!==null&&google.maps.event.removeListener(U),ae!==null&&google.maps.event.removeListener(ae),le!==null&&google.maps.event.removeListener(le),Se!==null&&google.maps.event.removeListener(Se),x&&x(ve),ve.setMap(null)}},[]),null}h.memo(TM);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polyline:null},n.setPolylineCallback=function(){n.state.polyline!==null&&n.props.onLoad&&n.props.onLoad(n.state.polyline)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polyline(te(te({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ce({updaterMap:Hy,eventMap:Wy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polyline:n}},this.setPolylineCallback)},e.prototype.componentDidUpdate=function(n){this.state.polyline!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:Hy,eventMap:Wy,prevProps:n,nextProps:this.props,instance:this.state.polyline}))},e.prototype.componentWillUnmount=function(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ie(this.registeredEvents),this.state.polyline.setMap(null))},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);var qy={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Gy={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},paths:function(t,e){t.setPaths(e)},visible:function(t,e){t.setVisible(e)}};function kM(t){var e=t.options,n=t.draggable,r=t.editable,i=t.visible,s=t.path,o=t.paths,a=t.onDblClick,u=t.onDragEnd,c=t.onDragStart,f=t.onMouseDown,g=t.onMouseMove,m=t.onMouseOut,_=t.onMouseOver,L=t.onMouseUp,k=t.onRightClick,A=t.onClick,I=t.onDrag,x=t.onLoad,E=t.onUnmount,P=t.onEdit,D=h.useContext(we),M=h.useState(null),w=M[0],y=M[1],S=h.useState(null),C=S[0],R=S[1],N=h.useState(null),b=N[0],K=N[1],X=h.useState(null),ee=X[0],G=X[1],F=h.useState(null),q=F[0],H=F[1],Q=h.useState(null),ne=Q[0],ue=Q[1],_e=h.useState(null),Ee=_e[0],U=_e[1],xe=h.useState(null),Ve=xe[0],ae=xe[1],V=h.useState(null),re=V[0],le=V[1],de=h.useState(null),ie=de[0],Se=de[1],De=h.useState(null),$e=De[0],Ue=De[1],Oe=h.useState(null),ve=Oe[0],Je=Oe[1];return h.useEffect(function(){w!==null&&w.setMap(D)},[D]),h.useEffect(function(){typeof e<"u"&&w!==null&&w.setOptions(e)},[w,e]),h.useEffect(function(){typeof n<"u"&&w!==null&&w.setDraggable(n)},[w,n]),h.useEffect(function(){typeof r<"u"&&w!==null&&w.setEditable(r)},[w,r]),h.useEffect(function(){typeof i<"u"&&w!==null&&w.setVisible(i)},[w,i]),h.useEffect(function(){typeof s<"u"&&w!==null&&w.setPath(s)},[w,s]),h.useEffect(function(){typeof o<"u"&&w!==null&&w.setPaths(o)},[w,o]),h.useEffect(function(){w&&a&&(C!==null&&google.maps.event.removeListener(C),R(google.maps.event.addListener(w,"dblclick",a)))},[a]),h.useEffect(function(){w&&(google.maps.event.addListener(w.getPath(),"insert_at",function(){P==null||P(w)}),google.maps.event.addListener(w.getPath(),"set_at",function(){P==null||P(w)}))},[w,P]),h.useEffect(function(){w&&u&&(b!==null&&google.maps.event.removeListener(b),K(google.maps.event.addListener(w,"dragend",u)))},[u]),h.useEffect(function(){w&&c&&(ee!==null&&google.maps.event.removeListener(ee),G(google.maps.event.addListener(w,"dragstart",c)))},[c]),h.useEffect(function(){w&&f&&(q!==null&&google.maps.event.removeListener(q),H(google.maps.event.addListener(w,"mousedown",f)))},[f]),h.useEffect(function(){w&&g&&(ne!==null&&google.maps.event.removeListener(ne),ue(google.maps.event.addListener(w,"mousemove",g)))},[g]),h.useEffect(function(){w&&m&&(Ee!==null&&google.maps.event.removeListener(Ee),U(google.maps.event.addListener(w,"mouseout",m)))},[m]),h.useEffect(function(){w&&_&&(Ve!==null&&google.maps.event.removeListener(Ve),ae(google.maps.event.addListener(w,"mouseover",_)))},[_]),h.useEffect(function(){w&&L&&(re!==null&&google.maps.event.removeListener(re),le(google.maps.event.addListener(w,"mouseup",L)))},[L]),h.useEffect(function(){w&&k&&(ie!==null&&google.maps.event.removeListener(ie),Se(google.maps.event.addListener(w,"rightclick",k)))},[k]),h.useEffect(function(){w&&A&&($e!==null&&google.maps.event.removeListener($e),Ue(google.maps.event.addListener(w,"click",A)))},[A]),h.useEffect(function(){w&&I&&(ve!==null&&google.maps.event.removeListener(ve),Je(google.maps.event.addListener(w,"drag",I)))},[I]),h.useEffect(function(){var he=new google.maps.Polygon(te(te({},e||{}),{map:D}));return s&&he.setPath(s),o&&he.setPaths(o),typeof i<"u"&&he.setVisible(i),typeof r<"u"&&he.setEditable(r),typeof n<"u"&&he.setDraggable(n),a&&R(google.maps.event.addListener(he,"dblclick",a)),u&&K(google.maps.event.addListener(he,"dragend",u)),c&&G(google.maps.event.addListener(he,"dragstart",c)),f&&H(google.maps.event.addListener(he,"mousedown",f)),g&&ue(google.maps.event.addListener(he,"mousemove",g)),m&&U(google.maps.event.addListener(he,"mouseout",m)),_&&ae(google.maps.event.addListener(he,"mouseover",_)),L&&le(google.maps.event.addListener(he,"mouseup",L)),k&&Se(google.maps.event.addListener(he,"rightclick",k)),A&&Ue(google.maps.event.addListener(he,"click",A)),I&&Je(google.maps.event.addListener(he,"drag",I)),y(he),x&&x(he),function(){C!==null&&google.maps.event.removeListener(C),b!==null&&google.maps.event.removeListener(b),ee!==null&&google.maps.event.removeListener(ee),q!==null&&google.maps.event.removeListener(q),ne!==null&&google.maps.event.removeListener(ne),Ee!==null&&google.maps.event.removeListener(Ee),Ve!==null&&google.maps.event.removeListener(Ve),re!==null&&google.maps.event.removeListener(re),ie!==null&&google.maps.event.removeListener(ie),$e!==null&&google.maps.event.removeListener($e),E&&E(he),he.setMap(null)}},[]),null}h.memo(kM);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polygon:null},n.setPolygonCallback=function(){n.state.polygon!==null&&n.props.onLoad&&n.props.onLoad(n.state.polygon)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polygon(te(te({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ce({updaterMap:Gy,eventMap:qy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polygon:n}},this.setPolygonCallback)},e.prototype.componentDidUpdate=function(n){this.state.polygon!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:Gy,eventMap:qy,prevProps:n,nextProps:this.props,instance:this.state.polygon}))},e.prototype.componentWillUnmount=function(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),Ie(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);var Ky={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Qy={bounds:function(t,e){t.setBounds(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},visible:function(t,e){t.setVisible(e)}};function LM(t){var e=t.options,n=t.bounds,r=t.draggable,i=t.editable,s=t.visible,o=t.onDblClick,a=t.onDragEnd,u=t.onDragStart,c=t.onMouseDown,f=t.onMouseMove,g=t.onMouseOut,m=t.onMouseOver,_=t.onMouseUp,L=t.onRightClick,k=t.onClick,A=t.onDrag,I=t.onBoundsChanged,x=t.onLoad,E=t.onUnmount,P=h.useContext(we),D=h.useState(null),M=D[0],w=D[1],y=h.useState(null),S=y[0],C=y[1],R=h.useState(null),N=R[0],b=R[1],K=h.useState(null),X=K[0],ee=K[1],G=h.useState(null),F=G[0],q=G[1],H=h.useState(null),Q=H[0],ne=H[1],ue=h.useState(null),_e=ue[0],Ee=ue[1],U=h.useState(null),xe=U[0],Ve=U[1],ae=h.useState(null),V=ae[0],re=ae[1],le=h.useState(null),de=le[0],ie=le[1],Se=h.useState(null),De=Se[0],$e=Se[1],Ue=h.useState(null),Oe=Ue[0],ve=Ue[1],Je=h.useState(null),he=Je[0],lt=Je[1];return h.useEffect(function(){M!==null&&M.setMap(P)},[P]),h.useEffect(function(){typeof e<"u"&&M!==null&&M.setOptions(e)},[M,e]),h.useEffect(function(){typeof r<"u"&&M!==null&&M.setDraggable(r)},[M,r]),h.useEffect(function(){typeof i<"u"&&M!==null&&M.setEditable(i)},[M,i]),h.useEffect(function(){typeof s<"u"&&M!==null&&M.setVisible(s)},[M,s]),h.useEffect(function(){typeof n<"u"&&M!==null&&M.setBounds(n)},[M,n]),h.useEffect(function(){M&&o&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(M,"dblclick",o)))},[o]),h.useEffect(function(){M&&a&&(N!==null&&google.maps.event.removeListener(N),b(google.maps.event.addListener(M,"dragend",a)))},[a]),h.useEffect(function(){M&&u&&(X!==null&&google.maps.event.removeListener(X),ee(google.maps.event.addListener(M,"dragstart",u)))},[u]),h.useEffect(function(){M&&c&&(F!==null&&google.maps.event.removeListener(F),q(google.maps.event.addListener(M,"mousedown",c)))},[c]),h.useEffect(function(){M&&f&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(M,"mousemove",f)))},[f]),h.useEffect(function(){M&&g&&(_e!==null&&google.maps.event.removeListener(_e),Ee(google.maps.event.addListener(M,"mouseout",g)))},[g]),h.useEffect(function(){M&&m&&(xe!==null&&google.maps.event.removeListener(xe),Ve(google.maps.event.addListener(M,"mouseover",m)))},[m]),h.useEffect(function(){M&&_&&(V!==null&&google.maps.event.removeListener(V),re(google.maps.event.addListener(M,"mouseup",_)))},[_]),h.useEffect(function(){M&&L&&(de!==null&&google.maps.event.removeListener(de),ie(google.maps.event.addListener(M,"rightclick",L)))},[L]),h.useEffect(function(){M&&k&&(De!==null&&google.maps.event.removeListener(De),$e(google.maps.event.addListener(M,"click",k)))},[k]),h.useEffect(function(){M&&A&&(Oe!==null&&google.maps.event.removeListener(Oe),ve(google.maps.event.addListener(M,"drag",A)))},[A]),h.useEffect(function(){M&&I&&(he!==null&&google.maps.event.removeListener(he),lt(google.maps.event.addListener(M,"bounds_changed",I)))},[I]),h.useEffect(function(){var se=new google.maps.Rectangle(te(te({},e||{}),{map:P}));return typeof s<"u"&&se.setVisible(s),typeof i<"u"&&se.setEditable(i),typeof r<"u"&&se.setDraggable(r),typeof n<"u"&&se.setBounds(n),o&&C(google.maps.event.addListener(se,"dblclick",o)),a&&b(google.maps.event.addListener(se,"dragend",a)),u&&ee(google.maps.event.addListener(se,"dragstart",u)),c&&q(google.maps.event.addListener(se,"mousedown",c)),f&&ne(google.maps.event.addListener(se,"mousemove",f)),g&&Ee(google.maps.event.addListener(se,"mouseout",g)),m&&Ve(google.maps.event.addListener(se,"mouseover",m)),_&&re(google.maps.event.addListener(se,"mouseup",_)),L&&ie(google.maps.event.addListener(se,"rightclick",L)),k&&$e(google.maps.event.addListener(se,"click",k)),A&&ve(google.maps.event.addListener(se,"drag",A)),I&&lt(google.maps.event.addListener(se,"bounds_changed",I)),w(se),x&&x(se),function(){S!==null&&google.maps.event.removeListener(S),N!==null&&google.maps.event.removeListener(N),X!==null&&google.maps.event.removeListener(X),F!==null&&google.maps.event.removeListener(F),Q!==null&&google.maps.event.removeListener(Q),_e!==null&&google.maps.event.removeListener(_e),xe!==null&&google.maps.event.removeListener(xe),V!==null&&google.maps.event.removeListener(V),de!==null&&google.maps.event.removeListener(de),De!==null&&google.maps.event.removeListener(De),Oe!==null&&google.maps.event.removeListener(Oe),he!==null&&google.maps.event.removeListener(he),E&&E(se),se.setMap(null)}},[]),null}h.memo(LM);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={rectangle:null},n.setRectangleCallback=function(){n.state.rectangle!==null&&n.props.onLoad&&n.props.onLoad(n.state.rectangle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Rectangle(te(te({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ce({updaterMap:Qy,eventMap:Ky,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{rectangle:n}},this.setRectangleCallback)},e.prototype.componentDidUpdate=function(n){this.state.rectangle!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:Qy,eventMap:Ky,prevProps:n,nextProps:this.props,instance:this.state.rectangle}))},e.prototype.componentWillUnmount=function(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ie(this.registeredEvents),this.state.rectangle.setMap(null))},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);var Yy={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Zy={center:function(t,e){t.setCenter(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},radius:function(t,e){t.setRadius(e)},visible:function(t,e){t.setVisible(e)}},bM={};function PM(t){var e=t.options,n=t.center,r=t.radius,i=t.draggable,s=t.editable,o=t.visible,a=t.onDblClick,u=t.onDragEnd,c=t.onDragStart,f=t.onMouseDown,g=t.onMouseMove,m=t.onMouseOut,_=t.onMouseOver,L=t.onMouseUp,k=t.onRightClick,A=t.onClick,I=t.onDrag,x=t.onCenterChanged,E=t.onRadiusChanged,P=t.onLoad,D=t.onUnmount,M=h.useContext(we),w=h.useState(null),y=w[0],S=w[1],C=h.useState(null),R=C[0],N=C[1],b=h.useState(null),K=b[0],X=b[1],ee=h.useState(null),G=ee[0],F=ee[1],q=h.useState(null),H=q[0],Q=q[1],ne=h.useState(null),ue=ne[0],_e=ne[1],Ee=h.useState(null),U=Ee[0],xe=Ee[1],Ve=h.useState(null),ae=Ve[0],V=Ve[1],re=h.useState(null),le=re[0],de=re[1],ie=h.useState(null),Se=ie[0],De=ie[1],$e=h.useState(null),Ue=$e[0],Oe=$e[1],ve=h.useState(null),Je=ve[0],he=ve[1],lt=h.useState(null),se=lt[0],Rt=lt[1],Ye=h.useState(null),Me=Ye[0],ut=Ye[1];return h.useEffect(function(){y!==null&&y.setMap(M)},[M]),h.useEffect(function(){typeof e<"u"&&y!==null&&y.setOptions(e)},[y,e]),h.useEffect(function(){typeof i<"u"&&y!==null&&y.setDraggable(i)},[y,i]),h.useEffect(function(){typeof s<"u"&&y!==null&&y.setEditable(s)},[y,s]),h.useEffect(function(){typeof o<"u"&&y!==null&&y.setVisible(o)},[y,o]),h.useEffect(function(){typeof r=="number"&&y!==null&&y.setRadius(r)},[y,r]),h.useEffect(function(){typeof n<"u"&&y!==null&&y.setCenter(n)},[y,n]),h.useEffect(function(){y&&a&&(R!==null&&google.maps.event.removeListener(R),N(google.maps.event.addListener(y,"dblclick",a)))},[a]),h.useEffect(function(){y&&u&&(K!==null&&google.maps.event.removeListener(K),X(google.maps.event.addListener(y,"dragend",u)))},[u]),h.useEffect(function(){y&&c&&(G!==null&&google.maps.event.removeListener(G),F(google.maps.event.addListener(y,"dragstart",c)))},[c]),h.useEffect(function(){y&&f&&(H!==null&&google.maps.event.removeListener(H),Q(google.maps.event.addListener(y,"mousedown",f)))},[f]),h.useEffect(function(){y&&g&&(ue!==null&&google.maps.event.removeListener(ue),_e(google.maps.event.addListener(y,"mousemove",g)))},[g]),h.useEffect(function(){y&&m&&(U!==null&&google.maps.event.removeListener(U),xe(google.maps.event.addListener(y,"mouseout",m)))},[m]),h.useEffect(function(){y&&_&&(ae!==null&&google.maps.event.removeListener(ae),V(google.maps.event.addListener(y,"mouseover",_)))},[_]),h.useEffect(function(){y&&L&&(le!==null&&google.maps.event.removeListener(le),de(google.maps.event.addListener(y,"mouseup",L)))},[L]),h.useEffect(function(){y&&k&&(Se!==null&&google.maps.event.removeListener(Se),De(google.maps.event.addListener(y,"rightclick",k)))},[k]),h.useEffect(function(){y&&A&&(Ue!==null&&google.maps.event.removeListener(Ue),Oe(google.maps.event.addListener(y,"click",A)))},[A]),h.useEffect(function(){y&&I&&(Je!==null&&google.maps.event.removeListener(Je),he(google.maps.event.addListener(y,"drag",I)))},[I]),h.useEffect(function(){y&&x&&(se!==null&&google.maps.event.removeListener(se),Rt(google.maps.event.addListener(y,"center_changed",x)))},[A]),h.useEffect(function(){y&&E&&(Me!==null&&google.maps.event.removeListener(Me),ut(google.maps.event.addListener(y,"radius_changed",E)))},[E]),h.useEffect(function(){var ge=new google.maps.Circle(te(te({},e||bM),{map:M}));return typeof r=="number"&&ge.setRadius(r),typeof n<"u"&&ge.setCenter(n),typeof r=="number"&&ge.setRadius(r),typeof o<"u"&&ge.setVisible(o),typeof s<"u"&&ge.setEditable(s),typeof i<"u"&&ge.setDraggable(i),a&&N(google.maps.event.addListener(ge,"dblclick",a)),u&&X(google.maps.event.addListener(ge,"dragend",u)),c&&F(google.maps.event.addListener(ge,"dragstart",c)),f&&Q(google.maps.event.addListener(ge,"mousedown",f)),g&&_e(google.maps.event.addListener(ge,"mousemove",g)),m&&xe(google.maps.event.addListener(ge,"mouseout",m)),_&&V(google.maps.event.addListener(ge,"mouseover",_)),L&&de(google.maps.event.addListener(ge,"mouseup",L)),k&&De(google.maps.event.addListener(ge,"rightclick",k)),A&&Oe(google.maps.event.addListener(ge,"click",A)),I&&he(google.maps.event.addListener(ge,"drag",I)),x&&Rt(google.maps.event.addListener(ge,"center_changed",x)),E&&ut(google.maps.event.addListener(ge,"radius_changed",E)),S(ge),P&&P(ge),function(){R!==null&&google.maps.event.removeListener(R),K!==null&&google.maps.event.removeListener(K),G!==null&&google.maps.event.removeListener(G),H!==null&&google.maps.event.removeListener(H),ue!==null&&google.maps.event.removeListener(ue),U!==null&&google.maps.event.removeListener(U),ae!==null&&google.maps.event.removeListener(ae),le!==null&&google.maps.event.removeListener(le),Se!==null&&google.maps.event.removeListener(Se),Ue!==null&&google.maps.event.removeListener(Ue),se!==null&&google.maps.event.removeListener(se),Me!==null&&google.maps.event.removeListener(Me),D&&D(ge),ge.setMap(null)}},[]),null}h.memo(PM);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={circle:null},n.setCircleCallback=function(){n.state.circle!==null&&n.props.onLoad&&n.props.onLoad(n.state.circle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Circle(te(te({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ce({updaterMap:Zy,eventMap:Yy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{circle:n}},this.setCircleCallback)},e.prototype.componentDidUpdate=function(n){this.state.circle!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:Zy,eventMap:Yy,prevProps:n,nextProps:this.props,instance:this.state.circle}))},e.prototype.componentWillUnmount=function(){var n;this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ie(this.registeredEvents),(n=this.state.circle)===null||n===void 0||n.setMap(null))},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);var Jy={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Xy={add:function(t,e){t.add(e)},addgeojson:function(t,e,n){t.addGeoJson(e,n)},contains:function(t,e){t.contains(e)},foreach:function(t,e){t.forEach(e)},loadgeojson:function(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle:function(t,e,n){t.overrideStyle(e,n)},remove:function(t,e){t.remove(e)},revertstyle:function(t,e){t.revertStyle(e)},controlposition:function(t,e){t.setControlPosition(e)},controls:function(t,e){t.setControls(e)},drawingmode:function(t,e){t.setDrawingMode(e)},map:function(t,e){t.setMap(e)},style:function(t,e){t.setStyle(e)},togeojson:function(t,e){t.toGeoJson(e)}};function AM(t){var e=t.options,n=t.onClick,r=t.onDblClick,i=t.onMouseDown,s=t.onMouseMove,o=t.onMouseOut,a=t.onMouseOver,u=t.onMouseUp,c=t.onRightClick,f=t.onAddFeature,g=t.onRemoveFeature,m=t.onRemoveProperty,_=t.onSetGeometry,L=t.onSetProperty,k=t.onLoad,A=t.onUnmount,I=h.useContext(we),x=h.useState(null),E=x[0],P=x[1],D=h.useState(null),M=D[0],w=D[1],y=h.useState(null),S=y[0],C=y[1],R=h.useState(null),N=R[0],b=R[1],K=h.useState(null),X=K[0],ee=K[1],G=h.useState(null),F=G[0],q=G[1],H=h.useState(null),Q=H[0],ne=H[1],ue=h.useState(null),_e=ue[0],Ee=ue[1],U=h.useState(null),xe=U[0],Ve=U[1],ae=h.useState(null),V=ae[0],re=ae[1],le=h.useState(null),de=le[0],ie=le[1],Se=h.useState(null),De=Se[0],$e=Se[1],Ue=h.useState(null),Oe=Ue[0],ve=Ue[1],Je=h.useState(null),he=Je[0],lt=Je[1];return h.useEffect(function(){E!==null&&E.setMap(I)},[I]),h.useEffect(function(){E&&r&&(M!==null&&google.maps.event.removeListener(M),w(google.maps.event.addListener(E,"dblclick",r)))},[r]),h.useEffect(function(){E&&i&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(E,"mousedown",i)))},[i]),h.useEffect(function(){E&&s&&(N!==null&&google.maps.event.removeListener(N),b(google.maps.event.addListener(E,"mousemove",s)))},[s]),h.useEffect(function(){E&&o&&(X!==null&&google.maps.event.removeListener(X),ee(google.maps.event.addListener(E,"mouseout",o)))},[o]),h.useEffect(function(){E&&a&&(F!==null&&google.maps.event.removeListener(F),q(google.maps.event.addListener(E,"mouseover",a)))},[a]),h.useEffect(function(){E&&u&&(Q!==null&&google.maps.event.removeListener(Q),ne(google.maps.event.addListener(E,"mouseup",u)))},[u]),h.useEffect(function(){E&&c&&(_e!==null&&google.maps.event.removeListener(_e),Ee(google.maps.event.addListener(E,"rightclick",c)))},[c]),h.useEffect(function(){E&&n&&(xe!==null&&google.maps.event.removeListener(xe),Ve(google.maps.event.addListener(E,"click",n)))},[n]),h.useEffect(function(){E&&f&&(V!==null&&google.maps.event.removeListener(V),re(google.maps.event.addListener(E,"addfeature",f)))},[f]),h.useEffect(function(){E&&g&&(de!==null&&google.maps.event.removeListener(de),ie(google.maps.event.addListener(E,"removefeature",g)))},[g]),h.useEffect(function(){E&&m&&(De!==null&&google.maps.event.removeListener(De),$e(google.maps.event.addListener(E,"removeproperty",m)))},[m]),h.useEffect(function(){E&&_&&(Oe!==null&&google.maps.event.removeListener(Oe),ve(google.maps.event.addListener(E,"setgeometry",_)))},[_]),h.useEffect(function(){E&&L&&(he!==null&&google.maps.event.removeListener(he),lt(google.maps.event.addListener(E,"setproperty",L)))},[L]),h.useEffect(function(){if(I!==null){var se=new google.maps.Data(te(te({},e||{}),{map:I}));r&&w(google.maps.event.addListener(se,"dblclick",r)),i&&C(google.maps.event.addListener(se,"mousedown",i)),s&&b(google.maps.event.addListener(se,"mousemove",s)),o&&ee(google.maps.event.addListener(se,"mouseout",o)),a&&q(google.maps.event.addListener(se,"mouseover",a)),u&&ne(google.maps.event.addListener(se,"mouseup",u)),c&&Ee(google.maps.event.addListener(se,"rightclick",c)),n&&Ve(google.maps.event.addListener(se,"click",n)),f&&re(google.maps.event.addListener(se,"addfeature",f)),g&&ie(google.maps.event.addListener(se,"removefeature",g)),m&&$e(google.maps.event.addListener(se,"removeproperty",m)),_&&ve(google.maps.event.addListener(se,"setgeometry",_)),L&&lt(google.maps.event.addListener(se,"setproperty",L)),P(se),k&&k(se)}return function(){E&&(M!==null&&google.maps.event.removeListener(M),S!==null&&google.maps.event.removeListener(S),N!==null&&google.maps.event.removeListener(N),X!==null&&google.maps.event.removeListener(X),F!==null&&google.maps.event.removeListener(F),Q!==null&&google.maps.event.removeListener(Q),_e!==null&&google.maps.event.removeListener(_e),xe!==null&&google.maps.event.removeListener(xe),V!==null&&google.maps.event.removeListener(V),de!==null&&google.maps.event.removeListener(de),De!==null&&google.maps.event.removeListener(De),Oe!==null&&google.maps.event.removeListener(Oe),he!==null&&google.maps.event.removeListener(he),A&&A(E),E.setMap(null))}},[]),null}h.memo(AM);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={data:null},n.setDataCallback=function(){n.state.data!==null&&n.props.onLoad&&n.props.onLoad(n.state.data)},n}return e.prototype.componentDidMount=function(){if(this.context!==null){var n=new google.maps.Data(te(te({},this.props.options||{}),{map:this.context}));this.registeredEvents=Ce({updaterMap:Xy,eventMap:Jy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{data:n}},this.setDataCallback)}},e.prototype.componentDidUpdate=function(n){this.state.data!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:Xy,eventMap:Jy,prevProps:n,nextProps:this.props,instance:this.state.data}))},e.prototype.componentWillUnmount=function(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ie(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);var e0={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},t0={options:function(t,e){t.setOptions(e)},url:function(t,e){t.setUrl(e)},zIndex:function(t,e){t.setZIndex(e)}};(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={kmlLayer:null},n.setKmlLayerCallback=function(){n.state.kmlLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.kmlLayer)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.KmlLayer(te(te({},this.props.options),{map:this.context}));this.registeredEvents=Ce({updaterMap:t0,eventMap:e0,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{kmlLayer:n}},this.setKmlLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.kmlLayer!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:t0,eventMap:e0,prevProps:n,nextProps:this.props,instance:this.state.kmlLayer}))},e.prototype.componentWillUnmount=function(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ie(this.registeredEvents),this.state.kmlLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);function yC(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function RM(t,e){return new e(t.lat,t.lng)}function NM(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function MM(t,e,n){return t instanceof e?t:n(t,e)}function DM(t,e,n){return t instanceof e?t:n(t,e)}function OM(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function jM(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var i=r.x,s=r.y;return{left:"".concat(i+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function _C(t,e,n,r){return n!==void 0?OM(t,e,DM(n,google.maps.LatLngBounds,NM)):jM(t,e,MM(r,google.maps.LatLng,RM))}function VM(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function UM(t,e,n,r,i){var s=function(o){ze(a,o);function a(u,c,f,g){var m=o.call(this)||this;return m.container=u,m.pane=c,m.position=f,m.bounds=g,m}return a.prototype.onAdd=function(){var u,c=(u=this.getPanes())===null||u===void 0?void 0:u[this.pane];c==null||c.appendChild(this.container)},a.prototype.draw=function(){for(var u=this.getProjection(),c=te({},this.container?yC(this.container,i):{x:0,y:0}),f=_C(u,c,this.bounds,this.position),g=0,m=Object.entries(f);g<m.length;g++){var _=m[g],L=_[0],k=_[1];this.container.style[L]=k}},a.prototype.onRemove=function(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)},a}(google.maps.OverlayView);return new s(t,e,n,r)}function n0(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function r0(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function FM(t){var e=t.position,n=t.bounds,r=t.mapPaneName,i=t.zIndex,s=t.onLoad,o=t.onUnmount,a=t.getPixelPositionOffset,u=t.children,c=h.useContext(we),f=h.useMemo(function(){var m=document.createElement("div");return m.style.position="absolute",m},[]),g=h.useMemo(function(){return UM(f,r,e,n,a)},[f,r,e,n]);return h.useEffect(function(){return s==null||s(g),g==null||g.setMap(c),function(){o==null||o(g),g==null||g.setMap(null)}},[c,g]),h.useEffect(function(){f.style.zIndex="".concat(i)},[i,f]),es.createPortal(u,f)}h.memo(FM);(function(t){ze(e,t);function e(n){var r=t.call(this,n)||this;r.state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var s=r.props.mapPaneName,o=r.overlayView.getPanes();at(!!s,"OverlayView requires props.mapPaneName but got %s",s),o?r.setState({paneEl:o[s]}):r.setState({paneEl:null})},r.onAdd=function(){var s,o;r.updatePane(),(o=(s=r.props).onLoad)===null||o===void 0||o.call(s,r.overlayView)},r.onPositionElement=function(){var s=r.overlayView.getProjection(),o=te({x:0,y:0},r.containerRef.current?yC(r.containerRef.current,r.props.getPixelPositionOffset):{}),a=_C(s,o,r.props.bounds,r.props.position),u=r.state.containerStyle,c=u.left,f=u.top,g=u.width,m=u.height;VM(a,{left:c,top:f,width:g,height:m})||r.setState({containerStyle:{top:a.top||0,left:a.left||0,width:a.width||0,height:a.height||0,position:"absolute"}})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var s,o;r.setState(function(){return{paneEl:null}}),(o=(s=r.props).onUnmount)===null||o===void 0||o.call(s,r.overlayView)},r.containerRef=h.createRef();var i=new google.maps.OverlayView;return i.onAdd=r.onAdd,i.draw=r.draw,i.onRemove=r.onRemove,r.overlayView=i,r}return e.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},e.prototype.componentDidUpdate=function(n){var r=n0(n.position),i=n0(this.props.position),s=r0(n.bounds),o=r0(this.props.bounds);(r!==i||s!==o)&&this.overlayView.draw(),n.mapPaneName!==this.props.mapPaneName&&this.updatePane()},e.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},e.prototype.render=function(){var n=this.state.paneEl;return n?es.createPortal(d.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:h.Children.only(this.props.children)}),n):null},e.FLOAT_PANE="floatPane",e.MAP_PANE="mapPane",e.MARKER_LAYER="markerLayer",e.OVERLAY_LAYER="overlayLayer",e.OVERLAY_MOUSE_TARGET="overlayMouseTarget",e.contextType=we,e})(h.PureComponent);function BM(){}var i0={onDblClick:"dblclick",onClick:"click"},s0={opacity:function(t,e){t.setOpacity(e)}};function zM(t){var e=t.url,n=t.bounds,r=t.options,i=t.visible,s=h.useContext(we),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=h.useMemo(function(){var u=new google.maps.GroundOverlay(e,o,te({},r));return u},[]);return h.useEffect(function(){a!==null&&a.setMap(s)},[s]),h.useEffect(function(){typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(s))},[a,e]),h.useEffect(function(){typeof i<"u"&&a!==null&&a.setOpacity(i?1:0)},[a,i]),h.useEffect(function(){var u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",u),a.setMap(s))},[a,n]),null}h.memo(zM);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={groundOverlay:null},n.setGroundOverlayCallback=function(){n.state.groundOverlay!==null&&n.props.onLoad&&n.props.onLoad(n.state.groundOverlay)},n}return e.prototype.componentDidMount=function(){at(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var n=new google.maps.GroundOverlay(this.props.url,this.props.bounds,te(te({},this.props.options),{map:this.context}));this.registeredEvents=Ce({updaterMap:s0,eventMap:i0,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{groundOverlay:n}},this.setGroundOverlayCallback)},e.prototype.componentDidUpdate=function(n){this.state.groundOverlay!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:s0,eventMap:i0,prevProps:n,nextProps:this.props,instance:this.state.groundOverlay}))},e.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},e.prototype.render=function(){return null},e.defaultProps={onLoad:BM},e.contextType=we,e})(h.PureComponent);var o0={},a0={data:function(t,e){t.setData(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)}};function $M(t){var e=t.data,n=t.onLoad,r=t.onUnmount,i=t.options,s=h.useContext(we),o=h.useState(null),a=o[0],u=o[1];return h.useEffect(function(){google.maps.visualization||at(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),h.useEffect(function(){at(!!e,"data property is required in HeatmapLayer %s",e)},[e]),h.useEffect(function(){a!==null&&a.setMap(s)},[s]),h.useEffect(function(){i&&a!==null&&a.setOptions(i)},[a,i]),h.useEffect(function(){var c=new google.maps.visualization.HeatmapLayer(te(te({},i||{}),{data:e,map:s}));return u(c),n&&n(c),function(){a!==null&&(r&&r(a),a.setMap(null))}},[]),null}h.memo($M);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={heatmapLayer:null},n.setHeatmapLayerCallback=function(){n.state.heatmapLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.heatmapLayer)},n}return e.prototype.componentDidMount=function(){at(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),at(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var n=new google.maps.visualization.HeatmapLayer(te(te({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=Ce({updaterMap:a0,eventMap:o0,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{heatmapLayer:n}},this.setHeatmapLayerCallback)},e.prototype.componentDidUpdate=function(n){Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:a0,eventMap:o0,prevProps:n,nextProps:this.props,instance:this.state.heatmapLayer})},e.prototype.componentWillUnmount=function(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ie(this.registeredEvents),this.state.heatmapLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);var l0={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},u0={register:function(t,e,n){t.registerPanoProvider(e,n)},links:function(t,e){t.setLinks(e)},motionTracking:function(t,e){t.setMotionTracking(e)},options:function(t,e){t.setOptions(e)},pano:function(t,e){t.setPano(e)},position:function(t,e){t.setPosition(e)},pov:function(t,e){t.setPov(e)},visible:function(t,e){t.setVisible(e)},zoom:function(t,e){t.setZoom(e)}};(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={streetViewPanorama:null},n.setStreetViewPanoramaCallback=function(){n.state.streetViewPanorama!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewPanorama)},n}return e.prototype.componentDidMount=function(){var n,r,i=(r=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&r!==void 0?r:null;this.registeredEvents=Ce({updaterMap:u0,eventMap:l0,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{streetViewPanorama:i}},this.setStreetViewPanoramaCallback)},e.prototype.componentDidUpdate=function(n){this.state.streetViewPanorama!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:u0,eventMap:l0,prevProps:n,nextProps:this.props,instance:this.state.streetViewPanorama}))},e.prototype.componentWillUnmount=function(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ie(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={streetViewService:null},n.setStreetViewServiceCallback=function(){n.state.streetViewService!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewService)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:n}},this.setStreetViewServiceCallback)},e.prototype.componentWillUnmount=function(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},e.prototype.render=function(){return null},e.contextType=we,e})(h.PureComponent);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={directionsService:null},n.setDirectionsServiceCallback=function(){n.state.directionsService!==null&&n.props.onLoad&&n.props.onLoad(n.state.directionsService)},n}return e.prototype.componentDidMount=function(){at(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var n=new google.maps.DirectionsService;this.setState(function(){return{directionsService:n}},this.setDirectionsServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.directionsService!==null&&this.state.directionsService.route(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.directionsService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},e.prototype.render=function(){return null},e})(h.PureComponent);var c0={onDirectionsChanged:"directions_changed"},d0={directions:function(t,e){t.setDirections(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},panel:function(t,e){t.setPanel(e)},routeIndex:function(t,e){t.setRouteIndex(e)}};(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={directionsRenderer:null},n.setDirectionsRendererCallback=function(){n.state.directionsRenderer!==null&&(n.state.directionsRenderer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.directionsRenderer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Ce({updaterMap:d0,eventMap:c0,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{directionsRenderer:n}},this.setDirectionsRendererCallback)},e.prototype.componentDidUpdate=function(n){this.state.directionsRenderer!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:d0,eventMap:c0,prevProps:n,nextProps:this.props,instance:this.state.directionsRenderer}))},e.prototype.componentWillUnmount=function(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ie(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},e.prototype.render=function(){return d.jsx(d.Fragment,{})},e.contextType=we,e})(h.PureComponent);(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={distanceMatrixService:null},n.setDistanceMatrixServiceCallback=function(){n.state.distanceMatrixService!==null&&n.props.onLoad&&n.props.onLoad(n.state.distanceMatrixService)},n}return e.prototype.componentDidMount=function(){at(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var n=new google.maps.DistanceMatrixService;this.setState(function(){return{distanceMatrixService:n}},this.setDistanceMatrixServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.distanceMatrixService!==null&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.distanceMatrixService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},e.prototype.render=function(){return null},e})(h.PureComponent);var h0={onPlacesChanged:"places_changed"},f0={bounds:function(t,e){t.setBounds(e)}};(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=h.createRef(),n.state={searchBox:null},n.setSearchBoxCallback=function(){n.state.searchBox!==null&&n.props.onLoad&&n.props.onLoad(n.state.searchBox)},n}return e.prototype.componentDidMount=function(){if(at(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var n=this.containerElement.current.querySelector("input");if(n!==null){var r=new google.maps.places.SearchBox(n,this.props.options);this.registeredEvents=Ce({updaterMap:f0,eventMap:h0,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}},e.prototype.componentDidUpdate=function(n){this.state.searchBox!==null&&(Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:f0,eventMap:h0,prevProps:n,nextProps:this.props,instance:this.state.searchBox}))},e.prototype.componentWillUnmount=function(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ie(this.registeredEvents))},e.prototype.render=function(){return d.jsx("div",{ref:this.containerElement,children:h.Children.only(this.props.children)})},e.contextType=we,e})(h.PureComponent);var p0={onPlaceChanged:"place_changed"},g0={bounds:function(t,e){t.setBounds(e)},restrictions:function(t,e){t.setComponentRestrictions(e)},fields:function(t,e){t.setFields(e)},options:function(t,e){t.setOptions(e)},types:function(t,e){t.setTypes(e)}};(function(t){ze(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=h.createRef(),n.state={autocomplete:null},n.setAutocompleteCallback=function(){n.state.autocomplete!==null&&n.props.onLoad&&n.props.onLoad(n.state.autocomplete)},n}return e.prototype.componentDidMount=function(){var n;at(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(n=this.containerElement.current)===null||n===void 0?void 0:n.querySelector("input");if(r){var i=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=Ce({updaterMap:g0,eventMap:p0,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{autocomplete:i}},this.setAutocompleteCallback)}},e.prototype.componentDidUpdate=function(n){Ie(this.registeredEvents),this.registeredEvents=Ce({updaterMap:g0,eventMap:p0,prevProps:n,nextProps:this.props,instance:this.state.autocomplete})},e.prototype.componentWillUnmount=function(){this.state.autocomplete!==null&&Ie(this.registeredEvents)},e.prototype.render=function(){return d.jsx("div",{ref:this.containerElement,className:this.props.className,children:h.Children.only(this.props.children)})},e.defaultProps={className:""},e.contextType=we,e})(h.PureComponent);const wC=({rating:t,setRating:e})=>{const n=r=>{e(r)};return d.jsx("div",{className:"star-rating",children:[1,2,3,4,5].map(r=>d.jsx("button",{type:"button",onClick:()=>n(r),className:r<=t?"text-yellow-500":"text-gray-300",children:"★"},r))})},WM="AIzaSyC5dzGT4q82H8A0X63jToYoYKu_vuo3F6I",HM=(t,e)=>({origin:t,destination:e,travelMode:window.google.maps.TravelMode.DRIVING}),m0={width:"100%",height:"300px"},qM=()=>{const[t,e]=h.useState([]),[n,r]=h.useState([]),[i,s]=h.useState([]),[o,a]=h.useState([]),[u,c]=h.useState(!0),[f,g]=h.useState(null),[m,_]=h.useState(null);h.useState(5);const[L,k]=h.useState(!1),[A,I]=h.useState(null),[x,E]=h.useState(null),[P,D]=h.useState({bookingId:null,action:null});h.useState(!1);const[M,w]=h.useState(null),[y,S]=h.useState({}),[C,R]=h.useState({}),[N,b]=h.useState(!1),{isLoaded:K}=zN({googleMapsApiKey:WM});h.useEffect(()=>{const V=async le=>{try{const de=vn(sn(Be,"Bookings"),Xe("workerId","==",le),Xe("status","==","pending")),ie=vn(sn(Be,"Bookings"),Xe("workerId","==",le),Xe("status","==","accepted")),Se=vn(sn(Be,"Bookings"),Xe("workerId","==",le),Xe("status","==","completed")),De=vn(sn(Be,"Bookings"),Xe("workerId","==",le),Xe("status","==","done")),[$e,Ue,Oe,ve]=await Promise.all([$r(de),$r(ie),$r(Se),$r(De)]),Je=async Me=>{try{const ut=bt(Be,"customers",Me),ge=await Zi(ut);return ge.exists()?ge.data():null}catch(ut){return console.error("Error fetching customer details:",ut),null}},he=async Me=>{const ut=Me.data(),ge=await Je(ut.customerId),Dn=ut.taskLocation||{},pi=ut.workerLocation||{};return{id:Me.id,...ut,customerName:ge?ge.name:"Unknown",customerAddress:ge&&ge.address?typeof ge.address=="object"?`${ge.address.cityOrTaluka||""}${ge.address.streetOrVillage?", "+ge.address.streetOrVillage:""}${ge.address.district?", "+ge.address.district:""}`:ge.address:"Unknown",latitude:Dn.latitude||null,longitude:Dn.longitude||null,workerLat:pi.latitude||null,workerLng:pi.longitude||null,customerRating:ut.rating||"No rating given"}},lt=await Promise.all($e.docs.map(he)),se=await Promise.all(Ue.docs.map(he)),Rt=await Promise.all(Oe.docs.map(he)),Ye=await Promise.all(ve.docs.map(he));e(lt),r(se),a(Ye),s(Rt),c(!1)}catch(de){g(de.message),c(!1),console.error("Error fetching bookings:",de)}},re=un.onAuthStateChanged(le=>{le?(_(le.uid),V(le.uid)):(_(null),e([]),r([]),a([]),s([]),c(!1))});return()=>re()},[]);const X=async(V,re)=>{try{const le=bt(Be,"Bookings",V);if(await Ha(le,{status:re}),re==="accepted"){e(ie=>ie.filter(Se=>Se.id!==V));const de=t.find(ie=>ie.id===V);r(ie=>[...ie,{...de,status:"accepted"}])}else if(re==="declined")e(de=>de.filter(ie=>ie.id!==V));else if(re==="done"){r(ie=>ie.filter(Se=>Se.id!==V));const de=n.find(ie=>ie.id===V);a(ie=>[...ie,{...de,status:"done"}])}else if(re==="completed"){a(ie=>ie.filter(Se=>Se.id!==V));const de=o.find(ie=>ie.id===V);s(ie=>[...ie,{...de,status:"completed"}])}}catch(le){console.error("Error updating booking status:",le),g(`Error: ${le.message}`)}},ee=(V,re)=>{D({bookingId:V,action:re})},G=()=>{X(P.bookingId,P.action),D({bookingId:null,action:null})},F=()=>{D({bookingId:null,action:null})},q=V=>{E(V)},H=V=>{X(V,"done"),E(null)},Q=()=>{E(null)},ne=()=>{A&&(X(A,"completed"),k(!1),I(null))},ue=()=>{k(!1),I(null)},_e=async V=>{w(V);const re=new window.google.maps.DirectionsService,le={lat:V.workerLat,lng:V.workerLng},de={lat:V.latitude,lng:V.longitude},ie=await re.route(HM(le,de));setDirectionsResponse(ie)},Ee=(V,re)=>K&&V&&re?d.jsx(Sy,{mapContainerStyle:m0,center:{lat:V,lng:re},zoom:12,children:d.jsx(KN,{position:{lat:V,lng:re}})}):d.jsx("p",{children:"Loading map..."}),U=V=>{S(re=>({...re,[V]:!re[V]}))};if(u)return d.jsx("p",{children:"Loading..."});if(f)return d.jsxs("p",{children:["Error: ",f]});const xe=async V=>{const le=Mc().currentUser;if(le?(console.log("Authenticated user ID:",le.uid),console.log("Authenticated user email:",le.email),console.log("Booking ID:",V)):console.log("No user is authenticated"),window.confirm("Confirm that you have received the payment?")){b(!0);try{const ie=bt(Be,"bookings",V);await Ha(ie,{paymentStatus:"received"}),alert("Payment status updated to 'received'.")}catch(ie){console.error("Error updating payment status:",ie),alert("Failed to update payment status. Please check your permissions.")}}},Ve=(V,re)=>{const{value:le}=V.target;R(de=>({...de,[re]:le}))},ae=async V=>{const re=C[V];if(re)try{await firebase.firestore().collection("bookings").doc(V).update({charges:re}),alert("Charges saved successfully!")}catch(le){console.error("Error saving charges:",le),alert("Failed to save charges. Please try again.")}else alert("Please enter a valid amount.")};return d.jsxs("div",{className:"p-8 bg-white shadow-md rounded-md font-mono",children:[d.jsx("h2",{className:"text-2xl font-mono font-bold mb-6 text-center text-white bg-gradient-to-r to-amber-900 from-blue-700 rounded-lg",children:"Pending Bookings"}),t.length===0?d.jsx("p",{children:"No pending bookings."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10",children:t.map(V=>d.jsxs("div",{className:"bg-yellow-100 p-4 rounded-lg hover:bg-yellow-200 shadow-lg shadow-orange-950 transition transform hover:scale-105",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Customer Name:"})," ",V.customerName]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Customer Address:"})," ",V.customerAddress]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Date:"})," ",V.date]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Time:"})," ",V.time]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Message:"})," ",V.message]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Status:"})," ",V.status]}),d.jsx("button",{onClick:()=>U(V.id),className:"bg-blue-500 text-white rounded px-4 py-2 mt-2",children:y[V.id]?"Hide Map":"Show Map"}),y[V.id]&&Ee(V.latitude,V.longitude),d.jsx("div",{className:"mt-4",children:P.bookingId===V.id&&P.action?d.jsxs("div",{children:[d.jsxs("p",{className:"mb-2",children:["Are you sure you want to ",P.action," this booking?"]}),d.jsx("button",{onClick:G,className:"bg-green-500 text-white rounded px-4 py-2 mt-2 hover:bg-green-700 mr-2",children:"Confirm"}),d.jsx("button",{onClick:F,className:"bg-red-500 text-white rounded px-4 py-2 mt-2 hover:bg-red-700",children:"Cancel"})]}):d.jsxs("div",{children:[d.jsx("button",{onClick:()=>ee(V.id,"accepted"),className:"bg-green-500 text-white rounded px-4 py-2 mt-2 hover:bg-green-700",children:"Accept"}),d.jsx("button",{onClick:()=>ee(V.id,"declined"),className:"bg-red-500 text-white rounded px-4 py-2 mt-2 hover:bg-red-700",children:"Decline"})]})})]},V.id))}),d.jsx("h2",{className:"text-2xl font-mono font-bold mb-6 text-center text-white bg-gradient-to-r to-amber-900 from-blue-700 rounded-lg",children:"Accepted Bookings"}),n.length===0?d.jsx("p",{children:"No accepted bookings."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10",children:n.map(V=>d.jsxs("div",{className:"bg-yellow-100 p-4 rounded-lg hover:bg-yellow-200 shadow-lg shadow-orange-950 transition transform hover:scale-105",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Customer Name:"})," ",V.customerName]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Customer Address:"})," ",V.customerAddress]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Date:"})," ",V.date]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Time:"})," ",V.time]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Message:"})," ",V.message]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Status:"})," ",V.status]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{htmlFor:"charges",className:"block font-bold",children:"Total Charges:"}),d.jsx("input",{type:"number",id:`charges-${V.id}`,className:"w-full border border-gray-300 p-2 rounded",value:V.charges||"",onChange:re=>Ve(re,V.id),placeholder:"Enter total charges"}),d.jsx("button",{onClick:()=>ae(V.id),className:"bg-green-500 text-white rounded px-4 py-2 mt-2",children:"Save Charges"})]}),d.jsx("button",{onClick:()=>U(V.id),className:"bg-blue-500 text-white rounded px-4 py-2 mt-2",children:y[V.id]?"Hide Map":"Show Map"}),y[V.id]&&Ee(V.latitude,V.longitude),d.jsx("button",{onClick:()=>_e(V),className:"bg-green-500 text-white rounded px-4 py-2 mt-2",children:"Show Directions"}),(M==null?void 0:M.id)===V.id&&directionsResponse&&d.jsx(Sy,{mapContainerStyle:m0,center:{lat:V.latitude,lng:V.longitude},zoom:12,children:d.jsx(DirectionsRenderer,{directions:directionsResponse})}),d.jsx("div",{className:"mt-4",children:x===V.id?d.jsxs("div",{children:[d.jsx("button",{onClick:()=>H(V.id),className:"bg-green-500 text-white rounded px-4 py-2 mr-2",children:"Confirm"}),d.jsx("button",{onClick:Q,className:"bg-red-500 text-white rounded px-4 py-2",children:"Cancel"})]}):d.jsx("button",{onClick:()=>q(V.id),className:"bg-yellow-500 text-white rounded px-4 py-2 mt-2",children:"Mark as Completed"})})]},V.id))}),d.jsx("h2",{className:"text-2xl font-mono font-bold mb-6 text-center text-white bg-gradient-to-r to-amber-900 from-blue-700 rounded-lg",children:"Work Done"}),o.length===0?d.jsx("p",{children:"No done bookings."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10",children:o.map(V=>d.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow-lg shadow-orange-950",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Customer Name:"})," ",V.customerName]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Customer Address:"})," ",V.customerAddress]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Date:"})," ",V.date]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Time:"})," ",V.time]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Message:"})," ",V.message]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Status:"})," ",V.status]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Rating:"})," ",V.customerRating]})]},V.id))}),d.jsx("h2",{className:"text-2xl font-mono font-bold mb-6 text-center text-white bg-gradient-to-r to-amber-900 from-blue-700 rounded-lg shadow-lg shadow-black",children:"Worker Completed Bookings"}),i.length===0?d.jsx("p",{children:"No completed bookings yet."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10",children:i.map(V=>d.jsxs("div",{className:"bg-gray-300 p-4 rounded-lg shadow-md shadow-orange-950",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Customer Name:"})," ",V.customerName]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Customer Address:"})," ",V.customerAddress]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Date:"})," ",V.date]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Time:"})," ",V.time]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Time:"})," ",V.message]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Status:"})," ",V.status]}),d.jsx("p",{children:d.jsx("strong",{children:"Rating:"})}),V.rating?d.jsx(wC,{rating:V.rating,readOnly:!0}):d.jsx("p",{children:"No Rating yet !!"}),V.paymentStatus==="done"&&d.jsx("button",{onClick:()=>xe(V.id),className:"bg-blue-500 text-white rounded px-4 py-2 mt-4",children:"Payment Received"}),V.paymentStatus==="received"&&d.jsx("p",{className:"text-green-600",children:"Payment Received Confirmed"})]},V.id))}),L&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-bold",children:"Confirm Completion"}),d.jsx("p",{children:"Are you sure you want to mark this booking as completed?"}),d.jsxs("div",{className:"mt-4",children:[d.jsx("button",{onClick:ne,className:"bg-green-500 text-white rounded px-4 py-2",children:"Confirm"}),d.jsx("button",{onClick:ue,className:"bg-red-500 text-white rounded px-4 py-2 ml-2",children:"Cancel"})]})]})})]})},GM=()=>{const[t,e]=h.useState(null),[n,r]=h.useState(!0);return h.useEffect(()=>{const i=async o=>{try{const a=await Zi(bt(Be,"customers",o)),u=await Zi(bt(Be,"Workers",o));return a.exists()?a.data().role:u.exists()?u.data().role:(console.error("No role found for the user."),null)}catch(a){return console.error("Error fetching user role:",a),null}},s=Tp(un,async o=>{if(o){const a=await i(o.uid);e(a)}else e(null);r(!1)});return()=>s()},[]),n?d.jsx("div",{children:"Loading..."}):t?d.jsxs("div",{children:[t==="customer"&&d.jsxs(d.Fragment,{children:[d.jsx(dN,{}),d.jsx(Ey,{}),d.jsx(aC,{}),d.jsx(CN,{})]}),t==="worker"&&d.jsxs(d.Fragment,{children:[d.jsx(lC,{}),d.jsx(Ey,{}),d.jsx(qM,{}),d.jsx(SN,{})]})]}):d.jsx("a",{className:"text-4xl justify-center text-center font-mono",href:"/login",children:d.jsx("div",{children:"Please log in to continue."})})},KM=()=>{const[t,e]=h.useState(""),[n,r]=h.useState(""),[i,s]=h.useState(""),[o,a]=h.useState(""),[u,c]=h.useState(""),[f,g]=h.useState(""),[m,_]=h.useState(null),[L,k]=h.useState(null),A=Xa(),I=async()=>{const E=new Ip;try{const D=(await mb(un,E)).user;e(D.email)}catch(P){_(P.message),console.error("Error signing in with Google:",P)}},x=async E=>{E.preventDefault(),_(null),k(null);try{const D=(await _E(un,t,n)).user,M={name:i,email:t,address:{streetOrVillage:o.toLowerCase(),cityOrTaluka:u.toLowerCase(),district:f.toLowerCase()},role:"customer"};await uc(bt(Be,"customers",D.uid),M),k("Customer account created successfully!"),A("/")}catch(P){_(P.message),console.error("Error creating customer account:",P)}};return d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-indigo-100 via-white to-blue-100",children:d.jsxs("form",{className:"bg-white shadow-lg rounded-xl px-10 pt-8 pb-6 mb-4 w-full max-w-md transform transition-all duration-500 hover:shadow-2xl hover:scale-105",onSubmit:x,children:[d.jsx("h2",{className:"text-3xl font-extrabold font-mono text-center text-black mb-8",children:"Customer Sign Up"}),m&&d.jsx("p",{className:"text-red-500 text-center mb-4",children:m}),L&&d.jsx("p",{className:"text-green-500 text-center mb-4",children:L}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"name",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Name:"}),d.jsx("input",{type:"text",name:"name",onChange:E=>s(E.target.value),className:"w-full px-4 py-2 border rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400 focus:outline-none",placeholder:"Enter your name",required:!0})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Email:"}),d.jsx("input",{type:"email",name:"email",autoComplete:"email",onChange:E=>e(E.target.value),value:t,className:"w-full px-4 py-2 border rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400 focus:outline-none",placeholder:"Enter your email",required:!0})]}),d.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Or select your Google email below"}),d.jsx("button",{type:"button",onClick:I,className:"w-full bg-indigo-500 hover:bg-indigo-600 text-white py-2 rounded-lg font-semibold mb-6 transition duration-300",children:"Sign in with Google"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"streetOrVillage",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Street or Village:"}),d.jsx("input",{type:"text",name:"streetOrVillage",onChange:E=>a(E.target.value),className:"w-full px-4 py-2 border rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400 focus:outline-none",placeholder:"Enter your street or village",required:!0})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"cityOrTaluka",className:"block text-gray-700 text-sm font-semibold mb-2",children:"City or Taluka:"}),d.jsx("input",{type:"text",name:"cityOrTaluka",onChange:E=>c(E.target.value),className:"w-full px-4 py-2 border rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400 focus:outline-none",placeholder:"Enter your city or taluka",required:!0})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"district",className:"block text-gray-700 text-sm font-semibold mb-2",children:"District:"}),d.jsx("input",{type:"text",name:"district",onChange:E=>g(E.target.value),className:"w-full px-4 py-2 border rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400 focus:outline-none",placeholder:"Enter your district",required:!0})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Password:"}),d.jsx("input",{type:"password",name:"password",onChange:E=>r(E.target.value),className:"w-full px-4 py-2 border rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400 focus:outline-none",placeholder:"Enter your password",required:!0})]}),d.jsx("button",{type:"submit",className:"w-full bg-indigo-500 hover:bg-indigo-600 text-white py-3 rounded-lg font-semibold transition duration-300",children:"Sign Up"}),d.jsxs("p",{className:"mt-4 text-center text-gray-600 text-sm",children:["Already registered?",d.jsx(hp,{to:"/login",className:"ml-1 font-semibold text-indigo-500 hover:text-indigo-700 transition duration-300",children:"Login"})]})]})})},QM=()=>{const[t,e]=h.useState(""),[n,r]=h.useState(""),[i,s]=h.useState(null),[o,a]=h.useState(null),[u,c]=h.useState(""),[f,g]=h.useState(!1),[m,_]=h.useState(!1),L=Xa(),k=async x=>{x.preventDefault(),s(null),a(null);try{const P=(await qL(un,t,n)).user;a("Login successful!"),L("/")}catch(E){s(E.message),console.error("Error signing in:",E)}},A=async x=>{x.preventDefault(),s(null),a(null);try{await HL(un,u),a("Password reset email sent!"),_(!1)}catch(E){s(E.message),console.error("Error sending password reset email:",E)}},I=()=>{_(!m),g(!1)};return d.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-200",children:[d.jsxs("form",{className:"bg-white shadow-md rounded-lg px-14 pt-6 pb-8 mb-4 w-full max-w-sm",onSubmit:k,children:[d.jsx("h2",{className:"text-3xl font-bold mb-6 text-center font-mono",children:"Login"}),i&&d.jsx("p",{className:"text-red-500 text-center",children:i}),o&&d.jsx("p",{className:"text-green-500 text-center",children:o}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-bold mb-2",children:"Email:"}),d.jsx("input",{type:"email",name:"email",onChange:x=>e(x.target.value),className:"w-full px-3 py-2 border rounded border-gray-300",placeholder:"Enter your email",required:!0})]}),!f&&d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-bold mb-2",children:"Password:"}),d.jsx("input",{type:"password",name:"password",onChange:x=>r(x.target.value),className:"w-full px-3 py-2 border rounded border-gray-300",placeholder:"Enter your password",required:!0})]}),d.jsx("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 text-white py-2 rounded",children:"Login"}),f?d.jsxs("p",{className:"mt-4 text-center text-sm",children:["Back to login?",d.jsx("span",{className:"ml-1 font-bold text-blue-500 cursor-pointer hover:text-blue-700",onClick:()=>g(!1),children:"Go back"})]}):d.jsxs("p",{className:"mt-4 text-center text-sm",children:["Forgot your password?",d.jsx("span",{className:"ml-1 font-bold text-blue-500 cursor-pointer hover:text-blue-700",onClick:I,children:"Reset it"})]}),d.jsxs("p",{className:"mt-4 text-center text-sm",children:["Don't have an account?",d.jsx(hp,{to:"/signupas",className:"ml-1 font-bold text-blue-500 hover:text-blue-700",children:"Sign Up"})]})]}),m&&d.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-sm",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Reset Password"}),i&&d.jsx("p",{className:"text-red-500 text-center",children:i}),o&&d.jsx("p",{className:"text-green-500 text-center",children:o}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"resetEmail",className:"block text-gray-700 text-sm font-bold mb-2",children:"Enter your email:"}),d.jsx("input",{type:"email",name:"resetEmail",onChange:x=>c(x.target.value),className:"w-full px-3 py-2 border rounded border-gray-300",placeholder:"Enter your email to reset password",required:!0})]}),d.jsx("button",{onClick:A,className:"w-full bg-blue-500 hover:bg-blue-700 text-white py-2 rounded",children:"Send Reset Email"}),d.jsx("button",{onClick:I,className:"mt-2 w-full bg-gray-500 hover:bg-gray-700 text-white py-2 rounded",children:"Close"})]})})]})},YM=()=>{const[t,e]=h.useState(""),[n,r]=h.useState(""),[i,s]=h.useState(""),[o,a]=h.useState(""),[u,c]=h.useState(""),[f,g]=h.useState(""),[m,_]=h.useState(""),[L,k]=h.useState(""),[A,I]=h.useState(""),[x,E]=h.useState([]),[P,D]=h.useState(null),[M,w]=h.useState(null),y=Xa(),S=async()=>{const N=new GoogleAuthProvider;try{const K=(await signInWithPopup(un,N)).user;e(K.email)}catch(b){D(b.message),console.error("Error signing in with Google:",b)}},C=async N=>{N.preventDefault(),D(null),w(null);try{const K=(await _E(un,t,n)).user,X={name:i,email:t,address:{streetAddress:o.toLowerCase(),city:u.toLowerCase(),district:f.toLowerCase()},phone:m,typeOfWork:L,charges:A,workingDays:x,role:"worker"};await uc(bt(Be,"Workers",K.uid),X),w("Worker's account created successfully!"),y("/")}catch(b){D(b.message),console.error("Error creating Worker's account:",b)}},R=N=>{const{value:b,checked:K}=N.target;E(K?[...x,b]:x.filter(X=>X!==b))};return d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-200",children:d.jsxs("form",{className:"bg-white shadow-md rounded-lg px-14 pt-6 pb-8 mb-4 w-full max-w-md mt-3",onSubmit:C,children:[d.jsx("h2",{className:"text-3xl font-bold mb-6 text-center font-mono",children:"Worker Sign Up"}),P&&d.jsx("p",{className:"text-red-500 text-center",children:P}),M&&d.jsx("p",{className:"text-green-500 text-center",children:M}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"name",className:"block text-gray-700 text-sm font-bold mb-2",children:"Name:"}),d.jsx("input",{type:"text",name:"name",onChange:N=>s(N.target.value),className:"w-full px-3 py-2 border rounded border-gray-300",placeholder:"Enter your name",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-bold mb-2",children:"Email:"}),d.jsx("input",{type:"email",name:"email",onChange:N=>e(N.target.value),className:"w-full px-3 py-2 border rounded border-gray-300",placeholder:"Enter your email",required:!0})]}),d.jsx("p",{children:"Just Select the email from your device "}),d.jsx("button",{type:"button",onClick:S,className:"w-full bg-blue-500 hover:bg-blue-700 text-white py-2 rounded mb-4",children:"Sign in with Google"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-bold mb-2",children:"Password:"}),d.jsx("input",{type:"password",name:"password",onChange:N=>r(N.target.value),className:"w-full px-3 py-2 border rounded border-gray-300",placeholder:"Enter your password",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"streetAddress",className:"block text-gray-700 text-sm font-bold mb-2",children:"Street Address:"}),d.jsx("input",{type:"text",name:"streetAddress",onChange:N=>a(N.target.value),className:"w-full px-3 py-2 border rounded border-gray-300",placeholder:"Enter your street address",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"city",className:"block text-gray-700 text-sm font-bold mb-2",children:"City:"}),d.jsx("input",{type:"text",name:"city",onChange:N=>c(N.target.value),className:"w-full px-3 py-2 border rounded border-gray-300",placeholder:"Enter your city",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"district",className:"block text-gray-700 text-sm font-bold mb-2",children:"District:"}),d.jsx("input",{type:"text",name:"district",onChange:N=>g(N.target.value),className:"w-full px-3 py-2 border rounded border-gray-300",placeholder:"Enter your district",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"typeOfWork",className:"block text-gray-700 text-sm font-bold mb-2",children:"Type of Work:"}),d.jsxs("select",{name:"typeOfWork",onChange:N=>k(N.target.value),className:"w-full px-3 py-2 border rounded border-gray-300",required:!0,children:[d.jsx("option",{value:"",disabled:!0,selected:!0,children:"Select your type of work"}),d.jsx("option",{value:"electrician",children:"Electrician"}),d.jsx("option",{value:"plumber",children:"Plumber"}),d.jsx("option",{value:"mechanic",children:"Mechanic"}),d.jsx("option",{value:"carpenter",children:"Carpenter"}),d.jsx("option",{value:"chef",children:"Chef"}),d.jsx("option",{value:"maid",children:"Maid"}),d.jsx("option",{value:"guard",children:"Guard"}),d.jsx("option",{value:"mason",children:"Mason"}),d.jsx("option",{value:"coder",children:"Coder"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"phone",className:"block text-gray-700 text-sm font-bold mb-2",children:"Phone Number:"}),d.jsx("input",{type:"tel",name:"phone",onChange:N=>_(N.target.value),className:"w-full px-3 py-2 border rounded border-gray-300",placeholder:"Enter your Phone Number",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"charges",className:"block text-gray-700 text-sm font-bold mb-2",children:"Charges per Hour:"}),d.jsx("input",{type:"number",name:"charges",onChange:N=>I(N.target.value),className:"w-full px-3 py-2 border rounded border-gray-300",placeholder:"Enter your charges per hour",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Working Days:"}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsxs("label",{className:"inline-flex items-center",children:[d.jsx("input",{type:"checkbox",value:"Monday",onChange:R}),d.jsx("span",{className:"ml-2",children:"Monday"})]}),d.jsxs("label",{className:"inline-flex items-center",children:[d.jsx("input",{type:"checkbox",value:"Tuesday",onChange:R}),d.jsx("span",{className:"ml-2",children:"Tuesday"})]}),d.jsxs("label",{className:"inline-flex items-center",children:[d.jsx("input",{type:"checkbox",value:"Wednesday",onChange:R}),d.jsx("span",{className:"ml-2",children:"Wednesday"})]}),d.jsxs("label",{className:"inline-flex items-center",children:[d.jsx("input",{type:"checkbox",value:"Thursday",onChange:R}),d.jsx("span",{className:"ml-2",children:"Thursday"})]}),d.jsxs("label",{className:"inline-flex items-center",children:[d.jsx("input",{type:"checkbox",value:"Friday",onChange:R}),d.jsx("span",{className:"ml-2",children:"Friday"})]}),d.jsxs("label",{className:"inline-flex items-center",children:[d.jsx("input",{type:"checkbox",value:"Saturday",onChange:R}),d.jsx("span",{className:"ml-2",children:"Saturday"})]}),d.jsxs("label",{className:"inline-flex items-center",children:[d.jsx("input",{type:"checkbox",value:"Sunday",onChange:R}),d.jsx("span",{className:"ml-2",children:"Sunday"})]})]})]}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring focus:ring-blue-300 transition duration-200",children:"Sign Up"})}),d.jsxs("p",{className:"mt-4 text-center text-sm text-gray-500",children:["Already have an account? ",d.jsx(hp,{to:"/login",className:"text-blue-500",children:"Login here"}),"."]})]})})},ZM=()=>{const[t,e]=h.useState([]),[n,r]=h.useState([]),[i,s]=h.useState([]),[o,a]=h.useState([]),[u,c]=h.useState([]),[f,g]=h.useState(!0),[m,_]=h.useState(null),[L,k]=h.useState(5),[A,I]=h.useState("");h.useState(!1),h.useEffect(()=>{const P=async w=>{try{const y=bt(Be,"Workers",w),S=await Zi(y);if(S.exists()){const C=S.data(),{name:R,typeOfWork:N,phone:b}=C;return{name:R,typeOfWork:N,phone:b}}else return console.log("No such worker!"),{name:"Unknown Worker",typeOfWork:"Unknown Work"}}catch(y){return console.error("Error fetching worker details:",y),{name:"Unknown Worker",typeOfWork:"Unknown Work"}}},D=async w=>{try{const y={accepted:vn(sn(Be,"Bookings"),Xe("customerId","==",w),Xe("status","==","accepted")),done:vn(sn(Be,"Bookings"),Xe("customerId","==",w),Xe("status","==","done")),completed:vn(sn(Be,"Bookings"),Xe("customerId","==",w),Xe("status","==","completed")),pending:vn(sn(Be,"Bookings"),Xe("customerId","==",w),Xe("status","==","pending")),declined:vn(sn(Be,"Bookings"),Xe("customerId","==",w),Xe("status","==","declined"))},S=await Promise.all(Object.values(y).map(ee=>$r(ee))),C=async ee=>{const G=ee.data(),F=await P(G.workerId);return{id:ee.id,...G,workerDetails:F}},[R,N,b,K,X]=await Promise.all(S.map(ee=>Promise.all(ee.docs.map(C))));e(R),r(N),s(b),a(K),c(X),g(!1)}catch(y){_(y.message),g(!1),console.error("Error fetching bookings:",y)}},M=un.onAuthStateChanged(w=>{w?D(w.uid):(e([]),r([]),s([]),a([]),c([]),g(!1))});return()=>M()},[]);const x=async P=>{try{const D=bt(Be,"Bookings",P);await Ha(D,{paymentStatus:"done"}),a(M=>M.filter(w=>w.id!==P)),alert("Payment marked as done!")}catch(D){console.error("Error marking payment as done:",D),alert("There was an error marking the payment as done. Please try again.")}},E=async P=>{try{const D=bt(Be,"Bookings",P);await Ha(D,{rating:L,review:A,status:"completed"}),r(w=>w.filter(y=>y.id!==P));const M=n.find(w=>w.id===P);s(w=>[...w,{...M,rating:L,review:A,status:"completed"}]),alert("Review and rating submitted, and booking marked as completed!")}catch(D){console.error("Error submitting review and updating booking status:",D)}};return f?d.jsx("p",{children:"Loading..."}):m?d.jsxs("p",{children:["Error: ",m]}):d.jsxs("div",{className:"p-8 bg-white shadow-md rounded-md font-mono",children:[d.jsx("h2",{className:"text-2xl font-mono font-bold mb-6 text-center text-white bg-gradient-to-r to-amber-900 from-blue-700 rounded-lg shadow-lg shadow-black",children:"Pending Bookings"}),o.length===0?d.jsx("p",{children:"No pending bookings."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10",children:o.map(P=>{var D;return d.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow-md shadow-orange-950",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Worker Name:"})," ",P.workerDetails.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"TypeofWork:"})," ",((D=P.workerDetails)==null?void 0:D.typeOfWork)||"Unknown Work"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Phone Number:"})," ",P.workerDetails.phone]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Booking Status:"})," ",P.status]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Date:"})," ",P.date]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Time:"})," ",P.time]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Message:"})," ",P.message]})]},P.id)})}),d.jsx("h2",{className:"text-2xl font-mono font-bold mb-6 text-center text-white bg-gradient-to-r to-amber-900 from-blue-700 rounded-lg shadow-lg shadow-black",children:"Declined Bookings"}),u.length===0?d.jsx("p",{children:"No declined bookings."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10",children:u.map(P=>{var D;return d.jsxs("div",{className:"bg-red-100 p-4 rounded-lg shadow-md shadow-orange-950",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Worker Name:"})," ",P.workerDetails.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"TypeofWork:"})," ",((D=P.workerDetails)==null?void 0:D.typeOfWork)||"Unknown Work"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Phone Number:"})," ",P.workerDetails.phone]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Booking Status:"})," ",P.status]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Date:"})," ",P.date]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Time:"})," ",P.time]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Message:"})," ",P.message]})]},P.id)})}),d.jsx("h2",{className:"text-2xl font-mono font-bold mb-6 text-center text-white bg-gradient-to-r to-amber-900 from-blue-700 rounded-lg shadow-lg shadow-black",children:"Accepted Bookings"}),t.length===0?d.jsx("p",{children:"No accepted bookings."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10",children:t.map(P=>{var D;return d.jsxs("div",{className:"bg-green-100 p-4 rounded-lg shadow-md shadow-orange-950",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Worker Name:"})," ",P.workerDetails.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"TypeofWork:"})," ",((D=P.workerDetails)==null?void 0:D.typeOfWork)||"Unknown Work"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Phone Number:"})," ",P.workerDetails.phone]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Booking Status:"})," ",P.status]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Date:"})," ",P.date]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Time:"})," ",P.time]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Message:"})," ",P.message]})]},P.id)})}),d.jsx("h2",{className:"text-2xl font-mono font-bold mb-6 text-center text-white bg-gradient-to-r to-amber-900 from-blue-700 rounded-lg shadow-lg shadow-black",children:"Done Bookings"}),n.length===0?d.jsx("p",{children:"No bookings marked as done."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10",children:n.map(P=>{var D;return d.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg shadow-md shadow-orange-950",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Worker Name:"})," ",P.workerDetails.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"TypeofWork:"})," ",((D=P.workerDetails)==null?void 0:D.typeOfWork)||"Unknown Work"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Phone Number:"})," ",P.workerDetails.phone]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Booking Status:"})," ",P.status]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Date:"})," ",P.date]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Time:"})," ",P.time]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Message:"})," ",P.message]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Total Charges:"})," ",P.charges]}),d.jsx(wC,{rating:L,setRating:k}),d.jsx("textarea",{className:"w-full p-2 border rounded mt-2",value:A,onChange:M=>I(M.target.value),placeholder:"Leave your review here"}),d.jsx("button",{onClick:()=>E(P.id),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-2",children:"Submit Review & Complete"})]},P.id)})}),d.jsx("h2",{className:"text-2xl font-mono font-bold mb-6 text-center text-white bg-gradient-to-r to-amber-900 from-blue-700 rounded-lg shadow-lg shadow-black",children:"Completed Bookings"}),i.length===0?d.jsx("p",{children:"No completed bookings yet."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10",children:i.map(P=>{var D;return d.jsxs("div",{className:"bg-gray-300 p-4 rounded-lg shadow-md shadow-orange-950",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Worker Name:"})," ",P.workerDetails.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"TypeofWork:"})," ",((D=P.workerDetails)==null?void 0:D.typeOfWork)||"Unknown Work"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Phone Number:"})," ",P.workerDetails.phone]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Booking Status:"})," ",P.status]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Date:"})," ",P.date]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Time:"})," ",P.time]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Message:"})," ",P.message]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Payment:"})," ",P.paymentStatus]}),P.paymentStatus==="pending"&&d.jsx("button",{onClick:()=>x(P.id),className:"bg-green-500 text-white rounded px-4 py-2 mt-4",children:"Mark Payment Done"}),P.paymentStatus==="done"&&d.jsx("p",{className:"text-green-600",children:"Payment Marked as Done"}),P.paymentStatus==="received"&&d.jsx("p",{className:"text-green-600",children:"Payment Received"})]},P.id)})})]})},JM=({customerId:t,workerId:e})=>{const[n,r]=h.useState(""),[i,s]=h.useState(""),[o,a]=h.useState(""),[u,c]=h.useState(null),[f,g]=h.useState(!0),[m,_]=h.useState({latitude:null,longitude:null}),[L,k]=h.useState({latitude:null,longitude:null}),[A,I]=h.useState({latitude:null,longitude:null}),[x,E]=h.useState(null),[P,D]=h.useState([]);h.useEffect(()=>{(async()=>{try{const C=bt(Be,"Workers",e),R=await Zi(C);if(R.exists()){const N=R.data();D(N.workingDays||[])}else E("Worker not found.")}catch(C){E(C.message)}})()},[e]),h.useEffect(()=>{n&&i&&M(n,i)},[n,i]),h.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(S=>{_({latitude:S.coords.latitude,longitude:S.coords.longitude})},S=>{E(S.message)}):E("Geolocation is not supported by this browser.")},[]),h.useEffect(()=>{(()=>{navigator.geolocation&&navigator.geolocation.watchPosition(async C=>{const R={latitude:C.coords.latitude,longitude:C.coords.longitude};I(R);const N=bt(Be,"Workers",e);await Ha(N,{location:R,timestamp:wy()})},C=>{E(C.message)})})()},[e]);const M=async(S,C)=>{try{const R=vn(sn(Be,"Bookings"),Xe("workerId","==",e),Xe("date","==",S),Xe("time","==",C)),N=await $r(R);g(N.empty)}catch(R){console.error("Error checking slot availability:",R),g(!1)}},w=async S=>{if(S.preventDefault(),!f){c("This slot is already booked. Please choose another.");return}const C=L.latitude&&L.longitude?L:m;try{await aN(sn(Be,"Bookings"),{customerId:t,workerId:e,date:n,time:i,message:o,status:"pending",taskLocation:C,workerLocation:A,timestamp:wy(),paymentStatus:"pending"}),c("Booking request sent successfully!"),r(""),s(""),a("")}catch(R){c(`Error: ${R.message}`)}},y=new Date().toISOString().split("T")[0];return d.jsxs("div",{className:"bg-gradient-to-b from-blue-100 to-purple-200 p-6 border-gray-600 border-4 rounded-xl shadow-xl max-w-lg mx-auto",children:[d.jsx("h3",{className:"text-2xl font-extrabold mb-6 text-blue-700",children:"Book a Slot"}),u&&d.jsx("p",{className:`text-sm ${u.includes("Error")?"text-red-500":"text-green-500"} mb-4`,children:u}),x&&d.jsx("p",{className:"text-red-500 text-sm mb-4",children:x}),d.jsxs("form",{onSubmit:w,className:"space-y-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"date",className:"block text-sm font-semibold text-gray-700",children:"Select Date"}),d.jsx("input",{type:"date",id:"date",value:n,onChange:S=>r(S.target.value),className:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm transition-transform transform hover:scale-105 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:border-blue-500",required:!0,min:y,disabled:!P.length,onInvalid:()=>c("Invalid date, please choose again."),pattern:P.join("|"),title:"Only select dates that match the worker's working days."})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"time",className:"block text-sm font-semibold text-gray-700",children:"Select Time"}),d.jsx("input",{type:"time",id:"time",value:i,onChange:S=>s(S.target.value),className:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm transition-transform transform hover:scale-105 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:border-blue-500",required:!0})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700",children:"Message (Optional)"}),d.jsx("textarea",{id:"message",value:o,onChange:S=>a(S.target.value),className:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm transition-transform transform hover:scale-105 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:border-blue-500",rows:"3"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{htmlFor:"taskLocation",className:"block text-sm font-semibold text-gray-700",children:"Task Location (Optional)"}),d.jsx("input",{type:"text",placeholder:"Latitude",value:L.latitude||"",onChange:S=>k({...L,latitude:S.target.value}),className:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm transition-transform transform hover:scale-105 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:border-blue-500"}),d.jsx("input",{type:"text",placeholder:"Longitude",value:L.longitude||"",onChange:S=>k({...L,longitude:S.target.value}),className:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm transition-transform transform hover:scale-105 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:border-blue-500"})]}),d.jsx("button",{type:"submit",className:"block w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-transform transform hover:scale-105 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:"Send Booking Request"})]})]})},XM=()=>{const{category:t}=BI(),[e,n]=h.useState([]),[r,i]=h.useState(!0),[s,o]=h.useState(null),[a,u]=h.useState(null),[c,f]=h.useState(null);if(h.useEffect(()=>{(async()=>{try{const _=vn(sn(Be,"Workers"),Xe("typeOfWork","==",t)),k=(await $r(_)).docs.map(A=>({id:A.id,...A.data()}));n(k),i(!1)}catch(_){o(_.message),i(!1)}})()},[t]),h.useEffect(()=>{(()=>{const L=Mc().currentUser;L&&f(L.uid)})()},[]),r)return d.jsx("p",{children:"Loading..."});if(s)return d.jsxs("p",{children:["Error: ",s]});const g=m=>{u(a===m?null:m)};return d.jsxs("div",{className:"p-8 bg-gray-100 min-h-screen font-mono",children:[d.jsxs("h2",{className:"text-3xl font-extrabold mb-8 text-gray-600",children:[t.charAt(0).toUpperCase()+t.slice(1),"s Available"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(m=>{const _=m.address&&typeof m.address=="object"?`${m.address.streetAddress||""}${m.address.city?", "+m.address.city:""}${m.address.district?", "+m.address.district:""}`:m.address||"Address not available";return d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg transition transform hover:scale-105 hover:shadow-gray-600 hover:bg-blue-50",style:{transition:"transform 0.3s, box-shadow 0.3s, background-color 0.3s"},children:[d.jsx("p",{className:"font-semibold text-lg text-gray-800",children:m.name}),d.jsxs("p",{className:"text-sm text-black",children:["Type of Work: ",m.typeOfWork]}),d.jsxs("p",{className:"text-sm text-black",children:["Address: ",_]}),d.jsxs("p",{className:"text-sm text-black",children:["Email: ",m.email]}),d.jsxs("p",{className:"text-sm text-black",children:["Charges: ",m.charges]}),d.jsx("button",{className:`mt-4 py-2 px-4 rounded-lg ${m.availability?"bg-green-600 hover:bg-purple-600 text-white":"bg-gray-500 cursor-not-allowed"}`,onClick:()=>g(m.id),disabled:!m.availability,children:a===m.id?"Hide Booking":"Book Now"}),a===m.id&&m.name&&c&&d.jsx("div",{className:"mt-4",children:d.jsx(JM,{customerId:c,workerId:m.id,workerName:m.name})})]},m.id)})})]})},e2=()=>d.jsxs("div",{className:"container mx-auto p-6 space-y-8 bg",children:[d.jsxs("div",{className:"bg-purple-200 shadow-lg rounded-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"About Us"}),d.jsx("p",{className:"text-gray-700 text-lg",children:"Welcome to Helpnet, where we believe in the power of connection. Our mission is to bridge the gap between those in need and skilled local workers who can provide solutions. At Helpnet, we understand that finding the right help should be easy, fast, and reliable—so we’ve made it our goal to create a platform that brings people together, right when they need it most."})]}),d.jsxs("div",{className:"bg-purple-200 shadow-lg rounded-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Our Mission"}),d.jsx("p",{className:"text-gray-700 text-lg",children:"We aim to empower individuals by providing them with a platform that connects them with trusted professionals in their area. Our mission is to simplify the process of finding help, ensuring that every request is met with quality service. We believe in the strength of local communities, and through Helpnet, we’re fostering connections that make a difference."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-purple-200 shadow-lg rounded-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Why Choose Helpnet?"}),d.jsxs("ul",{className:"list-disc list-inside text-gray-700 text-lg",children:[d.jsx("li",{children:"Reliable Connections: We vet our professionals to ensure that you’re connected with trustworthy, skilled workers."}),d.jsx("li",{children:"User-Friendly Platform: Our intuitive interface makes it easy to find, book, and manage services."}),d.jsx("li",{children:"Community-Driven: We’re focused on building strong local communities by connecting people with the resources they need."})]})]}),d.jsxs("div",{className:"bg-purple-200 shadow-lg rounded-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Join the Helpnet Community"}),d.jsx("p",{className:"text-gray-700 text-lg",children:"We invite you to become part of the Helpnet community—whether you’re looking for help or offering your skills. Together, we can build a network that supports and uplifts everyone. Sign up today and discover how Helpnet can make your life easier."})]})]})]}),t2=()=>d.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[d.jsxs("div",{className:"bg-lime-300 shadow-lg rounded-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"How Helpnet Works"}),d.jsx("p",{className:"text-gray-700",children:"Helpnet is designed to make connecting with local professionals simple and efficient. Here’s how it works:"}),d.jsxs("ol",{className:"list-decimal list-inside text-gray-700 mt-4 space-y-2",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Sign Up:"})," Create a free account on Helpnet to get started."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Find a Professional:"})," Browse our network of skilled workers to find the right person for your needs."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Send a Request:"})," Contact the professional directly through the platform to discuss your requirements."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Booking Confirmation:"})," Once the professional accepts your request, your booking is confirmed."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Work Completed:"})," After the job is done, the professional will mark it as completed."]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-purple-200 shadow-lg rounded-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Need Help?"}),d.jsx("p",{className:"text-gray-700",children:"If you have any questions or need assistance, our support team is here to help. Whether you’re having trouble finding a professional or need help with your account, don’t hesitate to reach out."}),d.jsx("p",{className:"text-gray-700 mt-4",children:"You can contact us via email at [support email] or visit our FAQ section for quick answers to common questions."})]}),d.jsxs("div",{className:"bg-purple-200 shadow-lg rounded-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Becoming a Helpnet Professional"}),d.jsx("p",{className:"text-gray-700",children:"Are you a skilled worker looking to offer your services? Join the Helpnet community as a professional. By signing up, you’ll be able to connect with customers in your area who need your expertise."}),d.jsx("p",{className:"text-gray-700 mt-4",children:"To get started, create a professional profile on Helpnet and start receiving job requests from customers today!"})]})]}),d.jsxs("div",{className:"bg-gray-100 shadow-lg rounded-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Customer Care"}),d.jsx("p",{className:"text-gray-700 text-lg",children:"Our customer care team is dedicated to ensuring you have the best experience possible with Helpnet. If you need any assistance, please don't hesitate to reach out."}),d.jsx("p",{className:"text-gray-700 mt-4",children:d.jsx("strong",{children:"Contact Information:"})}),d.jsxs("ul",{className:"list-disc list-inside text-gray-700 mt-2 space-y-2",children:[d.jsx("li",{children:"Email: support@helpnet.com"}),d.jsx("li",{children:"Phone: +1 234 567 890"}),d.jsx("li",{children:"Live Chat: Available 24/7 through our website"})]}),d.jsx("p",{className:"text-gray-700 mt-4",children:"We're here to help with anything from account issues to questions about finding the right professional for your needs. Your satisfaction is our top priority."})]})]});function n2(){return d.jsx(lT,{children:d.jsxs(tT,{children:[d.jsx(fn,{path:"/",element:d.jsx(GM,{})}),d.jsx(fn,{path:"/Aboutus",element:d.jsx(e2,{})}),d.jsx(fn,{path:"/Help",element:d.jsx(t2,{})}),d.jsx(fn,{path:"/Bookings",element:d.jsx(ZM,{})}),d.jsx(fn,{path:"/Workernav",element:d.jsx(lC,{})}),d.jsx(fn,{path:"/Signupas",element:d.jsx(hT,{})}),d.jsx(fn,{path:"/workerSignin",element:d.jsx(YM,{})}),d.jsx(fn,{path:"/signin",element:d.jsx(KM,{})}),d.jsx(fn,{path:"/login",element:d.jsx(QM,{})}),d.jsx(fn,{path:"Container",element:d.jsx(aC,{})}),d.jsx(fn,{path:"/workers/:category",element:d.jsx(XM,{})})]})})}qd.createRoot(document.getElementById("root")).render(d.jsx(k0.StrictMode,{children:d.jsx(n2,{})}));
